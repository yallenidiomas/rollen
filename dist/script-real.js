const a0_0x12be64=a0_0x2ee9;(function(_0x4b3630,_0x5ab517){const _0x2732c5=a0_0x2ee9,_0x5c28ca=_0x4b3630();while(!![]){try{const _0x526769=parseInt(_0x2732c5(0x231))/0x1*(-parseInt(_0x2732c5(0x1e5))/0x2)+parseInt(_0x2732c5(0x2ba))/0x3*(parseInt(_0x2732c5(0x289))/0x4)+-parseInt(_0x2732c5(0x256))/0x5*(parseInt(_0x2732c5(0x184))/0x6)+parseInt(_0x2732c5(0x234))/0x7+-parseInt(_0x2732c5(0x21b))/0x8+-parseInt(_0x2732c5(0x21f))/0x9*(parseInt(_0x2732c5(0x159))/0xa)+parseInt(_0x2732c5(0x29c))/0xb;if(_0x526769===_0x5ab517)break;else _0x5c28ca['push'](_0x5c28ca['shift']());}catch(_0xb2c9a7){_0x5c28ca['push'](_0x5c28ca['shift']());}}}(a0_0x1318,0x1b02a));const AudioContext=window[a0_0x12be64(0x177)]||window['webkitAudioContext'],audioCtx=new AudioContext(),soundBuffers={},lastSoundTime={},MAX_VOICES=0x4;let activeVoices=0x0;const soundMap={'click':a0_0x12be64(0x2af),'touch':'./touch.mp3','hold':'./hold.mp3','shoot':a0_0x12be64(0x189),'start':'./start.mp3','crit':a0_0x12be64(0x165),'fumble':a0_0x12be64(0x1ea),'throw':a0_0x12be64(0x153),'col0':a0_0x12be64(0x168),'col1':'./collide2.mp3','col2':a0_0x12be64(0x2dc),'col3':a0_0x12be64(0x2bd),'col4':a0_0x12be64(0x15d)};async function preloadSounds(){const _0x2dec59=a0_0x12be64;for(const [_0x306502,_0x184912]of Object[_0x2dec59(0x1f2)](soundMap)){try{const _0x4a72f4=await fetch(_0x184912),_0x58f379=await _0x4a72f4[_0x2dec59(0x162)](),_0x16aee0=await audioCtx[_0x2dec59(0x291)](_0x58f379);soundBuffers[_0x306502]=_0x16aee0;}catch(_0x4f3217){console['warn'](_0x2dec59(0x19d)+_0x306502,_0x4f3217);}}}preloadSounds();function unlockAudio(){const _0x1399f9=a0_0x12be64;audioCtx[_0x1399f9(0x238)]===_0x1399f9(0x24e)&&audioCtx['resume']()[_0x1399f9(0x1b1)](()=>{const _0x53a887=_0x1399f9,_0x53862b=audioCtx[_0x53a887(0x143)](0x1,0x1,0x5622),_0x5666ac=audioCtx[_0x53a887(0x18c)]();_0x5666ac[_0x53a887(0x18b)]=_0x53862b,_0x5666ac['connect'](audioCtx[_0x53a887(0x211)]),_0x5666ac[_0x53a887(0x1a9)](0x0),console['log'](_0x53a887(0x248)),window[_0x53a887(0x22e)](_0x53a887(0x2bb),unlockAudio),window[_0x53a887(0x22e)](_0x53a887(0x206),unlockAudio);});}window['addEventListener'](a0_0x12be64(0x2bb),unlockAudio,{'passive':![]}),window[a0_0x12be64(0x24d)](a0_0x12be64(0x206),unlockAudio);function playSound(_0x389e6e,_0x349739=0x1){const _0x5a8a79=a0_0x12be64,_0x5a858c=localStorage[_0x5a8a79(0x24c)](_0x5a8a79(0x1bb))==='true';if(_0x5a858c)return;let _0x2912b6=_0x389e6e;if(_0x389e6e===_0x5a8a79(0x23d)){const _0xc006e4=Math[_0x5a8a79(0x2c5)](Math[_0x5a8a79(0x21d)]()*0x5);_0x2912b6=_0x5a8a79(0x296)+_0xc006e4;}if(!soundBuffers[_0x2912b6])return;if(activeVoices>=MAX_VOICES&&_0x389e6e===_0x5a8a79(0x23d))return;const _0x5a3493=audioCtx['createBufferSource']();_0x5a3493['buffer']=soundBuffers[_0x2912b6];const _0x471efb=audioCtx[_0x5a8a79(0x1ce)]();let _0x31ea29=_0x349739;if(_0x389e6e===_0x5a8a79(0x23d)){_0x31ea29=_0x349739+(Math['random']()*0.2-0.1);if(_0x31ea29>0x1)_0x31ea29=0x1;if(_0x31ea29<0.1)_0x31ea29=0.4;}_0x471efb[_0x5a8a79(0x2bf)]['value']=_0x31ea29,_0x5a3493[_0x5a8a79(0x1f3)](_0x471efb),_0x471efb[_0x5a8a79(0x1f3)](audioCtx['destination']),activeVoices++,_0x5a3493[_0x5a8a79(0x1a9)](0x0),_0x5a3493[_0x5a8a79(0x13d)]=()=>{activeVoices--;if(activeVoices<0x0)activeVoices=0x0;};}function playHoldSound(){const _0xa7a25a=a0_0x12be64;if(currentHoldSource||!soundBuffers[_0xa7a25a(0x1f0)])return;const _0xeb70ed=audioCtx[_0xa7a25a(0x18c)]();_0xeb70ed['buffer']=soundBuffers[_0xa7a25a(0x1f0)],_0xeb70ed[_0xa7a25a(0x290)]=!![],_0xeb70ed[_0xa7a25a(0x1a3)]=1.7,_0xeb70ed['loopEnd']=0x2;const _0x5eb457=audioCtx['createGain']();_0x5eb457[_0xa7a25a(0x2bf)][_0xa7a25a(0x1d3)]=0.5,_0xeb70ed[_0xa7a25a(0x1f3)](_0x5eb457),_0x5eb457[_0xa7a25a(0x1f3)](audioCtx['destination']),_0xeb70ed[_0xa7a25a(0x1a9)](0x0),currentHoldSource=_0xeb70ed;}function stopHoldSound(){if(currentHoldSource){try{currentHoldSource['stop']();}catch(_0x468c15){}currentHoldSource=null;}}const avatars={'master':a0_0x12be64(0x148),'monster':a0_0x12be64(0x195),'boss':a0_0x12be64(0x1cb),'familiar':a0_0x12be64(0x25a),'humanf':a0_0x12be64(0x28e),'humanm':a0_0x12be64(0x298),'bhumanm':'<img\x20src=\x22bhumanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','bhumanf':'<img\x20src=\x22bhumanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','dragonbornf':'<img\x20src=\x22dragonbornf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracona\x22>','dragonbornm':a0_0x12be64(0x2ae),'elfdrowf':'<img\x20src=\x22elfdrowf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20F\x22>','elfdrowm':'<img\x20src=\x22elfdrowm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20M\x22>','elfhighf':'<img\x20src=\x22elfhighf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfa\x22>','elfhighm':a0_0x12be64(0x2d7),'elfwoodf':a0_0x12be64(0x276),'elfwoodm':a0_0x12be64(0x141),'gnomef':'<img\x20src=\x22gnomef.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnoma\x22>','gnomem':a0_0x12be64(0x20d),'tieflingf':a0_0x12be64(0x213),'tieflingm':a0_0x12be64(0x13e),'halfelff':a0_0x12be64(0x180),'halfelfm':a0_0x12be64(0x254),'halforcf':a0_0x12be64(0x2b8),'halforcm':a0_0x12be64(0x14b),'aesimarm':a0_0x12be64(0x212),'aesimarf':a0_0x12be64(0x164),'goliathm':'<img\x20src=\x22goliathm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20M\x22>','goliathf':a0_0x12be64(0x294)},diceConfigs={0x4:{'color':0xef5350},0x6:{'color':0xffca28},0x8:{'color':0x66bb6a},0xa:{'color':0x42a5f5},0x64:{'color':0x42a5f5},0xc:{'color':0xab47bc},0x14:{'color':0xffffff}},diceTypes=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14],diceLayout=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14];function a0_0x1318(){const _0x4d409a=['Ver\x20Histórico','Condição','2aeqFRH','count-d','active','mode-adv','globalLogModal','./fumble.mp3','\x20<span\x20class=\x22dice-count\x22\x20id=\x22count-d','#ffb300','resume','name','setupModal','hold','function','entries','connect','Raça','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-equals\x22>=</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-total\x22\x20style=\x22color:','basics','preventDefault','type','resize','display','clientWidth','log','none','right','.dice-btn','charNameInput','advantage','sum','Círculo\x20','querySelector','--char-color','click','ondrop','VOLTAR\x20AO\x20JOGO','norm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rule-tag\x20','life','fillRect','<img\x20src=\x22gnomem.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnomo\x22>','devicePixelRatio','_blank','WebGLRenderer','destination','<img\x20src=\x22aesimarm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','<img\x20src=\x22tieflingf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20F\x22>','#7b1fa2','settingsMenu','title','Erro\x20loadData','cloneNode','Regra','bottom','471432AhbttZ','<div\x20class=\x22tab-avatar\x22>','random','Média:\x20','9afgJha','rollMode','top','mode-dis','\x22\x20style=\x22background:','add-char-tab','addColorStop','equipment','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isArray','toggle','map','addBody','stopped','touchend','removeEventListener','activeCharIndex','svg','205027qFFzUp','parentNode','velocity','891751OPuhXY','campaignNameInput','createElement','find','state','OctahedronGeometry','CanvasTexture','ContactMaterial','charCodeAt','collide','scale','rawD20','forEach','input','contact','PerspectiveCamera','https://apoia.se/rollenapp','modGrid','currentAvatarDisplay','NFD','Áudio\x20desbloqueado\x20para\x20iOS','Clock','charTabsContainer','Média:\x20-','getItem','addEventListener','suspended','characters','throw','appContainer','Subclasse','innerText','<img\x20src=\x22halfelfm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meio\x20Elfo\x22>','Básico','10YPuTqK','modifier','PointLight','div','<img\x20src=\x22familiar.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Familiar\x22>','<div\x20style=\x27text-align:center;\x20color:#5d4037;\x20margin-top:20px;\x27>Nenhum\x20conhecimento\x20encontrado...</div>','DESVANTAGEM','setProperty','style','closest','Talento','Plane','rulesList','rgba(255,255,255,0)','\x20(Mod)','Material','roll-entry','particles','env','Aventura','addContactMaterial','flex','trim','Rollen:\x20Finalizando\x20carregamento...','species','dataTransfer','log-total','match','quaternion','aspect','crit-success-flash','normalize','<img\x20src=\x22elfwoodf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20F\x22>','ondragover','contextmenu','SphereGeometry','position','</span><span\x20class=\x22log-formula\x22>','className','<li\x20style=\x27text-align:center;\x20opacity:0.5;\x20padding:20px;\x27>Nenhuma\x20rolagem\x20ainda...</li>','#ffffff','ruleSearch','contains','charColorInput','charged','formula','2-digit','classList','meta','</div>','Rollen:\x20O\x20carregamento\x20demorou\x20demais.\x20Forçando\x20entrada.','16RrFrmC','mode-norm','left','ATENÇÃO:\x20Isso\x20apagará\x20permanentemente\x20todos\x20os\x20seus\x20heróis\x20e\x20a\x20campanha\x20atual.\x20Deseja\x20continuar?','MeshPhysicalMaterial','<img\x20src=\x22humanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','Traços\x20Principais','loop','decodeAudioData','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','condition','<img\x20src=\x22goliathf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20F\x22>','getData','col','keyCode','<img\x20src=\x22humanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','mousedown','modDisplay','rgba(','3807782eNiRQI','button','Histórico\x20limpo!','statUnluckyVal','disabled','disadvantage','renderOrder','ERRO:\x20Adicione\x20\x27const\x20lastSoundTime\x20=\x20{};\x27\x20no\x20topo\x20do\x20script!','crit-fail-flash','replace','setHex','innerHTML','splash-hidden','val','char-tab\x20','remove','touch','splash-screen','<img\x20src=\x22dragonbornm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracono\x22>','./click.mp3','color','keys','.avatar-option','select','NORMAL','charColor','</span></div><div\x20class=\x22log-result-box\x22><span\x20class=\x22','Magia','<img\x20src=\x22halforcf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20F\x22>','SpriteMaterial','60783PAsHNv','touchstart','shiftKey','./collide4.mp3','filter','gain','IcosahedronGeometry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-formula\x22>','class','updateProjectionMatrix','lookAt','floor','nat1-effect','timestamp','shapes','rollBtn','add','reverse','Box','setSize','mod-btn','modPickerModal','width','avatarGrid','TetrahedronGeometry','solver','set','parentClass','count','<img\x20src=\x22elfhighm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfo\x22>','bold\x20110px\x20Arial','Item','rollen_save_v1','push','./collide3.mp3','castShadow','<div\x20style=\x22font-size:0.75rem;\x20color:#d84315;\x20font-style:italic;\x20margin-bottom:8px;\x20border-bottom:1px\x20dashed\x20rgba(0,0,0,0.1);\x20padding-bottom:4px;\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Erro\x20ao\x20gerar\x20dado:','fillStyle','avatar-option\x20','PCFSoftShadowMap','Ambiente','gravity','onended','<img\x20src=\x22tieflingm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20M\x22>','clearBtn','opacity','<img\x20src=\x22elfwoodm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20M\x22>','text/plain','createBuffer','text','rgba(0,0,0,0.8)','getDelta','.cat-btn','<img\x20src=\x22master.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Mestre\x22>','AmbientLight','removeBody','<img\x20src=\x22halforcm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20M\x22>','</span><span\x20class=\x22log-time\x22>','angularVelocity','history','shadowColor','diceSelector','modInput','ignored','./throw.mp3','globalLogList','height','now','copy','mesh','279230kYzAaN','DirectionalLight','canvasContainer','Save\x20corrompido,\x20resetando.','./collide5.mp3','btn-d','draggable','master','tag-','arrayBuffer','open','<img\x20src=\x22aesimarf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','./crit.mp3','startCampaignBtn','Zerar\x20histórico?','./collide1.mp3','textBaseline','length','mouseup','addCharBtn','Math','canvas','splice','toLocaleTimeString','obj','dice-btn','setData','cancelable','normal','</span>','AudioContext','localeCompare','spell','Sprite','Truque','includes','header-','Truques\x20(Nível\x200)','parse','<img\x20src=\x22halfelff.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meia\x20Elfa\x22>','degToRad','onkeydown','dice-pair-wrapper','456258VGRgWq','historyPanel','Erro\x20ao\x20salvar','resultTotal','\x20log-crit-fail','./shoot.mp3','material','buffer','createBufferSource','historyList','Erro\x20ao\x20adicionar:','onclick','0.5','fill','</div><span\x20style=\x22color:','charName','fillText','<img\x20src=\x22monster.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Monstro\x22>','turnCount','total','lvl-','undefined','shake-effect','campaign','ondragstart','Erro\x20carregando\x20som:\x20','global-log-entry','</span></div>','querySelectorAll','category','<div\x20class=\x22preview-avatar\x22\x20style=\x22border-color:','loopStart','avatar','Vec3','charListPreview','createRadialGradient','statLuckyName','start',',0.6)','<span\x20style=\x22text-decoration:\x20line-through;\x20opacity:\x200.5;\x22>','rule-card','slice','\x20(D','enabled','shadowMap','then','Mesh','getImpactVelocityAlongNormal','brightness(','DOMContentLoaded','clientHeight','toggleHistoryBtn','error','borderColor','min','mute','clear','toLowerCase','wakeUp','compendiumModal','statUnluckyName','render','.color-picker-wrapper','multiplyScalar','mainSprite','body','ctrlKey','World','fumble','shoot','documentElement','<img\x20src=\x22boss.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Chefe\x22>','</div>\x20','target','createGain','feat','DodecahedronGeometry','setFromAxisAngle','selected','value','Body','Cylinder','powerBar','appendChild','sort','is-pressing','success','BoxGeometry','max','globalLog','fail','.char-tab','Ação','combat','getElementById'];a0_0x1318=function(){return _0x4d409a;};return a0_0x1318();}let campaign={'name':'Aventura','characters':[],'globalLog':[]},activeCharIndex=0x0,selectedAvatarKey='master',diceObjects=[],magicEffects=[],hasCritHappened=![],currentSpecialSound=null,world,scene,camera,renderer,isRolling=![],pressTimer=null,sparkleTexture=null,walls={'left':null,'right':null,'top':null,'bottom':null},isGameRunning=![],clock=new THREE[(a0_0x12be64(0x249))](),rollMode=a0_0x12be64(0x175),lastCollisionTime=0x0,matDice,matGround,chargeAnimId=null,lastFrameTime=0x0,pressPower=0x0,isPressing=![],currentHoldSource=null;document[a0_0x12be64(0x24d)](a0_0x12be64(0x1b5),()=>{const _0x2cb8f7=a0_0x12be64;try{loadData();}catch(_0x40b4bb){console[_0x2cb8f7(0x1b8)](_0x2cb8f7(0x15c),_0x40b4bb),localStorage[_0x2cb8f7(0x1bc)]();}renderDiceButtons(),renderAvatarSelection(),setupEventListeners(),setupColorPicker(),setupModPicker();try{initPhysicsAndGraphics(),animate();}catch(_0x41e470){console[_0x2cb8f7(0x1b8)]('Erro\x203D:',_0x41e470);}});function saveData(){const _0x270489=a0_0x12be64;try{const _0x515a49=document[_0x270489(0x1e2)](_0x270489(0x151));_0x515a49&&campaign[_0x270489(0x24f)][activeCharIndex]&&(campaign['characters'][activeCharIndex]['modifier']=parseInt(_0x515a49[_0x270489(0x1d3)])||0x0);const _0x26a558={'campaign':campaign,'activeCharIndex':activeCharIndex,'isGameRunning':isGameRunning};localStorage['setItem'](_0x270489(0x2da),JSON['stringify'](_0x26a558));}catch(_0x42b239){console[_0x270489(0x1b8)](_0x270489(0x186),_0x42b239);}}function loadData(){const _0x5d0889=a0_0x12be64,_0x395797=localStorage[_0x5d0889(0x24c)](_0x5d0889(0x2da));if(_0x395797)try{const _0x3f6547=JSON[_0x5d0889(0x17f)](_0x395797);if(_0x3f6547['campaign']){campaign=_0x3f6547[_0x5d0889(0x19b)];if(!Array[_0x5d0889(0x228)](campaign['characters']))campaign[_0x5d0889(0x24f)]=[];if(!Array[_0x5d0889(0x228)](campaign[_0x5d0889(0x1dd)]))campaign['globalLog']=[];activeCharIndex=_0x3f6547[_0x5d0889(0x22f)]||0x0,isGameRunning=_0x3f6547['isGameRunning']||![];if(isGameRunning&&campaign[_0x5d0889(0x24f)]['length']>0x0){document[_0x5d0889(0x1e2)]('setupModal')[_0x5d0889(0x25e)][_0x5d0889(0x1fa)]=_0x5d0889(0x1fd),document['getElementById'](_0x5d0889(0x251))['style']['display']=_0x5d0889(0x26b),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs();const _0x467c6e=activeCharIndex;activeCharIndex=-0x1,setTimeout(()=>switchTab(_0x467c6e),0x64);}else document[_0x5d0889(0x1e2)](_0x5d0889(0x1ef))['style']['display']=_0x5d0889(0x26b),updateModalCharList();}}catch(_0x2f7f74){console['error'](_0x5d0889(0x217),_0x2f7f74);}}function updateModalCharList(){const _0x2ce2c8=a0_0x12be64,_0x3fdbc5=document[_0x2ce2c8(0x1e2)](_0x2ce2c8(0x1a6));if(!_0x3fdbc5)return;_0x3fdbc5['innerHTML']='';if(!campaign[_0x2ce2c8(0x24f)])campaign[_0x2ce2c8(0x24f)]=[];campaign[_0x2ce2c8(0x24f)]['forEach'](_0x3c94f3=>{const _0x23aaea=_0x2ce2c8,_0x4eb3e8=document[_0x23aaea(0x236)]('li');_0x4eb3e8[_0x23aaea(0x2a7)]=_0x23aaea(0x1a2)+_0x3c94f3[_0x23aaea(0x2b0)]+'\x22>'+_0x3c94f3[_0x23aaea(0x1a4)]+_0x23aaea(0x192)+_0x3c94f3['color']+';\x20font-weight:bold;\x22>'+_0x3c94f3[_0x23aaea(0x1ee)]+'</span>',_0x3fdbc5[_0x23aaea(0x1d7)](_0x4eb3e8);});const _0x42ad8a=document[_0x2ce2c8(0x1e2)](_0x2ce2c8(0x166));if(_0x42ad8a)_0x42ad8a[_0x2ce2c8(0x2a0)]=campaign[_0x2ce2c8(0x24f)][_0x2ce2c8(0x16a)]===0x0;}function renderDiceButtons(){const _0x2389fd=a0_0x12be64,_0x694e08=document[_0x2389fd(0x1e2)](_0x2389fd(0x150));if(!_0x694e08)return;_0x694e08[_0x2389fd(0x2a7)]='',diceTypes[_0x2389fd(0x240)](_0x421ffa=>{const _0x137243=_0x2389fd;if(Array['isArray'](_0x421ffa)){const _0x3fac92=document['createElement'](_0x137243(0x259));_0x3fac92['className']=_0x137243(0x183),_0x421ffa[_0x137243(0x240)](_0x255df5=>{const _0x49616e=_0x137243,_0x203ccd=createDiceBtn(_0x255df5);_0x3fac92[_0x49616e(0x1d7)](_0x203ccd);}),_0x694e08['appendChild'](_0x3fac92);}else _0x694e08[_0x137243(0x1d7)](createDiceBtn(_0x421ffa));});}function createDiceBtn(_0x39c0a1){const _0x171211=a0_0x12be64,_0x2affb2=document[_0x171211(0x236)](_0x171211(0x29d));_0x2affb2[_0x171211(0x27c)]=_0x171211(0x172),_0x2affb2['id']='btn-d'+_0x39c0a1;const _0x3b411e=_0x39c0a1===0x64?'D%':'D'+_0x39c0a1;return _0x2affb2['innerHTML']=_0x3b411e+_0x171211(0x1eb)+_0x39c0a1+'\x22>0</span>',_0x2affb2[_0x171211(0x18f)]=()=>addDice(_0x39c0a1),_0x2affb2;}function renderAvatarSelection(){const _0x3e11cf=a0_0x12be64,_0x862427=document[_0x3e11cf(0x1e2)](_0x3e11cf(0x2d1));if(!_0x862427)return;_0x862427[_0x3e11cf(0x2a7)]='',Object[_0x3e11cf(0x2b1)](avatars)['forEach'](_0x5a42e4=>{const _0x3de0c6=_0x3e11cf,_0x4a9eda=document[_0x3de0c6(0x236)](_0x3de0c6(0x259));_0x4a9eda[_0x3de0c6(0x27c)]=_0x3de0c6(0x2e2)+(_0x5a42e4===selectedAvatarKey?'selected':''),_0x4a9eda[_0x3de0c6(0x2a7)]=avatars[_0x5a42e4],_0x4a9eda[_0x3de0c6(0x18f)]=()=>{const _0x13e63b=_0x3de0c6;document[_0x13e63b(0x1a0)]('.avatar-option')['forEach'](_0x76a5db=>_0x76a5db[_0x13e63b(0x285)][_0x13e63b(0x2ab)](_0x13e63b(0x1d2))),_0x4a9eda[_0x13e63b(0x285)][_0x13e63b(0x2ca)](_0x13e63b(0x1d2)),selectedAvatarKey=_0x5a42e4;},_0x862427[_0x3de0c6(0x1d7)](_0x4a9eda);});}function setupColorPicker(){const _0x27c152=a0_0x12be64,_0x2891aa=document[_0x27c152(0x1e2)](_0x27c152(0x281)),_0x14c56d=document[_0x27c152(0x204)](_0x27c152(0x1c2));if(_0x2891aa&&_0x14c56d){const _0x11c019=()=>{const _0x517431=_0x27c152;_0x14c56d[_0x517431(0x25e)]['backgroundColor']=_0x2891aa['value'];};_0x2891aa[_0x27c152(0x24d)](_0x27c152(0x241),_0x11c019),_0x11c019();}}function updateDiceButtonUI(_0x3910d5,_0x1dc24e,_0x5e6b82){const _0x572438=a0_0x12be64,_0x938cef=document[_0x572438(0x1e2)](_0x572438(0x1e6)+_0x3910d5),_0x573f65=document[_0x572438(0x1e2)](_0x572438(0x15e)+_0x3910d5);if(!_0x938cef||!_0x573f65)return;if(_0x5e6b82){_0x938cef['innerText']='0',_0x938cef[_0x572438(0x25e)]['display']=_0x572438(0x1fd),_0x573f65[_0x572438(0x285)][_0x572438(0x2ab)](_0x572438(0x1d2));return;}let _0x1c577e=parseInt(_0x938cef['innerText'])||0x0;_0x1c577e+=_0x1dc24e,_0x938cef[_0x572438(0x253)]=_0x1c577e,_0x938cef[_0x572438(0x25e)]['display']=_0x1c577e>0x0?'flex':'none';if(_0x1c577e>0x0)_0x573f65[_0x572438(0x285)]['add']('selected');}function updateResultDisplay(_0x50a629,_0x52501f){const _0x259a60=a0_0x12be64,_0x296a75=document['getElementById']('resultFormula'),_0x2035ae=document['getElementById']('resultTotal');if(_0x296a75)_0x296a75[_0x259a60(0x2a7)]=_0x50a629;if(_0x2035ae){_0x2035ae[_0x259a60(0x253)]=_0x52501f;const _0x512170=campaign[_0x259a60(0x24f)][activeCharIndex];if(_0x512170)_0x2035ae['style'][_0x259a60(0x2b0)]=_0x259a60(0x27e);}}function openAddCharModal(){const _0x452903=a0_0x12be64,_0x13c4ad=document['getElementById'](_0x452903(0x1ef)),_0x1023f6=document[_0x452903(0x1e2)](_0x452903(0x166));updateModalCharList(),isGameRunning?(_0x1023f6[_0x452903(0x253)]=_0x452903(0x208),_0x1023f6[_0x452903(0x2a0)]=![]):(_0x1023f6[_0x452903(0x253)]='INICIAR\x20JORNADA',_0x1023f6[_0x452903(0x2a0)]=campaign[_0x452903(0x24f)][_0x452903(0x16a)]===0x0),_0x13c4ad[_0x452903(0x25e)][_0x452903(0x1fa)]=_0x452903(0x26b),playSound('click');}function addCharacterPreview(){const _0x5cc57f=a0_0x12be64;try{const _0x23e020=document[_0x5cc57f(0x1e2)](_0x5cc57f(0x200)),_0x520449=document[_0x5cc57f(0x1e2)](_0x5cc57f(0x281));if(!_0x23e020||!_0x520449)return;const _0x483079=_0x23e020['value']['trim'](),_0xbd9fbd=_0x520449['value'];if(!_0x483079)return;const _0x538f27={'name':_0x483079,'color':_0xbd9fbd,'avatar':avatars[selectedAvatarKey]||avatars[_0x5cc57f(0x160)],'turnCount':0x1,'history':[],'modifier':0x0,'rollMode':'normal'};if(!campaign[_0x5cc57f(0x24f)])campaign['characters']=[];campaign['characters'][_0x5cc57f(0x2db)](_0x538f27),saveData(),updateModalCharList(),_0x23e020[_0x5cc57f(0x1d3)]='',selectedAvatarKey=_0x5cc57f(0x160),renderAvatarSelection(),playSound(_0x5cc57f(0x206));}catch(_0x1c0b75){console[_0x5cc57f(0x1b8)](_0x5cc57f(0x18e),_0x1c0b75),alert('Erro\x20ao\x20adicionar\x20personagem.\x20Tente\x20\x27Reiniciar\x20Jornada\x27\x20nas\x20configurações.');}}function startCampaign(){const _0x5f25af=a0_0x12be64;campaign[_0x5f25af(0x1ee)]=document[_0x5f25af(0x1e2)](_0x5f25af(0x235))[_0x5f25af(0x1d3)]||_0x5f25af(0x269),isGameRunning=!![],saveData(),document['getElementById'](_0x5f25af(0x1ef))[_0x5f25af(0x25e)][_0x5f25af(0x1fa)]='none',document[_0x5f25af(0x1e2)](_0x5f25af(0x251))['style'][_0x5f25af(0x1fa)]='flex',setTimeout(()=>refreshCanvasSize(),0x32),renderTabs(),activeCharIndex=-0x1,setTimeout(()=>{const _0x4bb167=_0x5f25af;if(campaign[_0x4bb167(0x24f)][_0x4bb167(0x16a)]>0x0)switchTab(0x0);},0x64);}function renderTabs(){const _0x3ba4af=a0_0x12be64,_0x3793a1=document[_0x3ba4af(0x1e2)](_0x3ba4af(0x24a));if(!_0x3793a1)return;_0x3793a1[_0x3ba4af(0x2a7)]='';if(!campaign[_0x3ba4af(0x24f)])campaign[_0x3ba4af(0x24f)]=[];campaign[_0x3ba4af(0x24f)][_0x3ba4af(0x240)]((_0x63c64b,_0x15eae6)=>{const _0x22f1f7=_0x3ba4af,_0x13125e=document[_0x22f1f7(0x236)](_0x22f1f7(0x259));_0x13125e[_0x22f1f7(0x27c)]=_0x22f1f7(0x2aa)+(_0x15eae6===activeCharIndex?'active':''),_0x13125e[_0x22f1f7(0x2a7)]=_0x22f1f7(0x21c)+_0x63c64b['avatar']+_0x22f1f7(0x1cc)+_0x63c64b[_0x22f1f7(0x1ee)],_0x13125e[_0x22f1f7(0x25e)][_0x22f1f7(0x1b9)]=_0x63c64b['color'];if(_0x15eae6===activeCharIndex){_0x13125e[_0x22f1f7(0x25e)][_0x22f1f7(0x2b0)]=_0x63c64b[_0x22f1f7(0x2b0)];const _0x2e4878=_0x13125e[_0x22f1f7(0x204)](_0x22f1f7(0x230));if(_0x2e4878)_0x2e4878[_0x22f1f7(0x25e)][_0x22f1f7(0x191)]=_0x63c64b[_0x22f1f7(0x2b0)];}_0x13125e[_0x22f1f7(0x18f)]=()=>switchTab(_0x15eae6),_0x13125e[_0x22f1f7(0x15f)]=!![],_0x13125e[_0x22f1f7(0x19c)]=_0x330dee=>{const _0x4018eb=_0x22f1f7;_0x330dee[_0x4018eb(0x26f)][_0x4018eb(0x173)](_0x4018eb(0x142),_0x15eae6),_0x13125e[_0x4018eb(0x25e)][_0x4018eb(0x140)]=_0x4018eb(0x190);},_0x13125e['ondragend']=()=>{const _0x277bde=_0x22f1f7;_0x13125e[_0x277bde(0x25e)][_0x277bde(0x140)]='1';},_0x13125e[_0x22f1f7(0x277)]=_0x1f6b7a=>{_0x1f6b7a['preventDefault']();},_0x13125e[_0x22f1f7(0x207)]=_0x1a90f4=>{const _0x4f6daf=_0x22f1f7;_0x1a90f4['preventDefault']();const _0x450442=parseInt(_0x1a90f4['dataTransfer'][_0x4f6daf(0x295)](_0x4f6daf(0x142))),_0x231b97=_0x15eae6;if(_0x450442!==_0x231b97){const _0x50b109=campaign[_0x4f6daf(0x24f)][_0x4f6daf(0x16f)](_0x450442,0x1)[0x0];campaign[_0x4f6daf(0x24f)][_0x4f6daf(0x16f)](_0x231b97,0x0,_0x50b109);if(activeCharIndex===_0x450442)activeCharIndex=_0x231b97;else{if(activeCharIndex>_0x450442&&activeCharIndex<=_0x231b97)activeCharIndex--;else{if(activeCharIndex<_0x450442&&activeCharIndex>=_0x231b97)activeCharIndex++;}}saveData(),renderTabs();}},_0x3793a1['appendChild'](_0x13125e);});const _0x4b61ac=document[_0x3ba4af(0x236)](_0x3ba4af(0x29d));_0x4b61ac['className']=_0x3ba4af(0x224),_0x4b61ac['innerText']='+',_0x4b61ac[_0x3ba4af(0x18f)]=openAddCharModal,_0x3793a1['appendChild'](_0x4b61ac);}function switchTab(_0x54c98b){const _0x3c9baf=a0_0x12be64;if(_0x54c98b<0x0||_0x54c98b>=campaign[_0x3c9baf(0x24f)]['length'])return;activeCharIndex=_0x54c98b;const _0x56bc98=campaign[_0x3c9baf(0x24f)][activeCharIndex],_0x31bf1e=_0x56bc98['color']||_0x3c9baf(0x1ec);document[_0x3c9baf(0x1ca)][_0x3c9baf(0x25e)][_0x3c9baf(0x25d)](_0x3c9baf(0x205),_0x31bf1e);const _0x524641=document[_0x3c9baf(0x1e2)](_0x3c9baf(0x246));if(_0x524641){const _0x26a226=_0x56bc98[_0x3c9baf(0x1a4)]||avatars[_0x3c9baf(0x160)];_0x524641['innerHTML']=_0x26a226,_0x524641[_0x3c9baf(0x25e)]['borderColor']=_0x31bf1e;const _0x1a800c=_0x524641[_0x3c9baf(0x204)](_0x3c9baf(0x230));if(_0x1a800c)_0x1a800c[_0x3c9baf(0x25e)]['fill']=_0x31bf1e;}const _0x56a83d=document[_0x3c9baf(0x1e2)](_0x3c9baf(0x187));if(_0x56a83d)_0x56a83d[_0x3c9baf(0x25e)][_0x3c9baf(0x2b0)]=_0x31bf1e;clearDice();const _0xa3605e=document[_0x3c9baf(0x1e2)](_0x3c9baf(0x151)),_0xb156de=document[_0x3c9baf(0x1e2)](_0x3c9baf(0x29a));if(_0xa3605e)_0xa3605e[_0x3c9baf(0x1d3)]=_0x56bc98[_0x3c9baf(0x257)]||0x0;if(_0xb156de)_0xb156de[_0x3c9baf(0x253)]=(_0x56bc98[_0x3c9baf(0x257)]>0x0?'+':'')+(_0x56bc98[_0x3c9baf(0x257)]||0x0);setRollMode(_0x56bc98[_0x3c9baf(0x220)]||_0x3c9baf(0x175)),renderTabs(),updateHistoryUI(),saveData();}function toggleSettings(){const _0xc5049e=a0_0x12be64,_0x586817=document[_0xc5049e(0x1e2)](_0xc5049e(0x215));_0x586817[_0xc5049e(0x25e)]['display']=_0x586817[_0xc5049e(0x25e)][_0xc5049e(0x1fa)]===_0xc5049e(0x1fd)?'flex':_0xc5049e(0x1fd),playSound(_0xc5049e(0x206));}function resetJourney(){const _0x545460=a0_0x12be64;confirm(_0x545460(0x28c))&&(localStorage['clear'](),campaign={'name':_0x545460(0x269),'characters':[],'globalLog':[]},isGameRunning=![],location['reload']());}function resetCampaignHistory(){const _0x108a10=a0_0x12be64;confirm(_0x108a10(0x167))&&(campaign['characters'][_0x108a10(0x240)](_0x38358f=>{const _0x1f23f4=_0x108a10;_0x38358f[_0x1f23f4(0x14e)]=[],_0x38358f['turnCount']=0x1;}),campaign['globalLog']=[],updateHistoryUI(),toggleSettings(),saveData(),alert(_0x108a10(0x29e))),playSound(_0x108a10(0x206));}function initPhysicsAndGraphics(){const _0x1187f1=a0_0x12be64,_0x53cf49=document['getElementById']('canvasContainer');if(!_0x53cf49)return;scene=new THREE['Scene']();const _0x202666=new THREE[(_0x1187f1(0x149))](0xffffff,0.5);scene['add'](_0x202666);const _0x142e8b=new THREE[(_0x1187f1(0x15a))](0xffffff,0.8);_0x142e8b[_0x1187f1(0x27a)][_0x1187f1(0x2d4)](0x5,0x14,0x5),_0x142e8b[_0x1187f1(0x2dd)]=!![],scene[_0x1187f1(0x2ca)](_0x142e8b);const _0x2b7247=new THREE[(_0x1187f1(0x258))](0xaaccff,0.3);_0x2b7247['position']['set'](-0xa,0x5,-0xa),scene['add'](_0x2b7247),camera=new THREE[(_0x1187f1(0x243))](0x2d,0x1,0.1,0x64),camera[_0x1187f1(0x27a)][_0x1187f1(0x2d4)](0x0,0x12,0x0),camera[_0x1187f1(0x2c4)](0x0,0x0,0x0),renderer=new THREE[(_0x1187f1(0x210))]({'alpha':!![],'antialias':!![]}),renderer[_0x1187f1(0x1b0)][_0x1187f1(0x1af)]=!![],renderer[_0x1187f1(0x1b0)][_0x1187f1(0x1f8)]=THREE[_0x1187f1(0x2e3)],_0x53cf49[_0x1187f1(0x1d7)](renderer['domElement']),sparkleTexture=createSparkleTexture(),world=new CANNON[(_0x1187f1(0x1c7))](),world[_0x1187f1(0x13c)]['set'](0x0,-0x28,0x0),world['broadphase']=new CANNON['NaiveBroadphase'](),world[_0x1187f1(0x2d3)]['iterations']=0x14,matGround=new CANNON[(_0x1187f1(0x265))](),matDice=new CANNON[(_0x1187f1(0x265))](),world[_0x1187f1(0x26a)](new CANNON[(_0x1187f1(0x23b))](matGround,matDice,{'friction':0.2,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3})),world['addContactMaterial'](new CANNON[(_0x1187f1(0x23b))](matDice,matDice,{'friction':0.1,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3}));const _0x5165be=new CANNON[(_0x1187f1(0x1d4))]({'mass':0x0,'shape':new CANNON[(_0x1187f1(0x261))](),'material':matGround});_0x5165be[_0x1187f1(0x272)][_0x1187f1(0x1d1)](new CANNON[(_0x1187f1(0x1a5))](0x1,0x0,0x0),-Math['PI']/0x2),world[_0x1187f1(0x22b)](_0x5165be),walls[_0x1187f1(0x28b)]=createWallBody(),walls[_0x1187f1(0x1fe)]=createWallBody(),walls[_0x1187f1(0x221)]=createWallBody(),walls[_0x1187f1(0x21a)]=createWallBody();}function createWallBody(){const _0x485b1f=a0_0x12be64,_0x21ca95=new CANNON[(_0x485b1f(0x1d4))]({'mass':0x0,'shape':new CANNON[(_0x485b1f(0x2cc))](new CANNON['Vec3'](0x1,0xa,0x14))});return world['addBody'](_0x21ca95),_0x21ca95;}function updateWallPositions(){const _0x3a5035=a0_0x12be64;if(!camera||!renderer)return;const _0x4f35ee=camera[_0x3a5035(0x27a)]['y'],_0x22dfa2=THREE[_0x3a5035(0x16d)][_0x3a5035(0x181)](camera['fov']),_0x3741c4=0x2*Math['tan'](_0x22dfa2/0x2)*_0x4f35ee,_0x52a3ca=_0x3741c4*camera[_0x3a5035(0x273)],_0x173c91=0.9,_0x151bd1=_0x52a3ca/0x2*_0x173c91,_0x2b9d32=_0x3741c4/0x2*_0x173c91;walls[_0x3a5035(0x28b)]['position'][_0x3a5035(0x2d4)](-_0x151bd1-0x1,0x0,0x0),walls[_0x3a5035(0x28b)][_0x3a5035(0x2c8)][0x0]=new CANNON[(_0x3a5035(0x2cc))](new CANNON[(_0x3a5035(0x1a5))](0x1,0xa,_0x2b9d32*0x2)),walls['right'][_0x3a5035(0x27a)][_0x3a5035(0x2d4)](_0x151bd1+0x1,0x0,0x0),walls[_0x3a5035(0x1fe)][_0x3a5035(0x2c8)][0x0]=new CANNON[(_0x3a5035(0x2cc))](new CANNON[(_0x3a5035(0x1a5))](0x1,0xa,_0x2b9d32*0x2)),walls[_0x3a5035(0x221)][_0x3a5035(0x27a)][_0x3a5035(0x2d4)](0x0,0x0,-_0x2b9d32-0x1),walls[_0x3a5035(0x221)][_0x3a5035(0x2c8)][0x0]=new CANNON['Box'](new CANNON[(_0x3a5035(0x1a5))](_0x151bd1*0x2,0xa,0x1)),walls['bottom'][_0x3a5035(0x27a)][_0x3a5035(0x2d4)](0x0,0x0,_0x2b9d32+0x1),walls[_0x3a5035(0x21a)][_0x3a5035(0x2c8)][0x0]=new CANNON[(_0x3a5035(0x2cc))](new CANNON[(_0x3a5035(0x1a5))](_0x151bd1*0x2,0xa,0x1));}function refreshCanvasSize(){const _0x4ac673=a0_0x12be64,_0x330cc4=document[_0x4ac673(0x1e2)](_0x4ac673(0x15b));if(_0x330cc4&&camera&&renderer){const _0x2e3e03=_0x330cc4[_0x4ac673(0x1fb)],_0x4fea27=_0x330cc4[_0x4ac673(0x1b6)];renderer[_0x4ac673(0x2cd)](_0x2e3e03,_0x4fea27),renderer['setPixelRatio'](Math[_0x4ac673(0x1ba)](window[_0x4ac673(0x20e)],1.5)),camera[_0x4ac673(0x273)]=_0x2e3e03/_0x4fea27,camera[_0x4ac673(0x2c3)]();if(typeof updateWallPositions===_0x4ac673(0x1f1))updateWallPositions();}}function createDiceGeometry(_0x233608,_0x51a2e2){const _0x2d47cd=a0_0x12be64,_0x1bd939=_0x51a2e2;let _0x5cc5ee,_0x191dd1,_0x3a533b=0.5;switch(_0x233608){case 0x4:_0x5cc5ee=new THREE[(_0x2d47cd(0x2d2))](_0x1bd939),_0x191dd1=new CANNON['Box'](new CANNON['Vec3'](_0x1bd939*0.75,_0x1bd939*0.75,_0x1bd939*0.75));break;case 0x6:_0x5cc5ee=new THREE[(_0x2d47cd(0x1db))](_0x1bd939,_0x1bd939,_0x1bd939),_0x191dd1=new CANNON[(_0x2d47cd(0x2cc))](new CANNON[(_0x2d47cd(0x1a5))](_0x1bd939/0x2,_0x1bd939/0x2,_0x1bd939/0x2));break;case 0x8:_0x5cc5ee=new THREE[(_0x2d47cd(0x239))](_0x1bd939),_0x191dd1=new CANNON['Box'](new CANNON[(_0x2d47cd(0x1a5))](_0x1bd939*0.7,_0x1bd939*0.7,_0x1bd939*0.7));break;case 0xa:case 0x64:_0x5cc5ee=new THREE[(_0x2d47cd(0x279))](_0x1bd939,0x5,0x2),_0x5cc5ee[_0x2d47cd(0x23e)](0x1,1.1,0x1),_0x191dd1=new CANNON[(_0x2d47cd(0x1d5))](0.1,_0x1bd939*0x1,_0x1bd939*1.1,0x5),_0x3a533b=0.4;break;case 0xc:_0x5cc5ee=new THREE[(_0x2d47cd(0x1d0))](_0x1bd939),_0x191dd1=new CANNON[(_0x2d47cd(0x2cc))](new CANNON[(_0x2d47cd(0x1a5))](_0x1bd939*0.85,_0x1bd939*0.85,_0x1bd939*0.85)),_0x3a533b=0.6;break;case 0x14:_0x5cc5ee=new THREE[(_0x2d47cd(0x2c0))](_0x1bd939),_0x191dd1=new CANNON[(_0x2d47cd(0x2cc))](new CANNON['Vec3'](_0x1bd939*0.8,_0x1bd939*0.8,_0x1bd939*0.8)),_0x3a533b=0.6;break;default:_0x5cc5ee=new THREE[(_0x2d47cd(0x1db))](_0x1bd939,_0x1bd939,_0x1bd939),_0x191dd1=new CANNON[(_0x2d47cd(0x2cc))](new CANNON[(_0x2d47cd(0x1a5))](_0x1bd939/0x2,_0x1bd939/0x2,_0x1bd939/0x2));}return{'geometry':_0x5cc5ee,'shape':_0x191dd1,'angularDamping':_0x3a533b};}function addDice(_0x5953f1){const _0xf8d1a3=a0_0x12be64;if(!scene)return;const _0x5d7f95=campaign[_0xf8d1a3(0x24f)][activeCharIndex],_0x1b68eb=_0x5d7f95?_0x5d7f95[_0xf8d1a3(0x2b0)]:diceConfigs[_0x5953f1][_0xf8d1a3(0x2b0)];try{const {geometry:_0x5f0379,shape:_0x15ffed,angularDamping:_0x3e0d4d}=createDiceGeometry(_0x5953f1,1.8),_0x28d7c9=new THREE[(_0xf8d1a3(0x28d))]({'color':_0x1b68eb,'metalness':0.1,'roughness':0.2,'clearcoat':0x1,'flatShading':!![]}),_0x209c69=new THREE[(_0xf8d1a3(0x1b2))](_0x5f0379,_0x28d7c9);_0x209c69[_0xf8d1a3(0x2dd)]=!![],scene[_0xf8d1a3(0x2ca)](_0x209c69);const _0xdf283c=new CANNON[(_0xf8d1a3(0x1d4))]({'mass':0x5,'shape':_0x15ffed,'linearDamping':0.5,'angularDamping':_0x3e0d4d,'material':matDice});_0xdf283c[_0xf8d1a3(0x27a)][_0xf8d1a3(0x2d4)]((Math[_0xf8d1a3(0x21d)]()-0.5)*0x8,0xe,(Math[_0xf8d1a3(0x21d)]()-0.5)*0x8),_0xdf283c[_0xf8d1a3(0x272)][_0xf8d1a3(0x2d4)](Math[_0xf8d1a3(0x21d)](),Math[_0xf8d1a3(0x21d)](),Math[_0xf8d1a3(0x21d)](),Math[_0xf8d1a3(0x21d)]()),_0xdf283c['angularVelocity'][_0xf8d1a3(0x2d4)](Math[_0xf8d1a3(0x21d)]()*0xa,Math[_0xf8d1a3(0x21d)]()*0xa,Math['random']()*0xa),_0xdf283c[_0xf8d1a3(0x24d)](_0xf8d1a3(0x23d),handleDiceCollision),world[_0xf8d1a3(0x22b)](_0xdf283c),diceObjects[_0xf8d1a3(0x2db)]({'mesh':_0x209c69,'body':_0xdf283c,'type':_0x5953f1,'stopped':![]}),updateDiceButtonUI(_0x5953f1,0x1),clearMagicEffects();}catch(_0x12594c){console[_0xf8d1a3(0x1b8)](_0xf8d1a3(0x2e0),_0x12594c);}}function createSparkleTexture(){const _0x1f2069=a0_0x12be64,_0xde2aa2=document[_0x1f2069(0x236)](_0x1f2069(0x16e));_0xde2aa2['width']=0x20,_0xde2aa2['height']=0x20;const _0x365241=_0xde2aa2['getContext']('2d'),_0x4acc7e=_0x365241['createRadialGradient'](0x10,0x10,0x0,0x10,0x10,0x10);return _0x4acc7e[_0x1f2069(0x225)](0x0,'rgba(255,255,255,1)'),_0x4acc7e['addColorStop'](0x1,_0x1f2069(0x263)),_0x365241['fillStyle']=_0x4acc7e,_0x365241[_0x1f2069(0x20c)](0x0,0x0,0x20,0x20),new THREE['CanvasTexture'](_0xde2aa2);}function createNumberLabel(_0x3b3785,_0x35fe79){const _0x578588=a0_0x12be64,_0x2501e4=document['createElement'](_0x578588(0x16e)),_0x52f7f0=0x100;_0x2501e4[_0x578588(0x2d0)]=_0x52f7f0,_0x2501e4[_0x578588(0x155)]=_0x52f7f0;const _0x114d33=_0x2501e4['getContext']('2d'),_0x1a5a86=parseInt(_0x35fe79[_0x578588(0x1ad)](0x1,0x3),0x10),_0x5e44a4=parseInt(_0x35fe79[_0x578588(0x1ad)](0x3,0x5),0x10),_0x40f7c3=parseInt(_0x35fe79[_0x578588(0x1ad)](0x5,0x7),0x10),_0x53dc89=_0x114d33[_0x578588(0x1a7)](_0x52f7f0/0x2,_0x52f7f0/0x2,0x14,_0x52f7f0/0x2,_0x52f7f0/0x2,0x6e);_0x53dc89[_0x578588(0x225)](0x0,_0x578588(0x29b)+_0x1a5a86+','+_0x5e44a4+','+_0x40f7c3+_0x578588(0x1aa)),_0x53dc89[_0x578588(0x225)](0x1,_0x578588(0x29b)+_0x1a5a86+','+_0x5e44a4+','+_0x40f7c3+',0)'),_0x114d33[_0x578588(0x2e1)]=_0x53dc89,_0x114d33[_0x578588(0x20c)](0x0,0x0,_0x52f7f0,_0x52f7f0),_0x114d33['font']=_0x578588(0x2d8),_0x114d33['textAlign']='center',_0x114d33[_0x578588(0x169)]='middle',_0x114d33[_0x578588(0x14f)]=_0x578588(0x145),_0x114d33['shadowBlur']=0xa,_0x114d33['fillStyle']='#ffffff',_0x114d33[_0x578588(0x194)](_0x3b3785,_0x52f7f0/0x2,_0x52f7f0/0x2);const _0x1f0525=new THREE[(_0x578588(0x2b9))]({'map':new THREE[(_0x578588(0x23a))](_0x2501e4),'transparent':!![],'depthTest':![]}),_0x506e4b=new THREE[(_0x578588(0x17a))](_0x1f0525);return _0x506e4b[_0x578588(0x23e)][_0x578588(0x2d4)](0.1,0.1,0x1),_0x506e4b[_0x578588(0x2a2)]=0x3e7,_0x506e4b;}function showFloatingResult(_0x3196ac,_0x2aa1f2){const _0x28c194=a0_0x12be64,_0x29e9c5=campaign['characters'][activeCharIndex],_0x486c40=_0x29e9c5?_0x29e9c5[_0x28c194(0x2b0)]:_0x28c194(0x27e),_0x9417c=createNumberLabel(_0x2aa1f2['toString'](),_0x486c40);_0x9417c['position']['copy'](_0x3196ac[_0x28c194(0x158)][_0x28c194(0x27a)]),_0x9417c[_0x28c194(0x27a)]['y']+=0.8,scene[_0x28c194(0x2ca)](_0x9417c),magicEffects[_0x28c194(0x2db)]({'mainSprite':_0x9417c,'life':0x0,'maxLife':0x64,'color':_0x486c40,'particles':[]});if(_0x3196ac[_0x28c194(0x1f8)]===0x14){if(_0x2aa1f2===0x14)hasCritHappened=!![],playSound('crit'),document[_0x28c194(0x1c5)][_0x28c194(0x285)][_0x28c194(0x2ab)](_0x28c194(0x2c6)),document[_0x28c194(0x1c5)][_0x28c194(0x285)][_0x28c194(0x2ca)]('crit-success-flash',_0x28c194(0x19a)),setTimeout(()=>{const _0x5a3ffa=_0x28c194;document[_0x5a3ffa(0x1c5)]['classList'][_0x5a3ffa(0x2ab)](_0x5a3ffa(0x274),_0x5a3ffa(0x19a));},0xfa0);else _0x2aa1f2===0x1&&!hasCritHappened&&(playSound(_0x28c194(0x1c8)),document[_0x28c194(0x1c5)]['classList'][_0x28c194(0x2ca)](_0x28c194(0x2c6),'shake-effect'),setTimeout(()=>{const _0x3fe10d=_0x28c194;if(!hasCritHappened)document[_0x3fe10d(0x1c5)][_0x3fe10d(0x285)][_0x3fe10d(0x2ab)](_0x3fe10d(0x2c6),_0x3fe10d(0x19a));},0xfa0));}}function clearMagicEffects(){const _0x4ada1b=a0_0x12be64;magicEffects[_0x4ada1b(0x240)](_0x298b7f=>{const _0x3f47e6=_0x4ada1b;scene[_0x3f47e6(0x2ab)](_0x298b7f['mainSprite']),_0x298b7f[_0x3f47e6(0x267)][_0x3f47e6(0x240)](_0x479ee9=>scene[_0x3f47e6(0x2ab)](_0x479ee9[_0x3f47e6(0x158)]));}),magicEffects=[];}function startCharging(){const _0x3f8f16=a0_0x12be64;if(diceObjects[_0x3f8f16(0x16a)]===0x0||isRolling)return;if(audioCtx[_0x3f8f16(0x238)]==='suspended')audioCtx[_0x3f8f16(0x1ed)]();playHoldSound(),isPressing=!![],clearMagicEffects(),pressPower=0.5;const _0x4b2c3a=document[_0x3f8f16(0x1e2)](_0x3f8f16(0x1d6)),_0x5b24df=document[_0x3f8f16(0x1e2)](_0x3f8f16(0x2c9));_0x5b24df[_0x3f8f16(0x285)][_0x3f8f16(0x2ca)](_0x3f8f16(0x1d9));if(chargeAnimId)cancelAnimationFrame(chargeAnimId);const _0x3347f3=0x514,_0x582491=1.1,_0x49c1d2=_0x582491-0.4;lastFrameTime=performance[_0x3f8f16(0x156)]();const _0x562c71=_0x1e988b=>{const _0x26b74c=_0x3f8f16;if(!isPressing)return;const _0x594081=_0x1e988b-lastFrameTime;lastFrameTime=_0x1e988b,pressPower+=_0x49c1d2/_0x3347f3*_0x594081;if(pressPower>=_0x582491)pressPower=_0x582491;const _0x44809d=Math[_0x26b74c(0x1ba)](pressPower/_0x582491*0x64,0x64);_0x4b2c3a[_0x26b74c(0x25e)][_0x26b74c(0x155)]=_0x44809d*1.3+'%';const _0x3409cd=0x1+_0x44809d/0x258;_0x5b24df[_0x26b74c(0x25e)]['filter']=_0x26b74c(0x1b4)+_0x3409cd+')',_0x44809d>=0x64&&_0x5b24df[_0x26b74c(0x285)][_0x26b74c(0x2ca)](_0x26b74c(0x282)),pressPower<_0x582491&&(chargeAnimId=requestAnimationFrame(_0x562c71));};chargeAnimId=requestAnimationFrame(_0x562c71);}function releaseRoll(_0x5900c4){const _0x8bd2d4=a0_0x12be64;if(!isPressing)return;if(_0x5900c4&&_0x5900c4[_0x8bd2d4(0x174)]&&_0x5900c4[_0x8bd2d4(0x1f8)]===_0x8bd2d4(0x22d))_0x5900c4[_0x8bd2d4(0x1f7)]();isPressing=![];chargeAnimId&&(cancelAnimationFrame(chargeAnimId),chargeAnimId=null);stopHoldSound();const _0x5a8bfa=document[_0x8bd2d4(0x1e2)](_0x8bd2d4(0x2c9)),_0x3e7d94=document[_0x8bd2d4(0x1e2)]('powerBar');_0x5a8bfa[_0x8bd2d4(0x285)][_0x8bd2d4(0x2ab)]('is-pressing'),_0x5a8bfa[_0x8bd2d4(0x285)][_0x8bd2d4(0x2ab)](_0x8bd2d4(0x282)),_0x5a8bfa['style']['filter']='none',_0x5a8bfa[_0x8bd2d4(0x25e)]['removeProperty']('--glow-spread'),_0x3e7d94['style']['height']='0%',diceObjects[_0x8bd2d4(0x16a)]>0x0&&!isRolling&&(playSound(_0x8bd2d4(0x1c9)),rollDice(pressPower)),pressPower=0x0;}function rollDice(_0x475305){const _0x26df78=a0_0x12be64;if(diceObjects['length']===0x0)return;isRolling=!![],playSound(_0x26df78(0x250)),diceObjects[_0x26df78(0x240)](_0x48afd8=>{const _0x532ce3=_0x26df78;_0x48afd8[_0x532ce3(0x22c)]=![],_0x48afd8[_0x532ce3(0x1c5)]['velocity'][_0x532ce3(0x2d4)](0x0,0x0,0x0),_0x48afd8[_0x532ce3(0x1c5)]['angularVelocity'][_0x532ce3(0x2d4)](0x0,0x0,0x0),_0x48afd8[_0x532ce3(0x1c5)][_0x532ce3(0x27a)]['y']=Math[_0x532ce3(0x1dc)](_0x48afd8[_0x532ce3(0x1c5)][_0x532ce3(0x27a)]['y'],0x5),_0x48afd8[_0x532ce3(0x1c5)][_0x532ce3(0x1be)]();const _0x417e25=0xf+0x14*_0x475305,_0x5abc94=0xa+0xa*_0x475305,_0x3d247e=0xf+0x1e*_0x475305;_0x48afd8[_0x532ce3(0x1c5)][_0x532ce3(0x233)]['set']((Math[_0x532ce3(0x21d)]()-0.5)*_0x417e25,_0x5abc94,(Math[_0x532ce3(0x21d)]()-0.5)*_0x417e25),_0x48afd8[_0x532ce3(0x1c5)][_0x532ce3(0x14d)][_0x532ce3(0x2d4)]((Math[_0x532ce3(0x21d)]()-0.5)*_0x3d247e,(Math[_0x532ce3(0x21d)]()-0.5)*_0x3d247e,(Math[_0x532ce3(0x21d)]()-0.5)*_0x3d247e);}),requestAnimationFrame(checkDiceStopped);}function checkDiceStopped(){if(!isRolling)return;let _0x3a4987=!![];diceObjects['forEach'](_0x4f3540=>{const _0x5cbe7d=a0_0x2ee9;if(_0x4f3540[_0x5cbe7d(0x1c5)]['velocity'][_0x5cbe7d(0x209)]()>0.1||_0x4f3540[_0x5cbe7d(0x1c5)][_0x5cbe7d(0x14d)][_0x5cbe7d(0x209)]()>0.1)_0x3a4987=![];});if(_0x3a4987)setTimeout(calculateResults,0xc8);else requestAnimationFrame(checkDiceStopped);}function a0_0x2ee9(_0x5c5091,_0x94c693){_0x5c5091=_0x5c5091-0x13c;const _0x1318e1=a0_0x1318();let _0x2ee96b=_0x1318e1[_0x5c5091];return _0x2ee96b;}function calculateResults(){const _0x49f89b=a0_0x12be64;let _0x29b378=0x0,_0x2215b5=[],_0x5ba590=[],_0x5776e4=![],_0x28a488=![];const _0x29bd23=document['getElementById'](_0x49f89b(0x151));let _0x2b86d6=parseInt(_0x29bd23[_0x49f89b(0x1d3)])||0x0;const _0xe7779=diceObjects[_0x49f89b(0x22a)](_0x4a3283=>{const _0x4244d5=_0x49f89b,_0x528e0d=_0x4a3283['type']===0x64?(Math[_0x4244d5(0x2c5)](Math[_0x4244d5(0x21d)]()*0xa)+0x1)*0xa:Math[_0x4244d5(0x2c5)](Math['random']()*_0x4a3283[_0x4244d5(0x1f8)])+0x1,_0x347622={'val':_0x528e0d,'type':_0x4a3283['type'],'obj':_0x4a3283,'ignored':![]};if(_0x4a3283[_0x4244d5(0x1f8)]===0x14)_0x5ba590[_0x4244d5(0x2db)](_0x347622);return _0x347622;});if(rollMode!==_0x49f89b(0x175)&&_0x5ba590[_0x49f89b(0x16a)]>=0x2){rollMode===_0x49f89b(0x201)?_0x5ba590[_0x49f89b(0x1d8)]((_0x3e7a6a,_0xcf7eaa)=>_0xcf7eaa[_0x49f89b(0x2a9)]-_0x3e7a6a[_0x49f89b(0x2a9)]):_0x5ba590[_0x49f89b(0x1d8)]((_0x555165,_0x58e635)=>_0x555165[_0x49f89b(0x2a9)]-_0x58e635[_0x49f89b(0x2a9)]);for(let _0x541aca=0x1;_0x541aca<_0x5ba590['length'];_0x541aca++){_0x5ba590[_0x541aca][_0x49f89b(0x152)]=!![];}}_0xe7779[_0x49f89b(0x240)](_0x361c22=>{const _0x2b589d=_0x49f89b;if(!_0x361c22['ignored']){_0x29b378+=_0x361c22[_0x2b589d(0x2a9)];if(_0x361c22[_0x2b589d(0x1f8)]===0x14){if(_0x361c22[_0x2b589d(0x2a9)]===0x14)_0x5776e4=!![];if(_0x361c22['val']===0x1)_0x28a488=!![];}const _0x582322=_0x361c22['type']===0x64?'%':_0x361c22['type'];_0x2215b5['push'](_0x361c22['val']+_0x2b589d(0x1ae)+_0x582322+')'),_0x361c22[_0x2b589d(0x171)]['mesh'][_0x2b589d(0x18a)]['opacity']=0x1,_0x361c22[_0x2b589d(0x171)][_0x2b589d(0x158)][_0x2b589d(0x18a)]['emissiveIntensity']=0x0;}else _0x361c22['obj'][_0x2b589d(0x158)][_0x2b589d(0x18a)][_0x2b589d(0x140)]=0.2,_0x361c22[_0x2b589d(0x171)][_0x2b589d(0x158)][_0x2b589d(0x18a)][_0x2b589d(0x2b0)][_0x2b589d(0x2a6)](0x333333),_0x2215b5[_0x2b589d(0x2db)](_0x2b589d(0x1ab)+_0x361c22['val']+_0x2b589d(0x176));showFloatingResult(_0x361c22[_0x2b589d(0x171)],_0x361c22[_0x2b589d(0x2a9)]);}),_0x29b378+=_0x2b86d6;let _0x378037=_0x2215b5['join']('\x20+\x20');if(_0x2b86d6!==0x0)_0x378037+='\x20'+(_0x2b86d6>0x0?'+':'')+_0x2b86d6+_0x49f89b(0x264);isRolling=![],updateResultDisplay(_0x378037,_0x29b378);if(_0x5776e4)triggerCritEffect(_0x49f89b(0x1da));else{if(_0x28a488)triggerCritEffect(_0x49f89b(0x1de));}const _0x48938c=campaign[_0x49f89b(0x24f)][activeCharIndex];if(_0x48938c){const _0x2d62dc=_0x378037[_0x49f89b(0x2a5)](/<[^>]*>?/gm,'');saveHistory(_0x48938c,_0x29b378,_0x2d62dc);if(!campaign[_0x49f89b(0x1dd)])campaign[_0x49f89b(0x1dd)]=[];const _0x20bb29=_0xe7779[_0x49f89b(0x237)](_0x4936ef=>_0x4936ef[_0x49f89b(0x1f8)]===0x14&&!_0x4936ef[_0x49f89b(0x152)]);campaign[_0x49f89b(0x1dd)][_0x49f89b(0x2db)]({'charName':_0x48938c[_0x49f89b(0x1ee)],'charColor':_0x48938c['color'],'formula':_0x2d62dc,'total':_0x29b378,'rawD20':_0x20bb29?_0x20bb29['val']:null,'timestamp':new Date()[_0x49f89b(0x170)]([],{'hour':_0x49f89b(0x284),'minute':_0x49f89b(0x284)})});}saveData();}function triggerCritEffect(_0x163afe){const _0x196e46=a0_0x12be64,_0x27f215=document['body'];_0x163afe===_0x196e46(0x1da)?(_0x27f215[_0x196e46(0x285)][_0x196e46(0x2ca)]('crit-success-flash'),setTimeout(()=>_0x27f215['classList'][_0x196e46(0x2ab)](_0x196e46(0x274)),0x3e8)):(_0x27f215[_0x196e46(0x285)]['add'](_0x196e46(0x2a4),_0x196e46(0x19a)),setTimeout(()=>_0x27f215[_0x196e46(0x285)][_0x196e46(0x2ab)](_0x196e46(0x2a4),_0x196e46(0x19a)),0x1f4));}function clearDice(){const _0x5aee3a=a0_0x12be64;diceObjects[_0x5aee3a(0x240)](_0x1af7bf=>{const _0x5a5d8a=_0x5aee3a;if(_0x1af7bf[_0x5a5d8a(0x158)])scene[_0x5a5d8a(0x2ab)](_0x1af7bf[_0x5a5d8a(0x158)]);if(_0x1af7bf[_0x5a5d8a(0x1c5)])world[_0x5a5d8a(0x14a)](_0x1af7bf[_0x5a5d8a(0x1c5)]);}),diceObjects=[],clearMagicEffects(),diceTypes['flat']()[_0x5aee3a(0x240)](_0xbfeff9=>updateDiceButtonUI(_0xbfeff9,0x0,!![])),updateResultDisplay('Adicione\x20dados...','0'),isRolling=![],playSound(_0x5aee3a(0x2ac));}function saveHistory(_0x104cd4,_0x531437,_0x3a6ba3){const _0x44d307=a0_0x12be64;if(!_0x104cd4['history'])_0x104cd4[_0x44d307(0x14e)]=[];_0x104cd4[_0x44d307(0x14e)][_0x44d307(0x2db)]({'turn':_0x104cd4[_0x44d307(0x196)]||0x1,'total':_0x531437,'formula':_0x3a6ba3}),updateHistoryUI();}function updateHistoryUI(){const _0x18cf5a=a0_0x12be64,_0x3949cc=campaign[_0x18cf5a(0x24f)][activeCharIndex],_0x44edf3=document[_0x18cf5a(0x1e2)](_0x18cf5a(0x18d));if(!_0x3949cc||!_0x44edf3)return;_0x44edf3[_0x18cf5a(0x2a7)]='';const _0x3f30f3=[..._0x3949cc[_0x18cf5a(0x14e)]][_0x18cf5a(0x2cb)]();if(_0x3f30f3[_0x18cf5a(0x16a)]===0x0){_0x44edf3[_0x18cf5a(0x2a7)]=_0x18cf5a(0x27d);return;}_0x3f30f3[_0x18cf5a(0x240)](_0x2d0b12=>{const _0xaa2698=_0x18cf5a,_0x11266d=document['createElement']('li');_0x11266d[_0xaa2698(0x27c)]=_0xaa2698(0x266),_0x11266d['innerHTML']=_0xaa2698(0x2c1)+_0x2d0b12['formula']+_0xaa2698(0x1f5)+_0x3949cc[_0xaa2698(0x2b0)]+'\x22>'+_0x2d0b12[_0xaa2698(0x197)]+_0xaa2698(0x227),_0x44edf3[_0xaa2698(0x1d7)](_0x11266d);});}function toggleHistory(){const _0x5a2051=a0_0x12be64,_0x4241ea=document[_0x5a2051(0x1e2)](_0x5a2051(0x185)),_0x4906f6=document[_0x5a2051(0x1e2)](_0x5a2051(0x1b7));if(!_0x4241ea||!_0x4906f6)return;const _0xb03ceb=_0x4241ea['classList'][_0x5a2051(0x229)](_0x5a2051(0x163));_0x4906f6['innerText']=_0xb03ceb?'Ocultar\x20Histórico':_0x5a2051(0x1e3),playSound(_0x5a2051(0x206));}function animate(){const _0x3ef9a4=a0_0x12be64;requestAnimationFrame(animate);const _0x1f7104=clock[_0x3ef9a4(0x146)]();if(world)world['step'](0x1/0x3c,_0x1f7104,0x3);diceObjects['forEach'](_0x402193=>{const _0x19ae40=_0x3ef9a4;_0x402193[_0x19ae40(0x158)]&&_0x402193['body']&&(_0x402193[_0x19ae40(0x158)][_0x19ae40(0x27a)][_0x19ae40(0x157)](_0x402193[_0x19ae40(0x1c5)][_0x19ae40(0x27a)]),_0x402193[_0x19ae40(0x158)][_0x19ae40(0x272)][_0x19ae40(0x157)](_0x402193['body'][_0x19ae40(0x272)]));});for(let _0x18cd6d=magicEffects[_0x3ef9a4(0x16a)]-0x1;_0x18cd6d>=0x0;_0x18cd6d--){const _0x5328f2=magicEffects[_0x18cd6d];_0x5328f2['life']++;if(_0x5328f2[_0x3ef9a4(0x20b)]<0x64){_0x5328f2[_0x3ef9a4(0x1c4)][_0x3ef9a4(0x27a)]['y']+=0.015;if(_0x5328f2[_0x3ef9a4(0x20b)]<0x14){const _0x9f9304=_0x5328f2['life']/0x14;_0x5328f2['mainSprite']['scale'][_0x3ef9a4(0x2d4)](_0x9f9304*2.5,_0x9f9304*2.5,0x1),_0x5328f2[_0x3ef9a4(0x1c4)][_0x3ef9a4(0x18a)][_0x3ef9a4(0x140)]=_0x9f9304;}else{if(_0x5328f2[_0x3ef9a4(0x20b)]>0x50)_0x5328f2['mainSprite'][_0x3ef9a4(0x18a)]['opacity']=(0x64-_0x5328f2[_0x3ef9a4(0x20b)])/0x14;}}if(_0x5328f2['life']<0x3c&&Math['random']()>0.3){const _0x14d550=new THREE[(_0x3ef9a4(0x2b9))]({'map':sparkleTexture,'transparent':!![],'color':_0x5328f2[_0x3ef9a4(0x2b0)],'opacity':0.8,'blending':THREE['AdditiveBlending']}),_0x49fbe3=new THREE[(_0x3ef9a4(0x17a))](_0x14d550);_0x49fbe3['position']['copy'](_0x5328f2[_0x3ef9a4(0x1c4)][_0x3ef9a4(0x27a)]),_0x49fbe3['position']['x']+=(Math[_0x3ef9a4(0x21d)]()-0.5)*0.5,_0x49fbe3['position']['y']-=0.2,_0x49fbe3[_0x3ef9a4(0x23e)]['set'](0.3,0.3,0x1),scene[_0x3ef9a4(0x2ca)](_0x49fbe3),_0x5328f2[_0x3ef9a4(0x267)][_0x3ef9a4(0x2db)]({'mesh':_0x49fbe3,'age':0x0});}for(let _0x3d37e0=_0x5328f2[_0x3ef9a4(0x267)][_0x3ef9a4(0x16a)]-0x1;_0x3d37e0>=0x0;_0x3d37e0--){const _0x3253dd=_0x5328f2[_0x3ef9a4(0x267)][_0x3d37e0];_0x3253dd['age']++,_0x3253dd[_0x3ef9a4(0x158)]['position']['y']-=0.005,_0x3253dd[_0x3ef9a4(0x158)]['material']['opacity']-=0.03,_0x3253dd[_0x3ef9a4(0x158)][_0x3ef9a4(0x23e)][_0x3ef9a4(0x1c3)](0.95),_0x3253dd[_0x3ef9a4(0x158)][_0x3ef9a4(0x18a)][_0x3ef9a4(0x140)]<=0x0&&(scene['remove'](_0x3253dd['mesh']),_0x5328f2[_0x3ef9a4(0x267)]['splice'](_0x3d37e0,0x1));}_0x5328f2[_0x3ef9a4(0x20b)]>=0x64&&_0x5328f2[_0x3ef9a4(0x267)][_0x3ef9a4(0x16a)]===0x0&&(scene[_0x3ef9a4(0x2ab)](_0x5328f2[_0x3ef9a4(0x1c4)]),magicEffects['splice'](_0x18cd6d,0x1));}if(renderer&&scene&&camera)renderer[_0x3ef9a4(0x1c1)](scene,camera);}document['addEventListener'](a0_0x12be64(0x206),_0x10a0da=>{const _0x1992ef=a0_0x12be64;if(_0x10a0da[_0x1992ef(0x1cd)]['id']===_0x1992ef(0x166)){playSound(_0x1992ef(0x1a9));return;}if(_0x10a0da['target'][_0x1992ef(0x25f)](_0x1992ef(0x1df))||_0x10a0da[_0x1992ef(0x1cd)][_0x1992ef(0x25f)](_0x1992ef(0x2b2))){playSound(_0x1992ef(0x2ac));return;}if(_0x10a0da['target'][_0x1992ef(0x25f)]('#rollBtn'))return;if(_0x10a0da[_0x1992ef(0x1cd)][_0x1992ef(0x25f)](_0x1992ef(0x29d))||_0x10a0da['target'][_0x1992ef(0x25f)](_0x1992ef(0x1ff))||_0x10a0da[_0x1992ef(0x1cd)]['closest']('input')||_0x10a0da[_0x1992ef(0x1cd)][_0x1992ef(0x25f)](_0x1992ef(0x2b3))||_0x10a0da[_0x1992ef(0x1cd)][_0x1992ef(0x25f)]('i'))playSound(_0x1992ef(0x206));setupModPicker();});function handleDiceCollision(_0x5f087f){const _0x95b23c=a0_0x12be64;if(typeof lastSoundTime===_0x95b23c(0x199)){console[_0x95b23c(0x1b8)](_0x95b23c(0x2a3));return;}let _0x4739e1=0x0;if(_0x5f087f[_0x95b23c(0x242)]&&_0x5f087f['contact']['getImpactVelocityAlongNormal'])_0x4739e1=Math['abs'](_0x5f087f[_0x95b23c(0x242)][_0x95b23c(0x1b3)]());else _0x5f087f['contact']&&_0x5f087f['contact']['bi']&&_0x5f087f[_0x95b23c(0x242)]['bj']&&(_0x4739e1=0x1);if(_0x4739e1<0.8)return;const _0x55bfc1=_0x5f087f[_0x95b23c(0x1c5)]['id'],_0x13ba43=Date[_0x95b23c(0x156)]();if(lastSoundTime[_0x55bfc1]&&_0x13ba43-lastSoundTime[_0x55bfc1]<0x32)return;lastSoundTime[_0x55bfc1]=_0x13ba43;let _0x24feca=Math[_0x95b23c(0x1ba)](_0x4739e1/0xf,0x1);playSound(_0x95b23c(0x23d),_0x24feca);}function setupModPicker(){const _0x5f2bc9=a0_0x12be64,_0x161c3b=document['getElementById'](_0x5f2bc9(0x245));if(!_0x161c3b)return;_0x161c3b['innerHTML']='';for(let _0x40d138=-0xa;_0x40d138<=0xa;_0x40d138++){const _0x5cc117=document[_0x5f2bc9(0x236)](_0x5f2bc9(0x29d));_0x5cc117['className']=_0x5f2bc9(0x2ce),_0x5cc117[_0x5f2bc9(0x253)]=(_0x40d138>0x0?'+':'')+_0x40d138,_0x5cc117[_0x5f2bc9(0x18f)]=()=>selectMod(_0x40d138),_0x161c3b['appendChild'](_0x5cc117);}}function toggleModPicker(){const _0x5a93f3=a0_0x12be64,_0x2441fc=document[_0x5a93f3(0x1e2)](_0x5a93f3(0x2cf)),_0x112b53=_0x2441fc['style']['display']===_0x5a93f3(0x1fd);_0x2441fc['style'][_0x5a93f3(0x1fa)]=_0x112b53?_0x5a93f3(0x26b):_0x5a93f3(0x1fd),_0x112b53&&(playSound('click'),highlightActiveMod());}function selectMod(_0x266349){const _0x5ad860=a0_0x12be64,_0x2db0b1=document[_0x5ad860(0x1e2)](_0x5ad860(0x151)),_0x3c3149=document['getElementById']('modDisplay');_0x2db0b1[_0x5ad860(0x1d3)]=_0x266349,_0x3c3149[_0x5ad860(0x253)]=(_0x266349>0x0?'+':'')+_0x266349;if(campaign[_0x5ad860(0x24f)][activeCharIndex])campaign[_0x5ad860(0x24f)][activeCharIndex][_0x5ad860(0x257)]=_0x266349;saveData(),toggleModPicker(),playSound(_0x5ad860(0x2ac));}function highlightActiveMod(){const _0x10394c=a0_0x12be64,_0x3a94ce=parseInt(document[_0x10394c(0x1e2)](_0x10394c(0x151))[_0x10394c(0x1d3)])||0x0;document['querySelectorAll']('.mod-btn')['forEach'](_0x51f294=>{const _0x36360f=_0x10394c,_0xbea57b=parseInt(_0x51f294[_0x36360f(0x253)]);_0x51f294[_0x36360f(0x285)][_0x36360f(0x229)](_0x36360f(0x1e7),_0xbea57b===_0x3a94ce);});}function setRollMode(_0x19d793){const _0x54e7de=a0_0x12be64;rollMode=_0x19d793;if(campaign[_0x54e7de(0x24f)][activeCharIndex])campaign[_0x54e7de(0x24f)][activeCharIndex][_0x54e7de(0x220)]=_0x19d793;const _0x92742f=document[_0x54e7de(0x1e2)]('cycleVantBtn');if(!_0x92742f)return;_0x92742f['classList'][_0x54e7de(0x2ab)](_0x54e7de(0x28a),_0x54e7de(0x1e8),_0x54e7de(0x222));if(_0x19d793===_0x54e7de(0x175))_0x92742f[_0x54e7de(0x253)]=_0x54e7de(0x2b4),_0x92742f[_0x54e7de(0x285)][_0x54e7de(0x2ca)]('mode-norm');else{if(_0x19d793==='advantage')_0x92742f[_0x54e7de(0x253)]='VANTAGEM',_0x92742f['classList'][_0x54e7de(0x2ca)](_0x54e7de(0x1e8));else _0x19d793===_0x54e7de(0x2a1)&&(_0x92742f[_0x54e7de(0x253)]=_0x54e7de(0x25c),_0x92742f[_0x54e7de(0x285)][_0x54e7de(0x2ca)](_0x54e7de(0x222)));}}function cycleRollMode(){const _0x4e2578=a0_0x12be64;playSound(_0x4e2578(0x206));if(rollMode===_0x4e2578(0x175))setRollMode('advantage');else{if(rollMode===_0x4e2578(0x201))setRollMode('disadvantage');else setRollMode(_0x4e2578(0x175));}}function openGlobalLog(){const _0xabbfd1=a0_0x12be64,_0x859da7=document[_0xabbfd1(0x1e2)](_0xabbfd1(0x1e9)),_0x6e15f=document[_0xabbfd1(0x1e2)](_0xabbfd1(0x154));if(!campaign[_0xabbfd1(0x1dd)])campaign[_0xabbfd1(0x1dd)]=[];let _0x4f25ba={};campaign[_0xabbfd1(0x1dd)][_0xabbfd1(0x240)](_0x2b7f52=>{const _0x36803d=_0xabbfd1;if(_0x2b7f52[_0x36803d(0x23f)]!==null&&_0x2b7f52[_0x36803d(0x23f)]!==undefined){if(!_0x4f25ba[_0x2b7f52['charName']])_0x4f25ba[_0x2b7f52[_0x36803d(0x193)]]={'sum':0x0,'count':0x0};_0x4f25ba[_0x2b7f52[_0x36803d(0x193)]][_0x36803d(0x202)]+=_0x2b7f52['rawD20'],_0x4f25ba[_0x2b7f52[_0x36803d(0x193)]]['count']++;}});let _0x533374=-0x1,_0x209495=0x15,_0x47a836='--',_0x484f68='--';for(const [_0x39f516,_0x4a1300]of Object[_0xabbfd1(0x1f2)](_0x4f25ba)){if(_0x4a1300['count']>0x0){const _0xa41595=_0x4a1300[_0xabbfd1(0x202)]/_0x4a1300[_0xabbfd1(0x2d6)];_0xa41595>_0x533374&&(_0x533374=_0xa41595,_0x47a836=_0x39f516),_0xa41595<_0x209495&&(_0x209495=_0xa41595,_0x484f68=_0x39f516);}}document[_0xabbfd1(0x1e2)](_0xabbfd1(0x1a8))['innerText']=_0x47a836,document[_0xabbfd1(0x1e2)]('statLuckyVal')['innerText']=_0x533374>-0x1?_0xabbfd1(0x21e)+_0x533374['toFixed'](0x1):_0xabbfd1(0x24b),document['getElementById'](_0xabbfd1(0x1c0))[_0xabbfd1(0x253)]=_0x484f68,document[_0xabbfd1(0x1e2)](_0xabbfd1(0x29f))[_0xabbfd1(0x253)]=_0x209495<0x15?'Média:\x20'+_0x209495['toFixed'](0x1):_0xabbfd1(0x24b),_0x6e15f['innerHTML']='',[...campaign[_0xabbfd1(0x1dd)]]['reverse']()['forEach'](_0x5a2d5c=>{const _0x25eb70=_0xabbfd1,_0x2664a8=document[_0x25eb70(0x236)]('li');_0x2664a8['className']=_0x25eb70(0x19e);let _0x51a856=_0x25eb70(0x270);if(_0x5a2d5c[_0x25eb70(0x23f)]===0x14)_0x51a856+='\x20log-crit-success';if(_0x5a2d5c[_0x25eb70(0x23f)]===0x1)_0x51a856+=_0x25eb70(0x188);_0x2664a8[_0x25eb70(0x2a7)]='<div\x20class=\x22log-meta\x22><span\x20class=\x22log-char-name\x22\x20style=\x22color:\x20'+_0x5a2d5c[_0x25eb70(0x2b5)]+'\x22>'+_0x5a2d5c[_0x25eb70(0x193)]+_0x25eb70(0x14c)+_0x5a2d5c[_0x25eb70(0x2c7)]+_0x25eb70(0x2b6)+_0x51a856+'\x22>'+_0x5a2d5c[_0x25eb70(0x197)]+_0x25eb70(0x27b)+_0x5a2d5c[_0x25eb70(0x283)]+_0x25eb70(0x19f),_0x6e15f['appendChild'](_0x2664a8);}),_0x859da7['style'][_0xabbfd1(0x1fa)]=_0xabbfd1(0x26b),playSound(_0xabbfd1(0x206));}function openCompendium(){const _0x56c4cc=a0_0x12be64,_0x18cb7d=document['getElementById'](_0x56c4cc(0x1bf));if(_0x18cb7d){_0x18cb7d['style'][_0x56c4cc(0x1fa)]=_0x56c4cc(0x26b);if(typeof rulesData!==_0x56c4cc(0x199))renderRules(rulesData);playSound('click');}}function getLevelValue(_0x5af1b0){const _0x2b7ef1=a0_0x12be64;if(_0x5af1b0['category']!=='spell')return-0x1;if(_0x5af1b0[_0x2b7ef1(0x286)]['includes'](_0x2b7ef1(0x17b)))return 0x0;const _0x45694c=_0x5af1b0[_0x2b7ef1(0x286)][_0x2b7ef1(0x271)](/(\d+)º/);return _0x45694c?parseInt(_0x45694c[0x1]):0x0;}function getSortPriority(_0x32de87){const _0x39e6a3=a0_0x12be64;if(_0x32de87['title'][_0x39e6a3(0x17c)]('Visão\x20Geral'))return 0x1;if(_0x32de87[_0x39e6a3(0x216)][_0x39e6a3(0x17c)](_0x39e6a3(0x28f)))return 0x2;const _0x422e3f=_0x32de87[_0x39e6a3(0x286)]?_0x32de87[_0x39e6a3(0x286)]['match'](/Nível (\d+)/):null;if(_0x422e3f)return 0xa+parseInt(_0x422e3f[0x1]);if(_0x32de87['meta']&&_0x32de87['meta']['includes'](_0x39e6a3(0x252)))return 0x64;return 0x32;}function renderRules(_0x3ae57b){const _0x5707df=a0_0x12be64,_0x49cf12=document[_0x5707df(0x1e2)](_0x5707df(0x262));if(!_0x49cf12)return;_0x49cf12[_0x5707df(0x2a7)]='';if(_0x3ae57b['length']===0x0){_0x49cf12['innerHTML']=_0x5707df(0x25b);return;}const _0x14f1ee=[..._0x3ae57b][_0x5707df(0x1d8)]((_0x5812ac,_0x46f112)=>{const _0x495b0a=_0x5707df,_0x17bd25={'basics':0x0,'condition':0x1,'action':0x2,'combat':0x3,'env':0x4,'class':0x5,'species':0x6,'feat':0x7,'spell':0x8,'equipment':0x9},_0xfa185a=_0x17bd25[_0x5812ac['category']]!==undefined?_0x17bd25[_0x5812ac[_0x495b0a(0x1a1)]]:0x63,_0x29886e=_0x17bd25[_0x46f112[_0x495b0a(0x1a1)]]!==undefined?_0x17bd25[_0x46f112[_0x495b0a(0x1a1)]]:0x63;if(_0xfa185a!==_0x29886e)return _0xfa185a-_0x29886e;if(['basics',_0x495b0a(0x2c2),_0x495b0a(0x26e),_0x495b0a(0x226),_0x495b0a(0x1cf)][_0x495b0a(0x17c)](_0x5812ac[_0x495b0a(0x1a1)])){if(_0x5812ac[_0x495b0a(0x2d5)]!==_0x46f112[_0x495b0a(0x2d5)])return _0x5812ac['parentClass'][_0x495b0a(0x178)](_0x46f112[_0x495b0a(0x2d5)]);const _0x30cf4d=typeof getSortPriority==='function'?getSortPriority(_0x5812ac):0x32,_0x38f4e8=typeof getSortPriority==='function'?getSortPriority(_0x46f112):0x32;if(_0x30cf4d!==_0x38f4e8)return _0x30cf4d-_0x38f4e8;}const _0x26826f=typeof getLevelValue===_0x495b0a(0x1f1)?getLevelValue(_0x5812ac):0x0,_0x3313da=typeof getLevelValue===_0x495b0a(0x1f1)?getLevelValue(_0x46f112):0x0;if(_0x26826f!==_0x3313da)return _0x26826f-_0x3313da;return _0x5812ac[_0x495b0a(0x216)][_0x495b0a(0x178)](_0x46f112[_0x495b0a(0x216)]);});let _0x4d3a94='';_0x14f1ee[_0x5707df(0x240)](_0x3ebf83=>{const _0x3d738e=_0x5707df;let _0x327f79='',_0x3dda37='';if(_0x3ebf83[_0x3d738e(0x1a1)]===_0x3d738e(0x179)){const _0x3f3779=getLevelValue(_0x3ebf83);_0x327f79=_0x3f3779===0x0?_0x3d738e(0x17e):_0x3d738e(0x203)+_0x3f3779+'º',_0x3dda37=_0x3d738e(0x198)+_0x3f3779;}else{if([_0x3d738e(0x1f6),_0x3d738e(0x2c2),'species','equipment',_0x3d738e(0x1cf)][_0x3d738e(0x17c)](_0x3ebf83['category'])){_0x327f79=_0x3ebf83['parentClass'];const _0x3bdf0d=_0x327f79[_0x3d738e(0x1bd)]()[_0x3d738e(0x275)]('NFD')[_0x3d738e(0x2a5)](/[\u0300-\u036f]/g,'')[_0x3d738e(0x2a5)](/\s+/g,'');_0x3dda37=_0x3d738e(0x17d)+_0x3bdf0d;}else _0x327f79=null;}if(_0x327f79&&_0x4d3a94!==_0x327f79){_0x4d3a94=_0x327f79;const _0x4b4e0d=document[_0x3d738e(0x236)]('div');_0x4b4e0d['className']='level-header\x20'+_0x3dda37,_0x4b4e0d[_0x3d738e(0x253)]=_0x327f79,_0x49cf12[_0x3d738e(0x1d7)](_0x4b4e0d);}const _0x93e384=document[_0x3d738e(0x236)](_0x3d738e(0x259));_0x93e384[_0x3d738e(0x27c)]=_0x3d738e(0x1ac);let _0x1bd878=translateCategory(_0x3ebf83[_0x3d738e(0x1a1)]),_0x4b65f9='';if([_0x3d738e(0x2c2),_0x3d738e(0x26e),_0x3d738e(0x226),_0x3d738e(0x1cf)]['includes'](_0x3ebf83[_0x3d738e(0x1a1)])){_0x1bd878=_0x3ebf83[_0x3d738e(0x2d5)];const _0x363d02=_0x1bd878[_0x3d738e(0x1bd)]()[_0x3d738e(0x275)](_0x3d738e(0x247))[_0x3d738e(0x2a5)](/[\u0300-\u036f]/g,'')[_0x3d738e(0x2a5)](/\s+/g,'');_0x4b65f9=_0x3d738e(0x161)+_0x363d02;}else _0x4b65f9=_0x3d738e(0x161)+_0x3ebf83['category'];let _0x2f7360=_0x3ebf83[_0x3d738e(0x286)]?_0x3d738e(0x2de)+_0x3ebf83[_0x3d738e(0x286)]+_0x3d738e(0x287):'';_0x93e384['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ebf83['title']+_0x3d738e(0x20a)+_0x4b65f9+_0x3d738e(0x223)+(_0x3ebf83[_0x3d738e(0x1a1)]===_0x3d738e(0x179)?_0x3d738e(0x214):'')+'\x22>'+_0x1bd878+_0x3d738e(0x292)+_0x2f7360+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-desc\x22>'+_0x3ebf83[_0x3d738e(0x144)]+_0x3d738e(0x2df),_0x49cf12[_0x3d738e(0x1d7)](_0x93e384);});}function translateCategory(_0x49eb8d){const _0x4f2b31=a0_0x12be64;if(_0x49eb8d===_0x4f2b31(0x1f6))return _0x4f2b31(0x255);if(_0x49eb8d===_0x4f2b31(0x293))return _0x4f2b31(0x1e4);if(_0x49eb8d==='action')return _0x4f2b31(0x1e0);if(_0x49eb8d===_0x4f2b31(0x1e1))return _0x4f2b31(0x219);if(_0x49eb8d==='spell')return _0x4f2b31(0x2b7);if(_0x49eb8d===_0x4f2b31(0x268))return _0x4f2b31(0x2e4);if(_0x49eb8d===_0x4f2b31(0x26e))return _0x4f2b31(0x1f4);if(_0x49eb8d===_0x4f2b31(0x226))return _0x4f2b31(0x2d9);if(_0x49eb8d==='feat')return _0x4f2b31(0x260);return _0x49eb8d;}function filterRules(){const _0x5a30f5=a0_0x12be64,_0x5c4f52=document[_0x5a30f5(0x1e2)](_0x5a30f5(0x27f));if(!_0x5c4f52||typeof rulesData==='undefined')return;const _0xeeb3d9=normalizeText(_0x5c4f52[_0x5a30f5(0x1d3)][_0x5a30f5(0x26c)]());let _0x1e5a89=_0xeeb3d9;_0xeeb3d9[_0x5a30f5(0x16a)]>0x3&&(_0x1e5a89=_0xeeb3d9['replace'](/(r|s)$/,''));const _0x2de381=rulesData[_0x5a30f5(0x2be)](_0x54bb80=>{const _0x4f3195=_0x5a30f5,_0x1c52f8=normalizeText(_0x54bb80[_0x4f3195(0x216)]),_0x59375d=normalizeText(_0x54bb80[_0x4f3195(0x144)]),_0xec92bc=normalizeText(_0x54bb80['meta']||''),_0x163e9d=_0x1c52f8['includes'](_0xeeb3d9)||_0x1c52f8[_0x4f3195(0x17c)](_0x1e5a89),_0x2cbd6a=_0x59375d[_0x4f3195(0x17c)](_0xeeb3d9)||_0x59375d['includes'](_0x1e5a89),_0x102eab=_0xec92bc['includes'](_0xeeb3d9)||_0xec92bc[_0x4f3195(0x17c)](_0x1e5a89);return _0x163e9d||_0x2cbd6a||_0x102eab;});renderRules(_0x2de381),document[_0x5a30f5(0x1a0)](_0x5a30f5(0x147))[_0x5a30f5(0x240)](_0x13b025=>_0x13b025[_0x5a30f5(0x285)][_0x5a30f5(0x2ab)](_0x5a30f5(0x1e7)));}function normalizeText(_0x3ff469){const _0xb9946a=a0_0x12be64;if(!_0x3ff469)return'';return _0x3ff469[_0xb9946a(0x275)](_0xb9946a(0x247))[_0xb9946a(0x2a5)](/[\u0300-\u036f]/g,'')['toLowerCase']();}function filterCategory(_0x4fc090){const _0x3dd1f9=a0_0x12be64;document[_0x3dd1f9(0x1a0)](_0x3dd1f9(0x147))[_0x3dd1f9(0x240)](_0x5c13bf=>_0x5c13bf[_0x3dd1f9(0x285)][_0x3dd1f9(0x2ab)](_0x3dd1f9(0x1e7)));if(event&&event[_0x3dd1f9(0x1cd)])event[_0x3dd1f9(0x1cd)][_0x3dd1f9(0x285)]['add'](_0x3dd1f9(0x1e7));const _0x1f461d=document['getElementById']('ruleSearch');if(_0x1f461d)_0x1f461d[_0x3dd1f9(0x1d3)]='';if(typeof rulesData===_0x3dd1f9(0x199))return;if(_0x4fc090==='all')renderRules(rulesData);else{const _0x4bc3a4=rulesData[_0x3dd1f9(0x2be)](_0x37064a=>_0x37064a['category']===_0x4fc090);renderRules(_0x4bc3a4);}}function setupEventListeners(){const _0x33f3a3=a0_0x12be64,_0x2a39f9=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x2c9));if(_0x2a39f9){const _0x4c6fc1=_0x2a39f9[_0x33f3a3(0x218)](!![]);_0x2a39f9[_0x33f3a3(0x232)]['replaceChild'](_0x4c6fc1,_0x2a39f9);const _0x43fe18=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x2c9));_0x43fe18[_0x33f3a3(0x24d)](_0x33f3a3(0x299),startCharging),window[_0x33f3a3(0x24d)](_0x33f3a3(0x16b),releaseRoll),_0x43fe18[_0x33f3a3(0x24d)](_0x33f3a3(0x2bb),startCharging,{'passive':![]}),window[_0x33f3a3(0x24d)](_0x33f3a3(0x22d),releaseRoll);}const _0x11906a=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x16c));if(_0x11906a)_0x11906a[_0x33f3a3(0x18f)]=addCharacterPreview;const _0x49b966=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x166));if(_0x49b966)_0x49b966['onclick']=startCampaign;const _0x48553e=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x13f));if(_0x48553e)_0x48553e['onclick']=clearDice;const _0x1b4f2=document[_0x33f3a3(0x1e2)](_0x33f3a3(0x1b7));if(_0x1b4f2)_0x1b4f2[_0x33f3a3(0x18f)]=toggleHistory;window['addEventListener'](_0x33f3a3(0x1f9),refreshCanvasSize);}document[a0_0x12be64(0x24d)](a0_0x12be64(0x1b5),()=>{setupEventListeners();});function openDonation(){const _0x7e962b=a0_0x12be64,_0x5d2de6=_0x7e962b(0x244);playSound(_0x7e962b(0x206)),window['open'](_0x5d2de6,_0x7e962b(0x20f));}document[a0_0x12be64(0x24d)](a0_0x12be64(0x278),_0x1f82a0=>_0x1f82a0['preventDefault']()),document[a0_0x12be64(0x182)]=function(_0x5c7a84){const _0xcb505b=a0_0x12be64;if(_0x5c7a84[_0xcb505b(0x297)]==0x7b)return![];if(_0x5c7a84[_0xcb505b(0x1c6)]&&_0x5c7a84[_0xcb505b(0x2bc)]&&(_0x5c7a84[_0xcb505b(0x297)]=='I'[_0xcb505b(0x23c)](0x0)||_0x5c7a84[_0xcb505b(0x297)]=='C'['charCodeAt'](0x0)||_0x5c7a84['keyCode']=='J'['charCodeAt'](0x0)))return![];if(_0x5c7a84[_0xcb505b(0x1c6)]&&_0x5c7a84['keyCode']=='U'[_0xcb505b(0x23c)](0x0))return![];};function hideSplashScreen(){const _0x1a82b1=a0_0x12be64,_0x246dcf=document[_0x1a82b1(0x1e2)](_0x1a82b1(0x2ad));_0x246dcf&&(console[_0x1a82b1(0x1fc)](_0x1a82b1(0x26d)),_0x246dcf[_0x1a82b1(0x285)]['add'](_0x1a82b1(0x2a8)),setTimeout(()=>{const _0xffd506=_0x1a82b1;_0x246dcf[_0xffd506(0x25e)][_0xffd506(0x1fa)]=_0xffd506(0x1fd);},0x320));}window['addEventListener']('load',hideSplashScreen),setTimeout(()=>{const _0x48a562=a0_0x12be64,_0x56e152=document[_0x48a562(0x1e2)](_0x48a562(0x2ad));_0x56e152&&!_0x56e152[_0x48a562(0x285)][_0x48a562(0x280)](_0x48a562(0x2a8))&&(console['warn'](_0x48a562(0x288)),hideSplashScreen());},0x1388);