:root{--bg-wood-dark:#1a120b;--bg-wood-mid:#2a1b0e;--bg-wood-light:#3e2723;--parchment:#eecfa1;--parchment-dark:#d7ccc8;--text-ink:#1a0f00;--gold:#ffb300;--gold-shadow:#8f690b;--stone-dark:#263238;--stone-light:#455a64;--gem-green:#2e7d32;--gem-green-light:#4caf50;--gem-red:#c62828;--font-title:'Cinzel',serif;--font-body:'Lato',sans-serif}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;touch-action:manipulation}body{margin:0;padding:0;width:100%;height:100%;background-color:var(--bg-wood-dark);overflow:hidden;font-family:var(--font-body);color:#fff;display:flex;flex-direction:column;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}#appContainer{display:flex;flex-direction:column;width:100%;height:100dvh;overflow:hidden}#topBar{flex:0 0 65px;background:var(--bg-wood-mid);border-bottom:3px solid #0f0803;box-shadow:0 10px 30px rgba(0,0,0,.8);display:flex;z-index:50;position:relative;width:100%}#charTabsContainer{display:flex;overflow-x:auto;flex-grow:1;align-items:flex-end;padding-left:5px;scrollbar-width:none}#charTabsContainer::-webkit-scrollbar{display:none}#compendiumBtn,#logBtn,#settingsBtn{width:60px;height:100%;background:var(--bg-wood-light);border:none;border-left:1px solid #0f0803;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:inset 1px 0 0 rgba(255,255,255,.1),inset 0 0 10px rgba(0,0,0,.5);flex-shrink:0}#compendiumBtn svg,#logBtn svg,#settingsBtn svg{fill:var(--gold);transition:transform .3s;filter:drop-shadow(0 2px 2px rgba(0,0,0,.8))}#settingsBtn:active svg{transform:rotate(90deg)}#compendiumBtn:active svg,#logBtn:active svg{transform:scale(.9)}.btn-settings-fantasy{background:var(--bg-wood-light)!important;border:none!important;padding:0!important;border-radius:0!important;box-shadow:inset 1px 0 0 rgba(255,255,255,.1),inset 0 0 10px rgba(0,0,0,.5)!important;transition:all .3s ease}.btn-settings-fantasy:hover{filter:brightness(1.2)}.btn-settings-fantasy:hover svg{transform:rotate(90deg);transition:transform .5s ease}.add-char-tab{min-width:55px;height:100%;margin-left:auto;background:linear-gradient(135deg,var(--gem-green),#1b5e20);border:none;border-left:3px solid #0f0803;color:#a5d6a7;font-size:2rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 15px rgba(0,0,0,.5);flex-shrink:0}.add-char-tab:active{background:#1b5e20;transform:translateY(2px)}.char-tab{min-width:90px;height:85%;margin-right:2px;padding:0 10px;display:flex;align-items:center;justify-content:center;gap:6px;background:linear-gradient(to bottom,#4e342e,#3e2723);border-top:1px solid #6d4c41;border-radius:6px 6px 0 0;color:#a1887f;font-family:var(--font-title);font-size:.85rem;font-weight:700;opacity:.8;transition:all .2s;cursor:pointer;flex-shrink:0}.char-tab.active{opacity:1;height:95%;background:linear-gradient(to bottom,#6d4c41,#4e342e);color:var(--gold);border-top:2px solid var(--gold);box-shadow:0 -2px 10px rgba(255,179,0,.2);z-index:2}.tab-avatar{width:26px;height:26px;border-radius:50%;border:2px solid rgba(0,0,0,.5);overflow:hidden;pointer-events:none}#mainDisplay{flex:1;position:relative;width:100%;background:radial-gradient(circle at center,#fdfbf7 10%,#e6dace 60%,#cbbfa9 90%);overflow:hidden;box-shadow:inset 0 0 80px rgba(42,27,14,.8)}#canvasContainer{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#currentAvatarDisplay{position:absolute;top:20px;left:50%;transform:translateX(-50%);width:90px;height:90px;border-radius:50%;border:4px solid var(--gold);box-shadow:0 5px 15px rgba(0,0,0,.4);overflow:hidden;z-index:5;background:0 0;pointer-events:none}#currentAvatarDisplay img,.avatar-img{width:100%;height:100%;object-fit:cover}#uiOverlay{position:absolute;top:120px;left:0;width:100%;display:flex;justify-content:center;pointer-events:none;z-index:20}#resultDisplay{text-align:center;filter:drop-shadow(0 4px 6px rgba(0,0,0,.5))}#resultFormula{font-size:1.2rem;color:#fff;font-weight:700;margin-bottom:2px;font-style:italic;text-shadow:0 2px 4px #000}#resultTotal{font-size:4.5rem;font-weight:900;line-height:1;font-family:var(--font-title);color:#fff!important;text-shadow:3px 3px 0 #3e2723,-1px -1px 0 #000}#statusMessage{position:absolute;bottom:10px;width:100%;text-align:center;color:rgba(62,39,35,.6);font-size:.8rem;pointer-events:none;font-weight:700}#bottomPanel{flex:0 0 auto;background:var(--bg-wood-mid);padding:15px;border-top:3px solid #0f0803;box-shadow:0 -10px 30px rgba(0,0,0,.8);display:flex;flex-direction:column;gap:12px;position:relative;z-index:60;padding-bottom:max(15px,env(safe-area-inset-bottom))}#diceSelector{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.dice-btn{color:#eceff1;height:55px;border-radius:10px;position:relative;font-family:var(--font-title);font-size:1.3rem;font-weight:700;border:1px solid #263238;display:flex;justify-content:center;align-items:center;text-shadow:0 -1px 1px #000;transition:transform .1s,box-shadow .1s;box-shadow:0 4px 0 #102027,0 5px 10px rgba(0,0,0,.5)}.dice-btn:nth-child(3n+1){background:linear-gradient(to left bottom,var(--stone-light),var(--stone-dark));box-shadow:inset -2px 1px 0 rgba(255,255,255,.15),0 4px 0 #102027}.dice-btn:nth-child(3n+2){background:linear-gradient(to bottom,var(--stone-light),var(--stone-dark));box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 4px 0 #102027}.dice-btn:nth-child(3n+3){background:linear-gradient(to right bottom,var(--stone-light),var(--stone-dark));box-shadow:inset 2px 1px 0 rgba(255,255,255,.15),0 4px 0 #102027}.dice-btn:not(.selected):active{transform:translateY(4px);box-shadow:0 0 0 #102027,inset 0 0 10px #000!important}.dice-btn.selected{color:#3e2723!important;border-color:#ffe082;text-shadow:none;transform:translateY(0)}.dice-btn.selected:nth-child(3n+1){background:linear-gradient(to left bottom,#ffd740,#ff8f00)!important;box-shadow:inset -2px 1px 0 rgba(255,255,255,.5),0 4px 0 #bf360c,0 0 15px rgba(255,160,0,.6)}.dice-btn.selected:nth-child(3n+2){background:linear-gradient(to bottom,#ffd740,#ff8f00)!important;box-shadow:inset 0 1px 0 rgba(255,255,255,.6),0 4px 0 #bf360c,0 0 15px rgba(255,160,0,.6)}.dice-btn.selected:nth-child(3n+3){background:linear-gradient(to right bottom,#ffd740,#ff8f00)!important;box-shadow:inset 2px 1px 0 rgba(255,255,255,.5),0 4px 0 #bf360c,0 0 15px rgba(255,160,0,.6)}.dice-btn.selected:active{transform:translateY(4px);box-shadow:0 0 0 #bf360c,inset 0 0 15px rgba(191,54,12,.6),0 0 20px rgba(255,160,0,.8)!important}.dice-count{position:absolute;top:-6px;right:-6px;background:var(--gem-red);color:#fff;border:2px solid #fff;border-radius:50%;width:24px;height:24px;font-size:.9rem;font-weight:700;display:flex;justify-content:center;align-items:center;display:none}.action-area{display:grid;grid-template-columns:1fr 2fr;gap:10px;height:75px;margin-top:5px;align-items:stretch}.utility-row{display:flex;gap:5px;align-items:stretch}#clearBtn,#toggleHistoryBtn,.mode-norm{background:linear-gradient(to bottom,#4b2a23,#2b1c0f)!important;color:var(--parchment)!important;border:1px solid #3b2e2a!important;border-radius:10px;font-family:var(--font-title);font-weight:700;cursor:pointer;transition:all .1s;box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 4px 0 #241611,0 5px 10px rgba(0,0,0,.5)!important;display:flex;align-items:center;justify-content:center;text-shadow:0 -1px 1px #000}#clearBtn{flex:0.8;font-size:1.6rem}#toggleHistoryBtn{width:100%;padding:12px;margin-bottom:15px;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;flex-shrink:0}.vant-cycle-btn{flex:1.2;border-radius:10px;cursor:pointer;transition:all .2s;font-family:var(--font-title)!important;font-weight:900!important;text-transform:uppercase;font-size:.6rem!important;letter-spacing:.5px;display:flex;align-items:center;justify-content:center;text-align:center}.modifier-wrapper{flex:0.8;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#1a120b;border:1px solid #0f0803;border-radius:10px;box-shadow:inset 2px 2px 8px rgba(0,0,0,.8),1px 1px 0 rgba(255,255,255,.05);cursor:pointer;margin:0!important}.modifier-wrapper:active{transform:scale(.96);border-color:#000!important;box-shadow:inset 4px 4px 12px #000!important}#modDisplay{font-size:1.4rem;font-weight:700;color:#fb0;font-family:Cinzel,serif}.mode-adv{background:linear-gradient(to bottom,#43a047,#1b5e20)!important;color:#fff!important;border:1px solid #0d3311!important;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 4px 0 #0d3311,0 5px 10px rgba(0,0,0,.5)!important}.mode-dis{background:linear-gradient(to bottom,#d32f2f,#8e0000)!important;color:#fff!important;border:1px solid #5f0000!important;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 4px 0 #5f0000,0 5px 10px rgba(0,0,0,.5)!important}.roll-btn-wrapper{flex:1}#rollBtn{width:100%;height:100%;background:linear-gradient(135deg,#7b1fa2,#4a148c);color:#fff;font-size:1.8rem;letter-spacing:2px;font-family:var(--font-title);font-weight:900;text-shadow:0 2px 0 rgba(0,0,0,.5);border:1px solid #ab47bc;border-radius:10px;box-shadow:inset 0 0 20px rgba(255,255,255,.1),0 5px 0 #38006b,0 5px 15px rgba(123,31,162,.4);overflow:hidden;position:relative;transition:transform .1s}#clearBtn:active,#rollBtn:active,#toggleHistoryBtn:active,.vant-cycle-btn:active{transform:translateY(4px);border-color:rgba(0,0,0,.4)!important;box-shadow:0 0 0 transparent,inset 0 4px 8px rgba(0,0,0,.7),inset 0 0 15px rgba(0,0,0,.3)!important}#powerBar{position:absolute;bottom:0;left:0;height:100%;width:0%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);box-shadow:0 0 20px rgba(255,255,255,.8);pointer-events:none}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle,rgba(62,39,35,.95),rgba(26,18,11,.98));display:flex;justify-content:center;align-items:center;z-index:3000;backdrop-filter:blur(5px)}.modal-content{background:var(--parchment);color:var(--text-ink);padding:25px;border-radius:6px;width:90%;max-width:450px;text-align:center;border:8px solid var(--bg-wood-dark);box-shadow:0 0 0 10px #5d4037,0 20px 50px rgba(0,0,0,.8);position:relative;max-height:85vh;overflow-y:auto;margin-bottom:20px}.btn-close-fantasy{position:absolute;top:10px;right:10px;width:44px;height:44px;background:radial-gradient(circle,#d32f2f 0,#8b0000 70%,#5a0000 100%);color:gold;border:3px solid #3e2723;border-radius:50%;font-size:22px;font-family:Cinzel,serif;font-weight:900;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px rgba(0,0,0,.6),inset 0 0 10px rgba(0,0,0,.5);transition:all .3s cubic-bezier(.175, .885, .32, 1.275);z-index:1000}.btn-close-fantasy:hover{transform:scale(1.1) rotate(15deg);background:radial-gradient(circle,#ff1744 0,#b71c1c 70%,#7f0000 100%);box-shadow:0 0 15px rgba(255,23,68,.6)}#appCredits{position:static;bottom:40px;left:0;width:100%;text-align:center;font-family:var(--font-title);font-size:1.75rem;color:#fff;opacity:2;z-index:2005;pointer-events:none;text-shadow:0 0 5px #030200}.avatar-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:10px;background:rgba(0,0,0,.05);border-radius:8px;border:1px solid #a1887f;margin-bottom:15px;justify-items:center}.avatar-option{width:55px;height:55px;border-radius:50%;border:3px solid #8d6e63;cursor:pointer;overflow:hidden;background:#000;box-shadow:0 3px 6px rgba(0,0,0,.3)}.avatar-option.selected{border-color:#d50000;transform:scale(1.15);z-index:2;box-shadow:0 0 10px #d50000}input[type=text]{background:#fff3e0;border:2px solid #8d6e63;color:var(--text-ink);padding:15px;font-family:var(--font-title);font-weight:700;width:100%;border-radius:4px;font-size:1.1rem}.char-form{display:flex;gap:10px;align-items:stretch;margin-top:15px}.color-picker-wrapper{flex:0 0 60px;position:relative;border-radius:4px;border:2px solid #8d6e63;overflow:hidden;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 10px rgba(0,0,0,.3);background-color:#ef5350}#charColorInput{position:absolute;width:200%;height:200%;opacity:0;cursor:pointer;top:-50%;left:-50%;z-index:10}#colorLabel{font-family:var(--font-title);font-weight:700;font-size:.7rem;pointer-events:none;text-shadow:0 1px 2px #000;color:#fff;z-index:5}#addCharBtn,#startCampaignBtn{font-family:var(--font-title);font-weight:700;letter-spacing:1px;text-transform:uppercase;border-radius:4px;cursor:pointer;border:none;width:100%;padding:15px;margin-top:15px}#addCharBtn{background:#5d4037;color:var(--parchment);border:2px solid #3e2723;box-shadow:0 4px 0 #281b15}#addCharBtn:active{transform:translateY(4px);box-shadow:none}#startCampaignBtn{font-size:1.3rem;background:linear-gradient(to bottom,#d32f2f,#b71c1c);color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.5);border:2px solid #7f0000;box-shadow:0 5px 0 #7f0000}#startCampaignBtn:active{transform:translateY(5px);box-shadow:0 0 0 #7f0000}#startCampaignBtn:disabled{background:#9e9e9e;border-color:#616161;box-shadow:none;transform:none}#charListPreview{list-style:none;padding:0;margin:15px 0 0 0;width:100%;background:rgba(0,0,0,.2);border:1px solid #5d4037;border-radius:6px;max-height:150px;overflow-y:auto}#charListPreview li{display:flex;align-items:center;gap:12px;padding:8px 12px;border-bottom:1px solid rgba(255,255,255,.1)}.preview-avatar{width:40px;height:40px;border-radius:50%;overflow:hidden;border:2px solid #fff;flex-shrink:0;background:#000}.preview-avatar img{width:100%;height:100%;object-fit:cover;display:block}#historyPanel{position:absolute;bottom:100%;left:0;width:100%;background:rgba(30,20,10,.98);box-shadow:0 -5px 20px rgba(0,0,0,.5);border-top:3px solid transparent;max-height:0;overflow:hidden;transition:max-height .4s cubic-bezier(.4, 0, .2, 1),border-top-color .4s ease,padding .4s ease;padding:0 20px;border-radius:15px 15px 0 0;z-index:100}#historyPanel.open{max-height:45vh;border-top-color:var(--gold);overflow-y:auto;padding-top:15px;padding-bottom:15px}#historyList{list-style:none;padding:0;margin:0}.turn-header{color:var(--gold);font-family:var(--font-title);font-size:1rem;font-weight:700;letter-spacing:1px;margin-top:15px;margin-bottom:5px;padding-bottom:5px;border-bottom:1px solid rgba(255,179,0,.2)}.roll-entry{padding:8px 0;border-bottom:1px solid rgba(255,255,255,.05);font-family:var(--font-body);font-size:.9rem;display:flex;align-items:center;flex-wrap:wrap}.roll-formula{color:#a1887f;margin-right:5px}.roll-equals{color:#5d4037;margin-right:8px;font-weight:700}.roll-total{color:#fff;font-weight:900;font-size:1.1rem;text-shadow:0 0 10px rgba(255,255,255,.3)}@keyframes shakeScreen{0%{transform:translateX(0)}25%{transform:translateX(-6px) rotate(-1deg)}75%{transform:translateX(6px) rotate(1deg)}}.shake-effect{animation:shakeScreen .1s cubic-bezier(.36,.07,.19,.97) both infinite!important}@keyframes longFadeOut{0%{opacity:1}60%{opacity:1}100%{opacity:0}}.crit-success-flash::before,.nat1-effect::before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;pointer-events:none;animation:longFadeOut 4s ease-out forwards!important}.crit-success-flash::before{background:radial-gradient(circle,rgba(255,215,0,.6) 0,transparent 70%)}.nat1-effect::before{background:radial-gradient(circle,rgba(180,0,0,.6) 0,transparent 70%)}.crit-fail-flash::before{background:radial-gradient(circle,rgba(180,0,0,.6) 0,transparent 70%)}#compendiumModal .btn-close-fantasy{position:absolute;top:8px!important;right:15px;width:40px;height:40px;z-index:2000;margin:0}#compendiumModal .modal-content{max-width:600px;height:85vh;display:flex;flex-direction:column;padding:0;position:relative;overflow:hidden!important}.compendium-header{padding:20px 20px 15px 20px!important;background:var(--bg-wood-mid);border-bottom:4px solid #0f0803;position:relative;display:flex;flex-direction:column;gap:12px}.search-container{position:relative;width:100%;margin-right:40px}#ruleSearch{width:100%;background:#1a120b;border:1px solid #8d6e63;color:#ffd54f;padding:12px 40px 12px 15px;border-radius:6px;font-family:var(--font-body);font-size:1rem;box-shadow:inset 0 2px 5px rgba(0,0,0,.5)}#ruleSearch::placeholder{color:#5d4037;font-style:italic}.search-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);opacity:.5}.category-filters{display:flex;gap:8px;overflow-x:auto;padding:10px 15px;scrollbar-width:none;-webkit-mask-image:linear-gradient(to right,transparent,black 5%,black 95%,transparent);mask-image:linear-gradient(to right,transparent,black 5%,black 95%,transparent);scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.category-filters::-webkit-scrollbar{display:none}.cat-btn{background:#3e2723;color:#a1887f;border:1px solid #5d4037;padding:6px 12px;border-radius:15px;font-size:.75rem;white-space:nowrap;cursor:pointer;font-family:var(--font-title);transition:all .2s}.cat-btn.active{background:var(--gold);color:#1a120b;border-color:#ffca28;box-shadow:0 0 10px rgba(255,179,0,.4);font-weight:700}.rules-scroll-area{flex:1;overflow-y:auto;background:#eecfa1;padding:15px;scrollbar-width:none;-ms-overflow-style:none;background-image:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E")}.rules-scroll-area::-webkit-scrollbar{display:none}.rule-card{background:rgba(255,255,255,.4);border:1px solid #bcaaa4;border-radius:6px;padding:12px;margin-bottom:12px;box-shadow:0 2px 4px rgba(0,0,0,.1);text-align:left!important;display:flex;flex-direction:column}.rule-title{font-family:var(--font-title);color:#3e2723;font-size:1.1rem;font-weight:700;border-bottom:2px solid #8d6e63;padding-bottom:4px;margin-bottom:8px;display:flex;justify-content:space-between}.rule-tag{font-size:.6rem;background:#5d4037;color:#fff;padding:2px 6px;border-radius:4px;text-transform:uppercase;align-self:center}.rule-desc{font-family:var(--font-body);color:#1a0f00;font-size:.9rem;line-height:1.4;text-align:left!important}.rule-desc strong{color:#bf360c}.rule-desc ul{text-align:left;padding-left:1.2rem;margin:8px 0}.rule-desc li{margin-bottom:4px}.level-header{width:100%;padding:8px;margin-top:20px;margin-bottom:8px;font-family:var(--font-title);font-weight:900;text-transform:uppercase;color:#fff;text-shadow:2px 2px 0 #000;text-align:center;border-radius:4px;border:1px solid rgba(255,255,255,.3);box-shadow:0 4px 6px rgba(0,0,0,.4);position:sticky;top:-16px;z-index:100}.lvl-0{background:linear-gradient(90deg,#424242,#757575,#424242);border-color:#9e9e9e}.lvl-1{background:linear-gradient(90deg,#1b5e20,#4caf50,#1b5e20);border-color:#81c784}.lvl-2{background:linear-gradient(90deg,#0d47a1,#2196f3,#0d47a1);border-color:#64b5f6}.lvl-3{background:linear-gradient(90deg,#b71c1c,#f44336,#b71c1c);border-color:#e57373}.lvl-4{background:linear-gradient(90deg,#4a148c,#9c27b0,#4a148c);border-color:#ba68c8}.lvl-5{background:linear-gradient(90deg,#e65100,#ff9800,#e65100);border-color:#ffb74d}.lvl-6{background:linear-gradient(90deg,#f57f17,#ffca28,#f57f17);border-color:#ffd54f;color:#3e2723;text-shadow:none}.lvl-7{background:linear-gradient(90deg,#006064,#00bcd4,#006064);border-color:#4dd0e1}.lvl-8{background:linear-gradient(90deg,#880e4f,#e91e63,#880e4f);border-color:#f06292}.lvl-9{background:linear-gradient(90deg,#000,#311b92,#000);border-color:#b388ff;border:1px solid #fff}.lvl-general{background:linear-gradient(90deg,#3e2723,#5d4037,#3e2723);color:#eecfa1}.header-barbaro{background:linear-gradient(90deg,#7f0000,#d32f2f,#7f0000)}.header-bardo{background:linear-gradient(90deg,#4a148c,#9c27b0,#4a148c)}.header-clerigo{background:linear-gradient(90deg,#263238,#78909c,#263238)}.header-druida{background:linear-gradient(90deg,#1b5e20,#4caf50,#1b5e20)}.header-guerreiro{background:linear-gradient(90deg,#3e2723,#795548,#3e2723)}.header-monge{background:linear-gradient(90deg,#004d40,#26a69a,#004d40)}.header-paladino{background:linear-gradient(90deg,#f57f17,#fbc02d,#f57f17);color:#000!important;text-shadow:none!important}.header-patrulheiro{background:linear-gradient(90deg,#33691e,#689f38,#33691e)}.header-ladino{background:linear-gradient(90deg,#000,#424242,#000)}.header-feiticeiro{background:linear-gradient(90deg,#b71c1c,#e53935,#b71c1c)}.header-bruxo{background:linear-gradient(90deg,#311b92,#5e35b1,#311b92)}.header-mago{background:linear-gradient(90deg,#0d47a1,#1e88e5,#0d47a1)}.header-especies{background:linear-gradient(90deg,#5d4037,#8d6e63,#5d4037)!important;border-color:#3e2723!important}.tag-especies{background:#795548!important}#globalLogModal .modal-content,#settingsMenu .modal-content{background:var(--parchment);border:8px solid var(--bg-wood-dark);box-shadow:0 0 0 10px #5d4037,0 20px 50px rgba(0,0,0,.8)}#settingsMenu .modal-content{max-width:380px;padding:30px 20px}#globalLogModal h3,#settingsMenu h3{font-family:var(--font-title);color:#3e2723;font-size:1.4rem;border-bottom:2px solid #8d6e63;padding-bottom:10px;margin-bottom:25px;text-transform:uppercase;letter-spacing:1px}.settings-group{margin-bottom:25px;text-align:center}.settings-group .desc{font-size:.8rem;color:#5d4037;margin-top:8px;font-style:italic;line-height:1.3;padding:0 10px}.btn-settings-action{width:100%;padding:14px;font-family:var(--font-title);font-weight:700;border-radius:10px;cursor:pointer;transition:all .1s;border:1px solid rgba(0,0,0,.3);text-transform:uppercase;font-size:.9rem;text-shadow:0 -1px 0 rgba(0,0,0,.5)}.btn-settings-action:active{transform:translateY(4px);box-shadow:none!important}.btn-warning-fantasy{background:linear-gradient(to bottom,#ffca28,#ff8f00);color:#3e2723;box-shadow:0 4px 0 #bf360c,0 4px 10px rgba(0,0,0,.3);text-shadow:none}.btn-danger-fantasy{background:linear-gradient(to bottom,#ef5350,#b71c1c);color:#fff;box-shadow:0 4px 0 #7f0000,0 4px 10px rgba(0,0,0,.3)}#globalLogModal .btn-close-fantasy,#settingsMenu .btn-close-fantasy{position:relative;top:0;right:0;margin:10px auto 0 auto;width:50px;height:50px}.stats-banner{display:flex;gap:10px;margin-bottom:10px}.stat-box{flex:1;background:rgba(0,0,0,.05);border:1px solid #8d6e63;border-radius:8px;padding:8px;display:flex;flex-direction:column;align-items:center}.stat-box.lucky{background:linear-gradient(to bottom,#fff8e1,#ffecb3);border-color:#ffb300}.stat-box.unlucky{background:linear-gradient(to bottom,#eceff1,#cfd8dc);border-color:#546e7a}.stat-icon{font-size:1.5rem;margin-bottom:2px}.stat-title{font-family:var(--font-title);font-size:.65rem;font-weight:700;text-transform:uppercase;color:#5d4037}.stat-name{font-weight:700;font-size:.9rem;color:#3e2723;margin:2px 0}.stat-val{font-size:.7rem;color:#795548}.global-log-list{list-style:none;padding:0;margin:0;max-height:45vh;overflow-y:auto;border:1px solid #8d6e63;border-radius:4px;background:#fff8e1;box-shadow:inset 0 0 10px rgba(0,0,0,.1)}.global-log-entry{padding:10px 12px;border-bottom:1px solid #d7ccc8;display:flex;justify-content:space-between;align-items:center;font-family:var(--font-body)}.global-log-entry:last-child{border-bottom:none}.log-meta{display:flex;flex-direction:column;align-items:flex-start}.log-char-name{font-weight:700;font-family:var(--font-title);font-size:.9rem;text-shadow:0 1px 0 rgba(255,255,255,.5)}.log-time{font-size:.65rem;color:#8d6e63;margin-top:2px}.log-result-box{display:flex;flex-direction:column;align-items:flex-end}.log-crit-success{color:#d32f2f;text-shadow:0 0 2px #ffcdd2}.log-crit-fail{color:#546e7a}.mod-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;background:rgba(0,0,0,.2);padding:10px;border-radius:10px}.mod-btn{background:linear-gradient(145deg,#381f13,#5f3a25,#411e0b,#492e23,#29150b)!important;border:2px solid #3e2723!important;color:#fff;padding:12px 0;font-size:1rem;font-weight:700;border-radius:5px;box-shadow:0 3px 0 #271810;font-family:Lato,sans-serif}.mod-btn.active{background:linear-gradient(to bottom,#ffd740,#ff8f00);color:#3e2723;box-shadow:0 3px 0 #bf360c;border-color:#fff}.mod-btn:active{transform:translateY(2px);box-shadow:0 1px 0 #102027}@media (max-width:600px){.compendium-header{padding:20px 35px 15px 20px!important}.compendium-header h3{font-size:1rem!important;margin-bottom:5px!important}#ruleSearch{padding:8px 35px 8px 12px!important;font-size:.9rem!important}#compendiumModal .btn-close-fantasy{width:35px;height:35px;font-size:16px;top:5px!important;right:10px}.category-filters{padding:5px 0!important}.cat-btn{padding:4px 10px!important;font-size:.7rem!important}.rules-scroll-area{padding:10px!important}}.header-armadurasescudos,.header-armasmarciais,.header-armassimples,.header-equipamento,.header-ferramentasdeartesao,.header-itemdeaventuraa-f,.header-itemdeaventurag-z,.header-montariaseveiculos,.header-pacotesdeequipamento,.header-propriedadesemaestria,.header-regrasdeequipamento,.header-servicosehospedagem{background:linear-gradient(90deg,#263238,#546e7a,#263238)!important;border-color:#90a4ae!important;color:#eceff1!important;text-shadow:0 2px 4px rgba(0,0,0,.8)!important}.tag-armadurasescudos,.tag-armasmarciais,.tag-armassimples,.tag-equipamento,.tag-ferramentasdeartesao,.tag-itemdeaventuraa-f,.tag-itemdeaventurag-z,.tag-montariaseveiculos,.tag-pacotesdeequipamento,.tag-propriedadesemaestria,.tag-regrasdeequipamento,.tag-servicosehospedagem{background:#455a64!important;color:#fff!important}.header-beneficiosepicos,.header-estilodecombate,.header-talento,.header-talentosdeorigem,.header-talentosgerais{background:linear-gradient(90deg,#388e3c,#66bb6a,#388e3c)!important;border-color:#a5d6a7!important;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.4)!important}.header-fundamentos{background:linear-gradient(90deg,#b8860b,#daa520,#b8860b)!important;border-color:#8b4513!important;color:#fff!important}.tag-fundamentos{background:#8b4513!important}.tag-beneficiosepicos,.tag-estilodecombate,.tag-talento,.tag-talentosdeorigem,.tag-talentosgerais{background:#43a047!important;color:#fff!important}.tag-barbaro{background:#b71c1c!important}.tag-bardo{background:#7b1fa2!important}.tag-clerigo{background:#455a64!important}.tag-druida{background:#2e7d32!important}.tag-guerreiro{background:#5d4037!important}.tag-monge{background:#00695c!important}.tag-paladino{background:#ffb300!important;color:#000!important}.tag-patrulheiro{background:#33691e!important}.tag-ladino{background:#212121!important}.tag-feiticeiro{background:#c62828!important}.tag-bruxo{background:#4a148c!important}.tag-mago{background:#1565c0!important}.tag-condition{background:#00838f!important}.tag-action{background:#9e9d24!important}.tag-env{background:#2e7d32!important}.tag-combat{background:#424242!important}.tag-aasimar,.tag-anao,.tag-draconato,.tag-elfo,.tag-gnomo,.tag-golias,.tag-halfling,.tag-humano,.tag-orc,.tag-tiefling{background:#795548!important}.btn-donate-legendary{width:100%;padding:16px;position:relative;overflow:hidden;cursor:pointer;font-family:Cinzel,serif;font-weight:900;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;color:#3e2723;background:linear-gradient(to bottom,#fff176 0,#ffd54f 50%,#ff6f00 100%);border:2px solid #fff;outline:2px solid #ff6f00;border-radius:8px;box-shadow:0 0 15px rgba(255,179,0,.6),inset 0 0 10px rgba(255,255,255,.5);transition:all .2s ease}.btn-donate-legendary:active{transform:scale(.98);box-shadow:0 0 5px rgba(255,179,0,.8)}.shiny-effect{position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(to right,rgba(255,255,255,0) 0,rgba(255,255,255,.8) 50%,rgba(255,255,255,0) 100%);transform:skewX(-25deg);animation:shineMove 3s infinite}@keyframes shineMove{0%{left:-100%}20%{left:200%}100%{left:200%}}#splash-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle,#2a1b0e 0,#1a120b 100%);display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity .8s ease,visibility .8s}.splash-content{text-align:center}#splash-logo{width:100px;height:100px;margin-bottom:20px;border-radius:50%;filter:drop-shadow(0 0 15px rgba(255, 179, 0, .5));animation:spinLogo 3s linear infinite}.splash-text{font-family:Cinzel,serif;color:var(--gold);margin-top:15px;letter-spacing:2px;font-size:.9rem}.spinner-container{width:50px;height:50px;margin:0 auto;position:relative}.magic-spinner{width:100%;height:100%;border:3px solid transparent;border-top-color:var(--gold);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes spinLogo{from{transform:rotate(0)}to{transform:rotate(360deg)}}.splash-hidden{opacity:0!important;visibility:hidden!important}.dice-pair-wrapper{display:flex;gap:5px;width:100%}.dice-pair-wrapper .dice-btn{flex:1;font-size:1rem}.dice-pair-wrapper .dice-count{width:20px;height:20px;font-size:.75rem}