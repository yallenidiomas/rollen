const a0_0x55f883=a0_0x3674;(function(_0x5dbf82,_0x2fd796){const _0x5371b0=a0_0x3674,_0x25b467=_0x5dbf82();while(!![]){try{const _0x353396=-parseInt(_0x5371b0(0xf5))/0x1+parseInt(_0x5371b0(0x20a))/0x2+-parseInt(_0x5371b0(0x1b9))/0x3+-parseInt(_0x5371b0(0xec))/0x4+parseInt(_0x5371b0(0x10e))/0x5+parseInt(_0x5371b0(0xe8))/0x6*(parseInt(_0x5371b0(0xcf))/0x7)+-parseInt(_0x5371b0(0x116))/0x8*(-parseInt(_0x5371b0(0x14b))/0x9);if(_0x353396===_0x2fd796)break;else _0x25b467['push'](_0x25b467['shift']());}catch(_0x2b41fc){_0x25b467['push'](_0x25b467['shift']());}}}(a0_0x33f0,0xdf881));const AudioContext=window[a0_0x55f883(0x115)]||window['webkitAudioContext'],audioCtx=new AudioContext(),soundBuffers={},lastSoundTime={},MAX_VOICES=0x4;let activeVoices=0x0;const soundMap={'click':a0_0x55f883(0x24a),'touch':a0_0x55f883(0x171),'hold':a0_0x55f883(0xaa),'shoot':a0_0x55f883(0x24f),'start':'./start.mp3','crit':a0_0x55f883(0x15e),'fumble':a0_0x55f883(0xaf),'throw':a0_0x55f883(0x13c),'col0':a0_0x55f883(0x13b),'col1':a0_0x55f883(0x129),'col2':a0_0x55f883(0x22c),'col3':a0_0x55f883(0x17f),'col4':a0_0x55f883(0xf7)};async function preloadSounds(){const _0x327938=a0_0x55f883;for(const [_0x11ecb5,_0x34cdb4]of Object[_0x327938(0x1eb)](soundMap)){try{const _0x8e1e1=await fetch(_0x34cdb4),_0x3523cd=await _0x8e1e1[_0x327938(0xee)](),_0x41cf92=await audioCtx['decodeAudioData'](_0x3523cd);soundBuffers[_0x11ecb5]=_0x41cf92;}catch(_0x43c5b0){console[_0x327938(0x205)]('Erro\x20carregando\x20som:\x20'+_0x11ecb5,_0x43c5b0);}}}preloadSounds();function unlockAudio(){const _0x3fcf67=a0_0x55f883;audioCtx[_0x3fcf67(0x1cf)]===_0x3fcf67(0x196)&&audioCtx['resume']()['then'](()=>{const _0x5778b3=_0x3fcf67,_0x188a32=audioCtx[_0x5778b3(0x1f7)](0x1,0x1,0x5622),_0xa3c2b3=audioCtx[_0x5778b3(0xd3)]();_0xa3c2b3[_0x5778b3(0x140)]=_0x188a32,_0xa3c2b3[_0x5778b3(0x1f3)](audioCtx['destination']),_0xa3c2b3['start'](0x0),console['log']('Áudio\x20desbloqueado\x20para\x20iOS'),window['removeEventListener'](_0x5778b3(0x1c6),unlockAudio),window[_0x5778b3(0x10f)](_0x5778b3(0x127),unlockAudio);});}window[a0_0x55f883(0x1a6)](a0_0x55f883(0x1c6),unlockAudio,{'passive':![]}),window['addEventListener'](a0_0x55f883(0x127),unlockAudio);function playSound(_0x58d016,_0x45c6be=0x1){const _0x1b37a2=a0_0x55f883,_0x5c1b2b=localStorage[_0x1b37a2(0x185)](_0x1b37a2(0x234))===_0x1b37a2(0x192);if(_0x5c1b2b)return;let _0x3f2f3a=_0x58d016;if(_0x58d016===_0x1b37a2(0x19b)){const _0x4514e4=Math[_0x1b37a2(0x1c4)](Math[_0x1b37a2(0x1bd)]()*0x5);_0x3f2f3a=_0x1b37a2(0x1ad)+_0x4514e4;}if(!soundBuffers[_0x3f2f3a])return;if(activeVoices>=MAX_VOICES&&_0x58d016===_0x1b37a2(0x19b))return;const _0x660dca=audioCtx[_0x1b37a2(0xd3)]();_0x660dca[_0x1b37a2(0x140)]=soundBuffers[_0x3f2f3a];const _0x1c3b8f=audioCtx[_0x1b37a2(0x1fd)]();let _0xb0275a=_0x45c6be;if(_0x58d016==='collide'){_0xb0275a=_0x45c6be+(Math[_0x1b37a2(0x1bd)]()*0.2-0.1);if(_0xb0275a>0x1)_0xb0275a=0x1;if(_0xb0275a<0.1)_0xb0275a=0.4;}_0x1c3b8f[_0x1b37a2(0x221)][_0x1b37a2(0x1e7)]=_0xb0275a,_0x660dca['connect'](_0x1c3b8f),_0x1c3b8f['connect'](audioCtx[_0x1b37a2(0x150)]),activeVoices++,_0x660dca[_0x1b37a2(0x173)](0x0),_0x660dca[_0x1b37a2(0x176)]=()=>{activeVoices--;if(activeVoices<0x0)activeVoices=0x0;};}function playHoldSound(){const _0x491344=a0_0x55f883;if(currentHoldSource||!soundBuffers[_0x491344(0x16d)])return;const _0x303a39=audioCtx['createBufferSource']();_0x303a39['buffer']=soundBuffers[_0x491344(0x16d)],_0x303a39[_0x491344(0x162)]=!![],_0x303a39['loopStart']=1.7,_0x303a39[_0x491344(0x1a1)]=0x2;const _0x26a39c=audioCtx[_0x491344(0x1fd)]();_0x26a39c['gain'][_0x491344(0x1e7)]=0.5,_0x303a39['connect'](_0x26a39c),_0x26a39c[_0x491344(0x1f3)](audioCtx[_0x491344(0x150)]),_0x303a39['start'](0x0),currentHoldSource=_0x303a39;}function stopHoldSound(){const _0x377db1=a0_0x55f883;if(currentHoldSource){try{currentHoldSource[_0x377db1(0x212)]();}catch(_0x2e1f92){}currentHoldSource=null;}}const avatars={'master':a0_0x55f883(0x1f2),'monster':a0_0x55f883(0x241),'boss':a0_0x55f883(0x175),'familiar':a0_0x55f883(0x204),'humanf':a0_0x55f883(0x225),'humanm':a0_0x55f883(0x214),'bhumanm':a0_0x55f883(0xd1),'bhumanf':'<img\x20src=\x22bhumanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','dragonbornf':'<img\x20src=\x22dragonbornf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracona\x22>','dragonbornm':'<img\x20src=\x22dragonbornm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracono\x22>','elfdrowf':a0_0x55f883(0xd4),'elfdrowm':a0_0x55f883(0x114),'elfhighf':a0_0x55f883(0x101),'elfhighm':a0_0x55f883(0x133),'elfwoodf':a0_0x55f883(0x18d),'elfwoodm':'<img\x20src=\x22elfwoodm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20M\x22>','gnomef':'<img\x20src=\x22gnomef.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnoma\x22>','gnomem':a0_0x55f883(0x213),'tieflingf':a0_0x55f883(0x14c),'tieflingm':a0_0x55f883(0x104),'halfelff':a0_0x55f883(0xa8),'halfelfm':a0_0x55f883(0xb1),'halforcf':'<img\x20src=\x22halforcf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20F\x22>','halforcm':a0_0x55f883(0x201),'aesimarm':a0_0x55f883(0x20b),'aesimarf':a0_0x55f883(0x208),'goliathm':'<img\x20src=\x22goliathm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20M\x22>','goliathf':a0_0x55f883(0x1fc)},diceConfigs={0x4:{'color':0xef5350},0x6:{'color':0xffca28},0x8:{'color':0x66bb6a},0xa:{'color':0x42a5f5},0x64:{'color':0x42a5f5},0xc:{'color':0xab47bc},0x14:{'color':0xffffff}},diceTypes=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14],diceLayout=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14];let campaign={'name':'Aventura','characters':[],'globalLog':[]},activeCharIndex=0x0,selectedAvatarKey=a0_0x55f883(0x23a),diceObjects=[],magicEffects=[],hasCritHappened=![],currentSpecialSound=null,world,scene,camera,renderer,isRolling=![],pressTimer=null,sparkleTexture=null,walls={'left':null,'right':null,'top':null,'bottom':null},isGameRunning=![],clock=new THREE[(a0_0x55f883(0x250))](),rollMode='normal',lastCollisionTime=0x0,matDice,matGround,chargeAnimId=null,lastFrameTime=0x0,pressPower=0x0,isPressing=![],currentHoldSource=null;document[a0_0x55f883(0x1a6)]('DOMContentLoaded',()=>{const _0x4f45c0=a0_0x55f883;try{loadData();}catch(_0x51ad3f){console[_0x4f45c0(0x122)](_0x4f45c0(0x108),_0x51ad3f),localStorage[_0x4f45c0(0x218)]();}renderDiceButtons(),renderAvatarSelection(),setupEventListeners(),setupColorPicker(),setupModPicker();try{initPhysicsAndGraphics(),animate();}catch(_0x1e554c){console[_0x4f45c0(0x122)]('Erro\x203D:',_0x1e554c);}});function saveData(){const _0x4533e1=a0_0x55f883;try{const _0x527ac5=document[_0x4533e1(0xb2)]('modInput');_0x527ac5&&campaign['characters'][activeCharIndex]&&(campaign[_0x4533e1(0x240)][activeCharIndex][_0x4533e1(0xc3)]=parseInt(_0x527ac5[_0x4533e1(0x1e7)])||0x0);const _0x4dec19={'campaign':campaign,'activeCharIndex':activeCharIndex,'isGameRunning':isGameRunning};localStorage['setItem'](_0x4533e1(0x1e6),JSON[_0x4533e1(0x15d)](_0x4dec19));}catch(_0x45e4c5){console[_0x4533e1(0x122)](_0x4533e1(0x19e),_0x45e4c5);}}function loadData(){const _0x18c63d=a0_0x55f883,_0x29930c=localStorage['getItem']('rollen_save_v1');if(_0x29930c)try{const _0x406bed=JSON[_0x18c63d(0x11e)](_0x29930c);if(_0x406bed['campaign']){campaign=_0x406bed[_0x18c63d(0x16c)];if(!Array[_0x18c63d(0x233)](campaign[_0x18c63d(0x240)]))campaign[_0x18c63d(0x240)]=[];if(!Array[_0x18c63d(0x233)](campaign[_0x18c63d(0x223)]))campaign['globalLog']=[];activeCharIndex=_0x406bed[_0x18c63d(0x180)]||0x0,isGameRunning=_0x406bed[_0x18c63d(0x195)]||![];if(isGameRunning&&campaign[_0x18c63d(0x240)][_0x18c63d(0xbf)]>0x0){document[_0x18c63d(0xb2)](_0x18c63d(0xeb))[_0x18c63d(0x1ba)]['display']=_0x18c63d(0xbb),document['getElementById'](_0x18c63d(0x177))[_0x18c63d(0x1ba)]['display']=_0x18c63d(0xe9),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs();const _0x49f55d=activeCharIndex;activeCharIndex=-0x1,setTimeout(()=>switchTab(_0x49f55d),0x64);}else document['getElementById'](_0x18c63d(0xeb))[_0x18c63d(0x1ba)][_0x18c63d(0x1f5)]='flex',updateModalCharList();}}catch(_0x29d813){console['error']('Erro\x20loadData',_0x29d813);}}function updateModalCharList(){const _0x9d1a2b=a0_0x55f883,_0x1c0d8e=document[_0x9d1a2b(0xb2)](_0x9d1a2b(0x1f1));if(!_0x1c0d8e)return;_0x1c0d8e[_0x9d1a2b(0x105)]='';if(!campaign[_0x9d1a2b(0x240)])campaign[_0x9d1a2b(0x240)]=[];campaign[_0x9d1a2b(0x240)][_0x9d1a2b(0x1b0)](_0x209457=>{const _0x5066a6=_0x9d1a2b,_0x592cb5=document[_0x5066a6(0x1d7)]('li');_0x592cb5[_0x5066a6(0x105)]=_0x5066a6(0x106)+_0x209457['color']+'\x22>'+_0x209457[_0x5066a6(0x1c1)]+_0x5066a6(0x157)+_0x209457['color']+_0x5066a6(0x19a)+_0x209457[_0x5066a6(0xf4)]+_0x5066a6(0x1ee),_0x1c0d8e[_0x5066a6(0xd0)](_0x592cb5);});const _0x12ada5=document[_0x9d1a2b(0xb2)](_0x9d1a2b(0xf3));if(_0x12ada5)_0x12ada5[_0x9d1a2b(0x1f6)]=campaign[_0x9d1a2b(0x240)][_0x9d1a2b(0xbf)]===0x0;}function renderDiceButtons(){const _0x40ab2b=a0_0x55f883,_0x11b4b6=document[_0x40ab2b(0xb2)](_0x40ab2b(0x1e0));if(!_0x11b4b6)return;_0x11b4b6[_0x40ab2b(0x105)]='',diceTypes[_0x40ab2b(0x1b0)](_0x358e4a=>{const _0x2d80cc=_0x40ab2b;if(Array[_0x2d80cc(0x233)](_0x358e4a)){const _0x394e39=document[_0x2d80cc(0x1d7)](_0x2d80cc(0x1e5));_0x394e39[_0x2d80cc(0xfb)]=_0x2d80cc(0x222),_0x358e4a[_0x2d80cc(0x1b0)](_0xd084e=>{const _0x430d3f=_0x2d80cc,_0xb8963=createDiceBtn(_0xd084e);_0x394e39[_0x430d3f(0xd0)](_0xb8963);}),_0x11b4b6['appendChild'](_0x394e39);}else _0x11b4b6['appendChild'](createDiceBtn(_0x358e4a));});}function createDiceBtn(_0x2d2f8f){const _0x211a83=a0_0x55f883,_0x33f65e=document[_0x211a83(0x1d7)]('button');_0x33f65e['className']=_0x211a83(0xe7),_0x33f65e['id']=_0x211a83(0x164)+_0x2d2f8f;const _0x53b8de=_0x2d2f8f===0x64?'D%':'D'+_0x2d2f8f;return _0x33f65e[_0x211a83(0x105)]=_0x53b8de+'\x20<span\x20class=\x22dice-count\x22\x20id=\x22count-d'+_0x2d2f8f+'\x22>0</span>',_0x33f65e[_0x211a83(0x248)]=()=>addDice(_0x2d2f8f),_0x33f65e;}function renderAvatarSelection(){const _0x2a1553=a0_0x55f883,_0x700195=document['getElementById'](_0x2a1553(0xba));if(!_0x700195)return;_0x700195['innerHTML']='',Object[_0x2a1553(0xc8)](avatars)[_0x2a1553(0x1b0)](_0x43d7b1=>{const _0x1265ce=_0x2a1553,_0x41ae36=document[_0x1265ce(0x1d7)](_0x1265ce(0x1e5));_0x41ae36[_0x1265ce(0xfb)]=_0x1265ce(0x152)+(_0x43d7b1===selectedAvatarKey?'selected':''),_0x41ae36[_0x1265ce(0x105)]=avatars[_0x43d7b1],_0x41ae36[_0x1265ce(0x248)]=()=>{const _0x21ab9c=_0x1265ce;document[_0x21ab9c(0x1ef)](_0x21ab9c(0x121))[_0x21ab9c(0x1b0)](_0x15c13e=>_0x15c13e[_0x21ab9c(0x1e4)][_0x21ab9c(0x1e3)]('selected')),_0x41ae36['classList'][_0x21ab9c(0xed)](_0x21ab9c(0x207)),selectedAvatarKey=_0x43d7b1;},_0x700195[_0x1265ce(0xd0)](_0x41ae36);});}function setupColorPicker(){const _0x538285=a0_0x55f883,_0x3d00ce=document[_0x538285(0xb2)]('charColorInput'),_0x10ace0=document[_0x538285(0x1cc)]('.color-picker-wrapper');if(_0x3d00ce&&_0x10ace0){const _0x31f5cd=()=>{const _0x5893ff=_0x538285;_0x10ace0['style']['backgroundColor']=_0x3d00ce[_0x5893ff(0x1e7)];};_0x3d00ce[_0x538285(0x1a6)](_0x538285(0x197),_0x31f5cd),_0x31f5cd();}}function updateDiceButtonUI(_0xa6fbad,_0x4b7298,_0x5bbd4c){const _0x3ca226=a0_0x55f883,_0x588fbd=document[_0x3ca226(0xb2)]('count-d'+_0xa6fbad),_0x510c7a=document[_0x3ca226(0xb2)](_0x3ca226(0x164)+_0xa6fbad);if(!_0x588fbd||!_0x510c7a)return;if(_0x5bbd4c){_0x588fbd['innerText']='0',_0x588fbd[_0x3ca226(0x1ba)][_0x3ca226(0x1f5)]='none',_0x510c7a[_0x3ca226(0x1e4)][_0x3ca226(0x1e3)](_0x3ca226(0x207));return;}let _0x3e8f32=parseInt(_0x588fbd['innerText'])||0x0;_0x3e8f32+=_0x4b7298,_0x588fbd['innerText']=_0x3e8f32,_0x588fbd[_0x3ca226(0x1ba)][_0x3ca226(0x1f5)]=_0x3e8f32>0x0?'flex':'none';if(_0x3e8f32>0x0)_0x510c7a[_0x3ca226(0x1e4)][_0x3ca226(0xed)](_0x3ca226(0x207));}function updateResultDisplay(_0x3cd729,_0x4eb032){const _0x3df532=a0_0x55f883,_0x416cf8=document[_0x3df532(0xb2)](_0x3df532(0x1bc)),_0x18791c=document[_0x3df532(0xb2)]('resultTotal');if(_0x416cf8)_0x416cf8[_0x3df532(0x105)]=_0x3cd729;if(_0x18791c){_0x18791c['innerText']=_0x4eb032;const _0x8d9fb2=campaign['characters'][activeCharIndex];if(_0x8d9fb2)_0x18791c[_0x3df532(0x1ba)][_0x3df532(0xb7)]=_0x3df532(0x10d);}}function openAddCharModal(){const _0x4e5619=a0_0x55f883,_0x2dff94=document[_0x4e5619(0xb2)](_0x4e5619(0xeb)),_0x31e02c=document['getElementById']('startCampaignBtn');updateModalCharList(),isGameRunning?(_0x31e02c[_0x4e5619(0x1ca)]='VOLTAR\x20AO\x20JOGO',_0x31e02c[_0x4e5619(0x1f6)]=![]):(_0x31e02c['innerText']=_0x4e5619(0xd9),_0x31e02c[_0x4e5619(0x1f6)]=campaign['characters']['length']===0x0),_0x2dff94[_0x4e5619(0x1ba)][_0x4e5619(0x1f5)]=_0x4e5619(0xe9),playSound(_0x4e5619(0x127));}function addCharacterPreview(){const _0x4fa27a=a0_0x55f883;try{const _0x1e58ce=document['getElementById'](_0x4fa27a(0x216)),_0x2a4673=document[_0x4fa27a(0xb2)]('charColorInput');if(!_0x1e58ce||!_0x2a4673)return;const _0x56f9d1=_0x1e58ce[_0x4fa27a(0x1e7)][_0x4fa27a(0x138)](),_0x5c3e0d=_0x2a4673['value'];if(!_0x56f9d1)return;const _0x4666ae={'name':_0x56f9d1,'color':_0x5c3e0d,'avatar':avatars[selectedAvatarKey]||avatars[_0x4fa27a(0x23a)],'turnCount':0x1,'history':[],'modifier':0x0,'rollMode':_0x4fa27a(0x194)};if(!campaign['characters'])campaign[_0x4fa27a(0x240)]=[];campaign[_0x4fa27a(0x240)][_0x4fa27a(0xf9)](_0x4666ae),saveData(),updateModalCharList(),_0x1e58ce[_0x4fa27a(0x1e7)]='',selectedAvatarKey=_0x4fa27a(0x23a),renderAvatarSelection(),playSound(_0x4fa27a(0x127));}catch(_0x4c1c45){console[_0x4fa27a(0x122)](_0x4fa27a(0xcd),_0x4c1c45),alert(_0x4fa27a(0x123));}}function startCampaign(){const _0x36d2a7=a0_0x55f883;campaign['name']=document[_0x36d2a7(0xb2)](_0x36d2a7(0x166))['value']||_0x36d2a7(0x1aa),isGameRunning=!![],saveData(),document[_0x36d2a7(0xb2)]('setupModal')[_0x36d2a7(0x1ba)][_0x36d2a7(0x1f5)]=_0x36d2a7(0xbb),document[_0x36d2a7(0xb2)](_0x36d2a7(0x177))[_0x36d2a7(0x1ba)]['display']=_0x36d2a7(0xe9),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs(),activeCharIndex=-0x1,setTimeout(()=>{const _0x186b2e=_0x36d2a7;if(campaign[_0x186b2e(0x240)][_0x186b2e(0xbf)]>0x0)switchTab(0x0);},0x64);}function renderTabs(){const _0x50525a=a0_0x55f883,_0x107097=document[_0x50525a(0xb2)](_0x50525a(0x247));if(!_0x107097)return;_0x107097['innerHTML']='';if(!campaign['characters'])campaign[_0x50525a(0x240)]=[];campaign[_0x50525a(0x240)][_0x50525a(0x1b0)]((_0x395686,_0x26064c)=>{const _0x33e85d=_0x50525a,_0x3a1e96=document[_0x33e85d(0x1d7)](_0x33e85d(0x1e5));_0x3a1e96[_0x33e85d(0xfb)]=_0x33e85d(0x160)+(_0x26064c===activeCharIndex?_0x33e85d(0xc1):''),_0x3a1e96[_0x33e85d(0x105)]=_0x33e85d(0x117)+_0x395686[_0x33e85d(0x1c1)]+'</div>\x20'+_0x395686[_0x33e85d(0xf4)],_0x3a1e96['style'][_0x33e85d(0xdb)]=_0x395686[_0x33e85d(0xb7)];if(_0x26064c===activeCharIndex){_0x3a1e96[_0x33e85d(0x1ba)][_0x33e85d(0xb7)]=_0x395686[_0x33e85d(0xb7)];const _0x48600d=_0x3a1e96[_0x33e85d(0x1cc)](_0x33e85d(0x141));if(_0x48600d)_0x48600d[_0x33e85d(0x1ba)][_0x33e85d(0xe3)]=_0x395686[_0x33e85d(0xb7)];}_0x3a1e96[_0x33e85d(0x248)]=()=>switchTab(_0x26064c),_0x3a1e96['draggable']=!![],_0x3a1e96[_0x33e85d(0x136)]=_0x1cabbd=>{const _0x3c1794=_0x33e85d;_0x1cabbd[_0x3c1794(0x22d)][_0x3c1794(0x187)](_0x3c1794(0x24e),_0x26064c),_0x3a1e96[_0x3c1794(0x1ba)][_0x3c1794(0xc6)]='0.5';},_0x3a1e96[_0x33e85d(0x24c)]=()=>{const _0x59f96f=_0x33e85d;_0x3a1e96[_0x59f96f(0x1ba)][_0x59f96f(0xc6)]='1';},_0x3a1e96['ondragover']=_0x1af4bf=>{const _0x3c0e82=_0x33e85d;_0x1af4bf[_0x3c0e82(0x13d)]();},_0x3a1e96[_0x33e85d(0x1f4)]=_0x24c9b0=>{const _0x30dd91=_0x33e85d;_0x24c9b0['preventDefault']();const _0x5a4cbb=parseInt(_0x24c9b0[_0x30dd91(0x22d)][_0x30dd91(0x1d6)](_0x30dd91(0x24e))),_0x1f6740=_0x26064c;if(_0x5a4cbb!==_0x1f6740){const _0x1b1df0=campaign['characters']['splice'](_0x5a4cbb,0x1)[0x0];campaign[_0x30dd91(0x240)]['splice'](_0x1f6740,0x0,_0x1b1df0);if(activeCharIndex===_0x5a4cbb)activeCharIndex=_0x1f6740;else{if(activeCharIndex>_0x5a4cbb&&activeCharIndex<=_0x1f6740)activeCharIndex--;else{if(activeCharIndex<_0x5a4cbb&&activeCharIndex>=_0x1f6740)activeCharIndex++;}}saveData(),renderTabs();}},_0x107097[_0x33e85d(0xd0)](_0x3a1e96);});const _0x35103e=document[_0x50525a(0x1d7)](_0x50525a(0x147));_0x35103e[_0x50525a(0xfb)]='add-char-tab',_0x35103e[_0x50525a(0x1ca)]='+',_0x35103e['onclick']=openAddCharModal,_0x107097[_0x50525a(0xd0)](_0x35103e);}function switchTab(_0x53d0dd){const _0x568b28=a0_0x55f883;if(_0x53d0dd<0x0||_0x53d0dd>=campaign[_0x568b28(0x240)][_0x568b28(0xbf)])return;activeCharIndex=_0x53d0dd;const _0x3a0131=campaign[_0x568b28(0x240)][activeCharIndex],_0xe44514=_0x3a0131[_0x568b28(0xb7)]||'#ffb300';document[_0x568b28(0x1a0)]['style']['setProperty']('--char-color',_0xe44514);const _0x2a8308=document['getElementById'](_0x568b28(0x1f9));if(_0x2a8308){const _0x1fbd09=_0x3a0131[_0x568b28(0x1c1)]||avatars['master'];_0x2a8308[_0x568b28(0x105)]=_0x1fbd09,_0x2a8308[_0x568b28(0x1ba)][_0x568b28(0xdb)]=_0xe44514;const _0x36d3ac=_0x2a8308[_0x568b28(0x1cc)](_0x568b28(0x141));if(_0x36d3ac)_0x36d3ac[_0x568b28(0x1ba)]['fill']=_0xe44514;}const _0x5f412e=document[_0x568b28(0xb2)](_0x568b28(0x148));if(_0x5f412e)_0x5f412e[_0x568b28(0x1ba)][_0x568b28(0xb7)]=_0xe44514;clearDice();const _0x466594=document[_0x568b28(0xb2)](_0x568b28(0x1b2)),_0x30ca5b=document[_0x568b28(0xb2)](_0x568b28(0xff));if(_0x466594)_0x466594[_0x568b28(0x1e7)]=_0x3a0131['modifier']||0x0;if(_0x30ca5b)_0x30ca5b['innerText']=(_0x3a0131[_0x568b28(0xc3)]>0x0?'+':'')+(_0x3a0131[_0x568b28(0xc3)]||0x0);setRollMode(_0x3a0131[_0x568b28(0x1ac)]||'normal'),renderTabs(),updateHistoryUI(),saveData();}function toggleSettings(){const _0x2dd471=a0_0x55f883,_0x4adeba=document[_0x2dd471(0xb2)](_0x2dd471(0x16b));_0x4adeba[_0x2dd471(0x1ba)][_0x2dd471(0x1f5)]=_0x4adeba[_0x2dd471(0x1ba)][_0x2dd471(0x1f5)]==='none'?'flex':_0x2dd471(0xbb),playSound(_0x2dd471(0x127));}function resetJourney(){const _0x565208=a0_0x55f883;confirm(_0x565208(0x242))&&(localStorage[_0x565208(0x218)](),campaign={'name':_0x565208(0x1aa),'characters':[],'globalLog':[]},isGameRunning=![],location['reload']());}function resetCampaignHistory(){const _0x2c426f=a0_0x55f883;confirm(_0x2c426f(0x224))&&(campaign['characters'][_0x2c426f(0x1b0)](_0x1b0f96=>{const _0x180434=_0x2c426f;_0x1b0f96['history']=[],_0x1b0f96[_0x180434(0x217)]=0x1;}),campaign[_0x2c426f(0x223)]=[],updateHistoryUI(),toggleSettings(),saveData(),alert(_0x2c426f(0x146))),playSound('click');}function initPhysicsAndGraphics(){const _0x1cab78=a0_0x55f883,_0x2ff19f=document[_0x1cab78(0xb2)](_0x1cab78(0x102));if(!_0x2ff19f)return;scene=new THREE['Scene']();const _0x4f4841=new THREE[(_0x1cab78(0xfc))](0xffffff,0.5);scene['add'](_0x4f4841);const _0x4f7a22=new THREE[(_0x1cab78(0x1d0))](0xffffff,0.8);_0x4f7a22['position'][_0x1cab78(0x19f)](0x5,0x14,0x5),_0x4f7a22[_0x1cab78(0x12e)]=!![],scene[_0x1cab78(0xed)](_0x4f7a22);const _0xb789fa=new THREE[(_0x1cab78(0xef))](0xaaccff,0.3);_0xb789fa['position']['set'](-0xa,0x5,-0xa),scene[_0x1cab78(0xed)](_0xb789fa),camera=new THREE['PerspectiveCamera'](0x2d,0x1,0.1,0x64),camera[_0x1cab78(0x153)]['set'](0x0,0x12,0x0),camera[_0x1cab78(0x1d8)](0x0,0x0,0x0),renderer=new THREE[(_0x1cab78(0x1ae))]({'alpha':!![],'antialias':!![]}),renderer[_0x1cab78(0x151)][_0x1cab78(0x24b)]=!![],renderer[_0x1cab78(0x151)][_0x1cab78(0x1ff)]=THREE['PCFSoftShadowMap'],_0x2ff19f[_0x1cab78(0xd0)](renderer['domElement']),sparkleTexture=createSparkleTexture(),world=new CANNON['World'](),world[_0x1cab78(0xc2)]['set'](0x0,-0x28,0x0),world[_0x1cab78(0x1d9)]=new CANNON[(_0x1cab78(0x18f))](),world[_0x1cab78(0xe1)][_0x1cab78(0x1db)]=0x14,matGround=new CANNON[(_0x1cab78(0x1e8))](),matDice=new CANNON[(_0x1cab78(0x1e8))](),world[_0x1cab78(0x191)](new CANNON[(_0x1cab78(0xe0))](matGround,matDice,{'friction':0.2,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3})),world[_0x1cab78(0x191)](new CANNON[(_0x1cab78(0xe0))](matDice,matDice,{'friction':0.1,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3}));const _0x37277b=new CANNON['Body']({'mass':0x0,'shape':new CANNON['Plane'](),'material':matGround});_0x37277b[_0x1cab78(0x18e)][_0x1cab78(0x17c)](new CANNON[(_0x1cab78(0x1d2))](0x1,0x0,0x0),-Math['PI']/0x2),world[_0x1cab78(0x20c)](_0x37277b),walls['left']=createWallBody(),walls[_0x1cab78(0x11b)]=createWallBody(),walls['top']=createWallBody(),walls[_0x1cab78(0x1c5)]=createWallBody();}function createWallBody(){const _0x10f634=a0_0x55f883,_0xf0706e=new CANNON[(_0x10f634(0x228))]({'mass':0x0,'shape':new CANNON[(_0x10f634(0x1be))](new CANNON[(_0x10f634(0x1d2))](0x1,0xa,0x14))});return world[_0x10f634(0x20c)](_0xf0706e),_0xf0706e;}function updateWallPositions(){const _0x2f68cc=a0_0x55f883;if(!camera||!renderer)return;const _0x1fa243=camera[_0x2f68cc(0x153)]['y'],_0x126dea=THREE[_0x2f68cc(0x238)][_0x2f68cc(0x120)](camera[_0x2f68cc(0x244)]),_0x5bd886=0x2*Math[_0x2f68cc(0xb0)](_0x126dea/0x2)*_0x1fa243,_0x496092=_0x5bd886*camera[_0x2f68cc(0x1a3)],_0x44fc7f=0.9,_0x4facbf=_0x496092/0x2*_0x44fc7f,_0x3664f5=_0x5bd886/0x2*_0x44fc7f;walls[_0x2f68cc(0x1a9)][_0x2f68cc(0x153)][_0x2f68cc(0x19f)](-_0x4facbf-0x1,0x0,0x0),walls['left'][_0x2f68cc(0x226)][0x0]=new CANNON[(_0x2f68cc(0x1be))](new CANNON[(_0x2f68cc(0x1d2))](0x1,0xa,_0x3664f5*0x2)),walls[_0x2f68cc(0x11b)][_0x2f68cc(0x153)][_0x2f68cc(0x19f)](_0x4facbf+0x1,0x0,0x0),walls[_0x2f68cc(0x11b)][_0x2f68cc(0x226)][0x0]=new CANNON[(_0x2f68cc(0x1be))](new CANNON[(_0x2f68cc(0x1d2))](0x1,0xa,_0x3664f5*0x2)),walls['top']['position'][_0x2f68cc(0x19f)](0x0,0x0,-_0x3664f5-0x1),walls[_0x2f68cc(0x118)][_0x2f68cc(0x226)][0x0]=new CANNON[(_0x2f68cc(0x1be))](new CANNON['Vec3'](_0x4facbf*0x2,0xa,0x1)),walls[_0x2f68cc(0x1c5)][_0x2f68cc(0x153)]['set'](0x0,0x0,_0x3664f5+0x1),walls['bottom']['shapes'][0x0]=new CANNON[(_0x2f68cc(0x1be))](new CANNON[(_0x2f68cc(0x1d2))](_0x4facbf*0x2,0xa,0x1));}function refreshCanvasSize(){const _0x836998=a0_0x55f883,_0x498f06=document[_0x836998(0xb2)](_0x836998(0x102));if(_0x498f06&&camera&&renderer){const _0x1dbc81=_0x498f06[_0x836998(0x107)],_0x294dc4=_0x498f06[_0x836998(0x124)];renderer[_0x836998(0x15a)](_0x1dbc81,_0x294dc4),renderer[_0x836998(0x1d5)](Math['min'](window[_0x836998(0xce)],1.5)),camera[_0x836998(0x1a3)]=_0x1dbc81/_0x294dc4,camera[_0x836998(0x193)]();if(typeof updateWallPositions==='function')updateWallPositions();}}function createDiceGeometry(_0x5694c3,_0x3a368b){const _0x2ebf4d=a0_0x55f883,_0x474a44=_0x3a368b;let _0x3852a3,_0x117e76,_0x180983=0.5;switch(_0x5694c3){case 0x4:_0x3852a3=new THREE[(_0x2ebf4d(0x130))](_0x474a44),_0x117e76=new CANNON[(_0x2ebf4d(0x1be))](new CANNON['Vec3'](_0x474a44*0.75,_0x474a44*0.75,_0x474a44*0.75));break;case 0x6:_0x3852a3=new THREE[(_0x2ebf4d(0x227))](_0x474a44,_0x474a44,_0x474a44),_0x117e76=new CANNON[(_0x2ebf4d(0x1be))](new CANNON[(_0x2ebf4d(0x1d2))](_0x474a44/0x2,_0x474a44/0x2,_0x474a44/0x2));break;case 0x8:_0x3852a3=new THREE[(_0x2ebf4d(0x15c))](_0x474a44),_0x117e76=new CANNON[(_0x2ebf4d(0x1be))](new CANNON[(_0x2ebf4d(0x1d2))](_0x474a44*0.7,_0x474a44*0.7,_0x474a44*0.7));break;case 0xa:case 0x64:_0x3852a3=new THREE[(_0x2ebf4d(0xe4))](_0x474a44,0x5,0x2),_0x3852a3[_0x2ebf4d(0xc7)](0x1,1.1,0x1),_0x117e76=new CANNON[(_0x2ebf4d(0x20d))](0.1,_0x474a44*0x1,_0x474a44*1.1,0x5),_0x180983=0.4;break;case 0xc:_0x3852a3=new THREE[(_0x2ebf4d(0xa9))](_0x474a44),_0x117e76=new CANNON[(_0x2ebf4d(0x1be))](new CANNON['Vec3'](_0x474a44*0.85,_0x474a44*0.85,_0x474a44*0.85)),_0x180983=0.6;break;case 0x14:_0x3852a3=new THREE[(_0x2ebf4d(0xbc))](_0x474a44),_0x117e76=new CANNON[(_0x2ebf4d(0x1be))](new CANNON[(_0x2ebf4d(0x1d2))](_0x474a44*0.8,_0x474a44*0.8,_0x474a44*0.8)),_0x180983=0.6;break;default:_0x3852a3=new THREE['BoxGeometry'](_0x474a44,_0x474a44,_0x474a44),_0x117e76=new CANNON['Box'](new CANNON[(_0x2ebf4d(0x1d2))](_0x474a44/0x2,_0x474a44/0x2,_0x474a44/0x2));}return{'geometry':_0x3852a3,'shape':_0x117e76,'angularDamping':_0x180983};}function addDice(_0x4c8811){const _0x2e20cd=a0_0x55f883;if(!scene)return;const _0x5549e2=campaign[_0x2e20cd(0x240)][activeCharIndex],_0x29b2d8=_0x5549e2?_0x5549e2[_0x2e20cd(0xb7)]:diceConfigs[_0x4c8811]['color'];try{const {geometry:_0x5aebc5,shape:_0x48008d,angularDamping:_0x310109}=createDiceGeometry(_0x4c8811,1.8),_0x55ce40=new THREE[(_0x2e20cd(0x229))]({'color':_0x29b2d8,'metalness':0.1,'roughness':0.2,'clearcoat':0x1,'flatShading':!![]}),_0x298a81=new THREE['Mesh'](_0x5aebc5,_0x55ce40);_0x298a81['castShadow']=!![],scene[_0x2e20cd(0xed)](_0x298a81);const _0x283c04=new CANNON['Body']({'mass':0x5,'shape':_0x48008d,'linearDamping':0.5,'angularDamping':_0x310109,'material':matDice});_0x283c04['position'][_0x2e20cd(0x19f)]((Math[_0x2e20cd(0x1bd)]()-0.5)*0x8,0xe,(Math[_0x2e20cd(0x1bd)]()-0.5)*0x8),_0x283c04['quaternion'][_0x2e20cd(0x19f)](Math['random'](),Math['random'](),Math[_0x2e20cd(0x1bd)](),Math[_0x2e20cd(0x1bd)]()),_0x283c04[_0x2e20cd(0x1b5)][_0x2e20cd(0x19f)](Math[_0x2e20cd(0x1bd)]()*0xa,Math['random']()*0xa,Math[_0x2e20cd(0x1bd)]()*0xa),_0x283c04[_0x2e20cd(0x1a6)]('collide',handleDiceCollision),world[_0x2e20cd(0x20c)](_0x283c04),diceObjects['push']({'mesh':_0x298a81,'body':_0x283c04,'type':_0x4c8811,'stopped':![]}),updateDiceButtonUI(_0x4c8811,0x1),clearMagicEffects();}catch(_0x1445a0){console[_0x2e20cd(0x122)](_0x2e20cd(0x12f),_0x1445a0);}}function a0_0x3674(_0x27397a,_0x120136){_0x27397a=_0x27397a-0xa8;const _0x33f01e=a0_0x33f0();let _0x3674e7=_0x33f01e[_0x27397a];return _0x3674e7;}function createSparkleTexture(){const _0x446134=a0_0x55f883,_0x3bf7a9=document[_0x446134(0x1d7)](_0x446134(0x11a));_0x3bf7a9[_0x446134(0x1dd)]=0x20,_0x3bf7a9[_0x446134(0x139)]=0x20;const _0x3b055f=_0x3bf7a9[_0x446134(0x137)]('2d'),_0x2a9fba=_0x3b055f[_0x446134(0xe5)](0x10,0x10,0x0,0x10,0x10,0x10);return _0x2a9fba['addColorStop'](0x0,_0x446134(0x1d1)),_0x2a9fba[_0x446134(0x16f)](0x1,_0x446134(0xdd)),_0x3b055f['fillStyle']=_0x2a9fba,_0x3b055f[_0x446134(0x12b)](0x0,0x0,0x20,0x20),new THREE['CanvasTexture'](_0x3bf7a9);}function createNumberLabel(_0x358122,_0x3d2b7e){const _0x3cff30=a0_0x55f883,_0x2ba734=document[_0x3cff30(0x1d7)]('canvas'),_0x107a6e=0x100;_0x2ba734[_0x3cff30(0x1dd)]=_0x107a6e,_0x2ba734[_0x3cff30(0x139)]=_0x107a6e;const _0x3400b9=_0x2ba734['getContext']('2d'),_0x3c033b=parseInt(_0x3d2b7e[_0x3cff30(0x18c)](0x1,0x3),0x10),_0x3d2284=parseInt(_0x3d2b7e['slice'](0x3,0x5),0x10),_0x13afe8=parseInt(_0x3d2b7e[_0x3cff30(0x18c)](0x5,0x7),0x10),_0x1c5809=_0x3400b9['createRadialGradient'](_0x107a6e/0x2,_0x107a6e/0x2,0x14,_0x107a6e/0x2,_0x107a6e/0x2,0x6e);_0x1c5809[_0x3cff30(0x16f)](0x0,_0x3cff30(0x1b7)+_0x3c033b+','+_0x3d2284+','+_0x13afe8+_0x3cff30(0xe6)),_0x1c5809[_0x3cff30(0x16f)](0x1,_0x3cff30(0x1b7)+_0x3c033b+','+_0x3d2284+','+_0x13afe8+_0x3cff30(0xf0)),_0x3400b9[_0x3cff30(0xd7)]=_0x1c5809,_0x3400b9[_0x3cff30(0x12b)](0x0,0x0,_0x107a6e,_0x107a6e),_0x3400b9[_0x3cff30(0x203)]=_0x3cff30(0x18a),_0x3400b9['textAlign']='center',_0x3400b9[_0x3cff30(0x1c8)]='middle',_0x3400b9['shadowColor']=_0x3cff30(0x10a),_0x3400b9[_0x3cff30(0xae)]=0xa,_0x3400b9[_0x3cff30(0xd7)]='#ffffff',_0x3400b9[_0x3cff30(0x155)](_0x358122,_0x107a6e/0x2,_0x107a6e/0x2);const _0x44b794=new THREE[(_0x3cff30(0xd2))]({'map':new THREE[(_0x3cff30(0x113))](_0x2ba734),'transparent':!![],'depthTest':![]}),_0xa65b1d=new THREE[(_0x3cff30(0xca))](_0x44b794);return _0xa65b1d[_0x3cff30(0xc7)][_0x3cff30(0x19f)](0.1,0.1,0x1),_0xa65b1d[_0x3cff30(0x1b1)]=0x3e7,_0xa65b1d;}function showFloatingResult(_0x43f7e0,_0x13993b){const _0x134e72=a0_0x55f883,_0x1303d6=campaign[_0x134e72(0x240)][activeCharIndex],_0x761a47=_0x1303d6?_0x1303d6[_0x134e72(0xb7)]:_0x134e72(0x10d),_0x5676bd=createNumberLabel(_0x13993b['toString'](),_0x761a47);_0x5676bd[_0x134e72(0x153)][_0x134e72(0x21d)](_0x43f7e0[_0x134e72(0xdf)]['position']),_0x5676bd[_0x134e72(0x153)]['y']+=0.8,scene[_0x134e72(0xed)](_0x5676bd),magicEffects['push']({'mainSprite':_0x5676bd,'life':0x0,'maxLife':0x64,'color':_0x761a47,'particles':[]});if(_0x43f7e0[_0x134e72(0x1ff)]===0x14){if(_0x13993b===0x14)hasCritHappened=!![],playSound(_0x134e72(0x189)),document[_0x134e72(0x14d)][_0x134e72(0x1e4)][_0x134e72(0x1e3)](_0x134e72(0x143)),document[_0x134e72(0x14d)]['classList']['add'](_0x134e72(0x14e),_0x134e72(0x12c)),setTimeout(()=>{const _0x34280c=_0x134e72;document[_0x34280c(0x14d)][_0x34280c(0x1e4)][_0x34280c(0x1e3)](_0x34280c(0x14e),_0x34280c(0x12c));},0xfa0);else _0x13993b===0x1&&!hasCritHappened&&(playSound(_0x134e72(0x165)),document[_0x134e72(0x14d)][_0x134e72(0x1e4)][_0x134e72(0xed)](_0x134e72(0x143),'shake-effect'),setTimeout(()=>{const _0x2761fc=_0x134e72;if(!hasCritHappened)document[_0x2761fc(0x14d)][_0x2761fc(0x1e4)][_0x2761fc(0x1e3)](_0x2761fc(0x143),'shake-effect');},0xfa0));}}function clearMagicEffects(){const _0x42c07a=a0_0x55f883;magicEffects[_0x42c07a(0x1b0)](_0xf5be61=>{const _0x4437d5=_0x42c07a;scene[_0x4437d5(0x1e3)](_0xf5be61[_0x4437d5(0x154)]),_0xf5be61['particles'][_0x4437d5(0x1b0)](_0x440278=>scene[_0x4437d5(0x1e3)](_0x440278[_0x4437d5(0xdf)]));}),magicEffects=[];}function startCharging(){const _0x2fe5e1=a0_0x55f883;if(diceObjects[_0x2fe5e1(0xbf)]===0x0||isRolling)return;if(audioCtx[_0x2fe5e1(0x1cf)]===_0x2fe5e1(0x196))audioCtx['resume']();playHoldSound(),isPressing=!![],clearMagicEffects(),pressPower=0.5;const _0x650123=document[_0x2fe5e1(0xb2)](_0x2fe5e1(0x249)),_0x2610bc=document[_0x2fe5e1(0xb2)]('rollBtn');_0x2610bc[_0x2fe5e1(0x1e4)][_0x2fe5e1(0xed)](_0x2fe5e1(0x236));if(chargeAnimId)cancelAnimationFrame(chargeAnimId);const _0x4e2534=0x514,_0x3112c1=1.1,_0x8fe9ce=_0x3112c1-0.4;lastFrameTime=performance[_0x2fe5e1(0x1c0)]();const _0x442f29=_0x38c45d=>{const _0x5c9689=_0x2fe5e1;if(!isPressing)return;const _0x6bd59d=_0x38c45d-lastFrameTime;lastFrameTime=_0x38c45d,pressPower+=_0x8fe9ce/_0x4e2534*_0x6bd59d;if(pressPower>=_0x3112c1)pressPower=_0x3112c1;const _0x4b7f1a=Math[_0x5c9689(0x170)](pressPower/_0x3112c1*0x64,0x64);_0x650123[_0x5c9689(0x1ba)][_0x5c9689(0x139)]=_0x4b7f1a*1.3+'%';const _0x508533=0x1+_0x4b7f1a/0x258;_0x2610bc['style'][_0x5c9689(0x134)]=_0x5c9689(0x22f)+_0x508533+')',_0x4b7f1a>=0x64&&_0x2610bc[_0x5c9689(0x1e4)][_0x5c9689(0xed)](_0x5c9689(0x190)),pressPower<_0x3112c1&&(chargeAnimId=requestAnimationFrame(_0x442f29));};chargeAnimId=requestAnimationFrame(_0x442f29);}function releaseRoll(_0xaaf27c){const _0x406c5d=a0_0x55f883;if(!isPressing)return;if(_0xaaf27c&&_0xaaf27c['cancelable']&&_0xaaf27c[_0x406c5d(0x1ff)]===_0x406c5d(0x1b6))_0xaaf27c['preventDefault']();isPressing=![];chargeAnimId&&(cancelAnimationFrame(chargeAnimId),chargeAnimId=null);stopHoldSound();const _0x3de828=document[_0x406c5d(0xb2)]('rollBtn'),_0x307317=document[_0x406c5d(0xb2)](_0x406c5d(0x249));_0x3de828[_0x406c5d(0x1e4)][_0x406c5d(0x1e3)]('is-pressing'),_0x3de828[_0x406c5d(0x1e4)][_0x406c5d(0x1e3)](_0x406c5d(0x190)),_0x3de828[_0x406c5d(0x1ba)][_0x406c5d(0x134)]=_0x406c5d(0xbb),_0x3de828['style'][_0x406c5d(0x11d)]('--glow-spread'),_0x307317[_0x406c5d(0x1ba)][_0x406c5d(0x139)]='0%',diceObjects[_0x406c5d(0xbf)]>0x0&&!isRolling&&(playSound(_0x406c5d(0x21c)),rollDice(pressPower)),pressPower=0x0;}function rollDice(_0x266c51){const _0x2cba34=a0_0x55f883;if(diceObjects[_0x2cba34(0xbf)]===0x0)return;isRolling=!![],playSound(_0x2cba34(0x16e)),diceObjects[_0x2cba34(0x1b0)](_0x53b6c1=>{const _0x265e4f=_0x2cba34;_0x53b6c1[_0x265e4f(0xc0)]=![],_0x53b6c1[_0x265e4f(0x14d)][_0x265e4f(0x156)][_0x265e4f(0x19f)](0x0,0x0,0x0),_0x53b6c1[_0x265e4f(0x14d)][_0x265e4f(0x1b5)][_0x265e4f(0x19f)](0x0,0x0,0x0),_0x53b6c1[_0x265e4f(0x14d)][_0x265e4f(0x153)]['y']=Math[_0x265e4f(0xde)](_0x53b6c1[_0x265e4f(0x14d)][_0x265e4f(0x153)]['y'],0x5),_0x53b6c1['body'][_0x265e4f(0x20f)]();const _0x388433=0xf+0x14*_0x266c51,_0x232f6e=0xa+0xa*_0x266c51,_0x2a5b3b=0xf+0x1e*_0x266c51;_0x53b6c1[_0x265e4f(0x14d)][_0x265e4f(0x156)][_0x265e4f(0x19f)]((Math['random']()-0.5)*_0x388433,_0x232f6e,(Math[_0x265e4f(0x1bd)]()-0.5)*_0x388433),_0x53b6c1[_0x265e4f(0x14d)]['angularVelocity'][_0x265e4f(0x19f)]((Math[_0x265e4f(0x1bd)]()-0.5)*_0x2a5b3b,(Math['random']()-0.5)*_0x2a5b3b,(Math[_0x265e4f(0x1bd)]()-0.5)*_0x2a5b3b);}),requestAnimationFrame(checkDiceStopped);}function checkDiceStopped(){const _0x1a1af9=a0_0x55f883;if(!isRolling)return;let _0x37c1ba=!![];diceObjects[_0x1a1af9(0x1b0)](_0x1d4d05=>{const _0x38ee1d=_0x1a1af9;if(_0x1d4d05[_0x38ee1d(0x14d)]['velocity']['norm']()>0.1||_0x1d4d05['body'][_0x38ee1d(0x1b5)]['norm']()>0.1)_0x37c1ba=![];});if(_0x37c1ba)setTimeout(calculateResults,0xc8);else requestAnimationFrame(checkDiceStopped);}function calculateResults(){const _0x273b71=a0_0x55f883;let _0x4e71ef=0x0,_0x153c76=[],_0x1b6eb5=[],_0x48b0ac=![],_0x595c44=![];const _0x3cb0ab=document[_0x273b71(0xb2)](_0x273b71(0x1b2));let _0x70f686=parseInt(_0x3cb0ab[_0x273b71(0x1e7)])||0x0;const _0x1c2915=diceObjects[_0x273b71(0x132)](_0x1ce6a0=>{const _0x1d10c4=_0x273b71,_0x27da2e=_0x1ce6a0[_0x1d10c4(0x1ff)]===0x64?(Math[_0x1d10c4(0x1c4)](Math[_0x1d10c4(0x1bd)]()*0xa)+0x1)*0xa:Math[_0x1d10c4(0x1c4)](Math[_0x1d10c4(0x1bd)]()*_0x1ce6a0[_0x1d10c4(0x1ff)])+0x1,_0x57a667={'val':_0x27da2e,'type':_0x1ce6a0[_0x1d10c4(0x1ff)],'obj':_0x1ce6a0,'ignored':![]};if(_0x1ce6a0[_0x1d10c4(0x1ff)]===0x14)_0x1b6eb5[_0x1d10c4(0xf9)](_0x57a667);return _0x57a667;});if(rollMode!=='normal'&&_0x1b6eb5['length']>=0x2){rollMode===_0x273b71(0x161)?_0x1b6eb5[_0x273b71(0x184)]((_0x236d9b,_0x4dacd4)=>_0x4dacd4['val']-_0x236d9b['val']):_0x1b6eb5[_0x273b71(0x184)]((_0x5eb348,_0x5a79ad)=>_0x5eb348['val']-_0x5a79ad['val']);for(let _0x3f9c42=0x1;_0x3f9c42<_0x1b6eb5[_0x273b71(0xbf)];_0x3f9c42++){_0x1b6eb5[_0x3f9c42][_0x273b71(0x1ea)]=!![];}}_0x1c2915['forEach'](_0x1f7f06=>{const _0x37e9c2=_0x273b71;if(!_0x1f7f06[_0x37e9c2(0x1ea)]){_0x4e71ef+=_0x1f7f06[_0x37e9c2(0x1ce)];if(_0x1f7f06[_0x37e9c2(0x1ff)]===0x14){if(_0x1f7f06[_0x37e9c2(0x1ce)]===0x14)_0x48b0ac=!![];if(_0x1f7f06[_0x37e9c2(0x1ce)]===0x1)_0x595c44=!![];}const _0x171fbd=_0x1f7f06['type']===0x64?'%':_0x1f7f06[_0x37e9c2(0x1ff)];_0x153c76[_0x37e9c2(0xf9)](_0x1f7f06[_0x37e9c2(0x1ce)]+_0x37e9c2(0x243)+_0x171fbd+')'),_0x1f7f06[_0x37e9c2(0x186)]['mesh']['material'][_0x37e9c2(0xc6)]=0x1,_0x1f7f06[_0x37e9c2(0x186)]['mesh'][_0x37e9c2(0x199)][_0x37e9c2(0x10c)]=0x0;}else _0x1f7f06[_0x37e9c2(0x186)][_0x37e9c2(0xdf)][_0x37e9c2(0x199)]['opacity']=0.2,_0x1f7f06[_0x37e9c2(0x186)]['mesh'][_0x37e9c2(0x199)]['color'][_0x37e9c2(0x109)](0x333333),_0x153c76['push'](_0x37e9c2(0x200)+_0x1f7f06[_0x37e9c2(0x1ce)]+_0x37e9c2(0x1ee));showFloatingResult(_0x1f7f06[_0x37e9c2(0x186)],_0x1f7f06['val']);}),_0x4e71ef+=_0x70f686;let _0xc6d948=_0x153c76[_0x273b71(0xc4)]('\x20+\x20');if(_0x70f686!==0x0)_0xc6d948+='\x20'+(_0x70f686>0x0?'+':'')+_0x70f686+_0x273b71(0xcb);isRolling=![],updateResultDisplay(_0xc6d948,_0x4e71ef);if(_0x48b0ac)triggerCritEffect(_0x273b71(0x11c));else{if(_0x595c44)triggerCritEffect('fail');}const _0xc3f57f=campaign[_0x273b71(0x240)][activeCharIndex];if(_0xc3f57f){const _0x485309=_0xc6d948[_0x273b71(0x128)](/<[^>]*>?/gm,'');saveHistory(_0xc3f57f,_0x4e71ef,_0x485309);if(!campaign['globalLog'])campaign['globalLog']=[];const _0x56fdef=_0x1c2915[_0x273b71(0x1df)](_0x272436=>_0x272436[_0x273b71(0x1ff)]===0x14&&!_0x272436[_0x273b71(0x1ea)]);campaign[_0x273b71(0x223)][_0x273b71(0xf9)]({'charName':_0xc3f57f[_0x273b71(0xf4)],'charColor':_0xc3f57f[_0x273b71(0xb7)],'formula':_0x485309,'total':_0x4e71ef,'rawD20':_0x56fdef?_0x56fdef[_0x273b71(0x1ce)]:null,'timestamp':new Date()['toLocaleTimeString']([],{'hour':_0x273b71(0x13a),'minute':_0x273b71(0x13a)})});}saveData();}function triggerCritEffect(_0x154563){const _0x5f3693=a0_0x55f883,_0x472c19=document[_0x5f3693(0x14d)];_0x154563===_0x5f3693(0x11c)?(_0x472c19[_0x5f3693(0x1e4)]['add'](_0x5f3693(0x14e)),setTimeout(()=>_0x472c19[_0x5f3693(0x1e4)][_0x5f3693(0x1e3)]('crit-success-flash'),0x3e8)):(_0x472c19[_0x5f3693(0x1e4)][_0x5f3693(0xed)](_0x5f3693(0x1d3),'shake-effect'),setTimeout(()=>_0x472c19[_0x5f3693(0x1e4)]['remove'](_0x5f3693(0x1d3),_0x5f3693(0x12c)),0x1f4));}function clearDice(){const _0x46555a=a0_0x55f883;diceObjects[_0x46555a(0x1b0)](_0x295ecd=>{const _0x11ff68=_0x46555a;if(_0x295ecd['mesh'])scene[_0x11ff68(0x1e3)](_0x295ecd[_0x11ff68(0xdf)]);if(_0x295ecd[_0x11ff68(0x14d)])world[_0x11ff68(0xd8)](_0x295ecd[_0x11ff68(0x14d)]);}),diceObjects=[],clearMagicEffects(),diceTypes[_0x46555a(0x246)]()[_0x46555a(0x1b0)](_0x3f26e5=>updateDiceButtonUI(_0x3f26e5,0x0,!![])),updateResultDisplay(_0x46555a(0x1ed),'0'),isRolling=![],playSound(_0x46555a(0x1ec));}function saveHistory(_0x240e19,_0x2cfdf9,_0x2e735c){const _0x1c8a68=a0_0x55f883;if(!_0x240e19[_0x1c8a68(0x1fe)])_0x240e19[_0x1c8a68(0x1fe)]=[];_0x240e19[_0x1c8a68(0x1fe)][_0x1c8a68(0xf9)]({'turn':_0x240e19[_0x1c8a68(0x217)]||0x1,'total':_0x2cfdf9,'formula':_0x2e735c}),updateHistoryUI();}function updateHistoryUI(){const _0x363403=a0_0x55f883,_0x5c7831=campaign[_0x363403(0x240)][activeCharIndex],_0x209236=document[_0x363403(0xb2)](_0x363403(0x168));if(!_0x5c7831||!_0x209236)return;_0x209236[_0x363403(0x105)]='';const _0x11b508=[..._0x5c7831[_0x363403(0x1fe)]][_0x363403(0x1c3)]();if(_0x11b508[_0x363403(0xbf)]===0x0){_0x209236[_0x363403(0x105)]=_0x363403(0xad);return;}_0x11b508[_0x363403(0x1b0)](_0x358d9f=>{const _0x4e52e8=_0x363403,_0x457155=document[_0x4e52e8(0x1d7)]('li');_0x457155[_0x4e52e8(0xfb)]=_0x4e52e8(0x1de),_0x457155[_0x4e52e8(0x105)]=_0x4e52e8(0x23b)+_0x358d9f['formula']+_0x4e52e8(0x126)+_0x5c7831['color']+'\x22>'+_0x358d9f[_0x4e52e8(0x23f)]+_0x4e52e8(0x237),_0x209236['appendChild'](_0x457155);});}function toggleHistory(){const _0x584408=a0_0x55f883,_0x4f4f77=document[_0x584408(0xb2)](_0x584408(0xe2)),_0x3300b1=document[_0x584408(0xb2)](_0x584408(0x16a));if(!_0x4f4f77||!_0x3300b1)return;const _0x21fbbf=_0x4f4f77[_0x584408(0x1e4)][_0x584408(0x21e)](_0x584408(0x23e));_0x3300b1[_0x584408(0x1ca)]=_0x21fbbf?_0x584408(0x188):_0x584408(0x119),playSound('click');}function animate(){const _0x577c82=a0_0x55f883;requestAnimationFrame(animate);const _0x199733=clock[_0x577c82(0x23d)]();if(world)world[_0x577c82(0x215)](0x1/0x3c,_0x199733,0x3);diceObjects['forEach'](_0x49c472=>{const _0x1fd0b4=_0x577c82;_0x49c472[_0x1fd0b4(0xdf)]&&_0x49c472['body']&&(_0x49c472[_0x1fd0b4(0xdf)][_0x1fd0b4(0x153)][_0x1fd0b4(0x21d)](_0x49c472['body'][_0x1fd0b4(0x153)]),_0x49c472['mesh']['quaternion']['copy'](_0x49c472[_0x1fd0b4(0x14d)][_0x1fd0b4(0x18e)]));});for(let _0x371a4f=magicEffects['length']-0x1;_0x371a4f>=0x0;_0x371a4f--){const _0x321950=magicEffects[_0x371a4f];_0x321950['life']++;if(_0x321950[_0x577c82(0xda)]<0x64){_0x321950[_0x577c82(0x154)][_0x577c82(0x153)]['y']+=0.015;if(_0x321950[_0x577c82(0xda)]<0x14){const _0x38b0b7=_0x321950[_0x577c82(0xda)]/0x14;_0x321950[_0x577c82(0x154)][_0x577c82(0xc7)]['set'](_0x38b0b7*2.5,_0x38b0b7*2.5,0x1),_0x321950[_0x577c82(0x154)][_0x577c82(0x199)]['opacity']=_0x38b0b7;}else{if(_0x321950[_0x577c82(0xda)]>0x50)_0x321950[_0x577c82(0x154)][_0x577c82(0x199)][_0x577c82(0xc6)]=(0x64-_0x321950[_0x577c82(0xda)])/0x14;}}if(_0x321950[_0x577c82(0xda)]<0x3c&&Math[_0x577c82(0x1bd)]()>0.3){const _0xc656ee=new THREE[(_0x577c82(0xd2))]({'map':sparkleTexture,'transparent':!![],'color':_0x321950[_0x577c82(0xb7)],'opacity':0.8,'blending':THREE[_0x577c82(0x159)]}),_0x5a5291=new THREE[(_0x577c82(0xca))](_0xc656ee);_0x5a5291[_0x577c82(0x153)][_0x577c82(0x21d)](_0x321950[_0x577c82(0x154)][_0x577c82(0x153)]),_0x5a5291['position']['x']+=(Math[_0x577c82(0x1bd)]()-0.5)*0.5,_0x5a5291[_0x577c82(0x153)]['y']-=0.2,_0x5a5291[_0x577c82(0xc7)][_0x577c82(0x19f)](0.3,0.3,0x1),scene[_0x577c82(0xed)](_0x5a5291),_0x321950[_0x577c82(0x1cb)]['push']({'mesh':_0x5a5291,'age':0x0});}for(let _0x3b281d=_0x321950[_0x577c82(0x1cb)][_0x577c82(0xbf)]-0x1;_0x3b281d>=0x0;_0x3b281d--){const _0x14e333=_0x321950[_0x577c82(0x1cb)][_0x3b281d];_0x14e333[_0x577c82(0xc9)]++,_0x14e333[_0x577c82(0xdf)][_0x577c82(0x153)]['y']-=0.005,_0x14e333[_0x577c82(0xdf)][_0x577c82(0x199)][_0x577c82(0xc6)]-=0.03,_0x14e333[_0x577c82(0xdf)][_0x577c82(0xc7)][_0x577c82(0x15f)](0.95),_0x14e333[_0x577c82(0xdf)][_0x577c82(0x199)][_0x577c82(0xc6)]<=0x0&&(scene[_0x577c82(0x1e3)](_0x14e333[_0x577c82(0xdf)]),_0x321950['particles'][_0x577c82(0x1ab)](_0x3b281d,0x1));}_0x321950[_0x577c82(0xda)]>=0x64&&_0x321950[_0x577c82(0x1cb)][_0x577c82(0xbf)]===0x0&&(scene[_0x577c82(0x1e3)](_0x321950['mainSprite']),magicEffects['splice'](_0x371a4f,0x1));}if(renderer&&scene&&camera)renderer[_0x577c82(0x183)](scene,camera);}document['addEventListener'](a0_0x55f883(0x127),_0x30347b=>{const _0x4d2841=a0_0x55f883;if(_0x30347b[_0x4d2841(0x1b8)]['id']===_0x4d2841(0xf3)){playSound(_0x4d2841(0x173));return;}if(_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)]('.char-tab')||_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)](_0x4d2841(0x121))){playSound(_0x4d2841(0x1ec));return;}if(_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)]('#rollBtn'))return;if(_0x30347b['target'][_0x4d2841(0x232)](_0x4d2841(0x147))||_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)](_0x4d2841(0x181))||_0x30347b[_0x4d2841(0x1b8)]['closest'](_0x4d2841(0x197))||_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)](_0x4d2841(0x1bb))||_0x30347b[_0x4d2841(0x1b8)][_0x4d2841(0x232)]('i'))playSound(_0x4d2841(0x127));setupModPicker();});function handleDiceCollision(_0x48631a){const _0x38e25d=a0_0x55f883;if(typeof lastSoundTime===_0x38e25d(0xf1)){console[_0x38e25d(0x122)](_0x38e25d(0x1fb));return;}let _0x197c8f=0x0;if(_0x48631a['contact']&&_0x48631a[_0x38e25d(0xdc)][_0x38e25d(0x1a8)])_0x197c8f=Math[_0x38e25d(0xd6)](_0x48631a[_0x38e25d(0xdc)][_0x38e25d(0x1a8)]());else _0x48631a[_0x38e25d(0xdc)]&&_0x48631a[_0x38e25d(0xdc)]['bi']&&_0x48631a[_0x38e25d(0xdc)]['bj']&&(_0x197c8f=0x1);if(_0x197c8f<0.8)return;const _0x19597f=_0x48631a['body']['id'],_0x5d0316=Date['now']();if(lastSoundTime[_0x19597f]&&_0x5d0316-lastSoundTime[_0x19597f]<0x32)return;lastSoundTime[_0x19597f]=_0x5d0316;let _0x3a19a9=Math[_0x38e25d(0x170)](_0x197c8f/0xf,0x1);playSound(_0x38e25d(0x19b),_0x3a19a9);}function setupModPicker(){const _0x102543=a0_0x55f883,_0x3719c9=document[_0x102543(0xb2)](_0x102543(0x1a5));if(!_0x3719c9)return;_0x3719c9[_0x102543(0x105)]='';for(let _0x4f4485=-0xa;_0x4f4485<=0xa;_0x4f4485++){const _0x46fa0c=document['createElement'](_0x102543(0x147));_0x46fa0c['className']='mod-btn',_0x46fa0c[_0x102543(0x1ca)]=(_0x4f4485>0x0?'+':'')+_0x4f4485,_0x46fa0c[_0x102543(0x248)]=()=>selectMod(_0x4f4485),_0x3719c9[_0x102543(0xd0)](_0x46fa0c);}}function toggleModPicker(){const _0x2584e1=a0_0x55f883,_0x5dbbdf=document[_0x2584e1(0xb2)](_0x2584e1(0x110)),_0x3f4f16=_0x5dbbdf[_0x2584e1(0x1ba)]['display']===_0x2584e1(0xbb);_0x5dbbdf['style'][_0x2584e1(0x1f5)]=_0x3f4f16?_0x2584e1(0xe9):_0x2584e1(0xbb),_0x3f4f16&&(playSound(_0x2584e1(0x127)),highlightActiveMod());}function selectMod(_0x4bb5ad){const _0x410267=a0_0x55f883,_0x2c0fd9=document['getElementById'](_0x410267(0x1b2)),_0x32db78=document[_0x410267(0xb2)](_0x410267(0xff));_0x2c0fd9[_0x410267(0x1e7)]=_0x4bb5ad,_0x32db78[_0x410267(0x1ca)]=(_0x4bb5ad>0x0?'+':'')+_0x4bb5ad;if(campaign[_0x410267(0x240)][activeCharIndex])campaign[_0x410267(0x240)][activeCharIndex][_0x410267(0xc3)]=_0x4bb5ad;saveData(),toggleModPicker(),playSound('touch');}function highlightActiveMod(){const _0x16e52d=a0_0x55f883,_0x3d131c=parseInt(document[_0x16e52d(0xb2)](_0x16e52d(0x1b2))[_0x16e52d(0x1e7)])||0x0;document[_0x16e52d(0x1ef)](_0x16e52d(0x172))[_0x16e52d(0x1b0)](_0xb47aa1=>{const _0x1f1b4c=_0x16e52d,_0x51e8c5=parseInt(_0xb47aa1[_0x1f1b4c(0x1ca)]);_0xb47aa1['classList'][_0x1f1b4c(0x21e)]('active',_0x51e8c5===_0x3d131c);});}function setRollMode(_0x37dacd){const _0x19a817=a0_0x55f883;rollMode=_0x37dacd;if(campaign['characters'][activeCharIndex])campaign[_0x19a817(0x240)][activeCharIndex][_0x19a817(0x1ac)]=_0x37dacd;const _0x5a8df6=document[_0x19a817(0xb2)](_0x19a817(0x1c2));if(!_0x5a8df6)return;_0x5a8df6[_0x19a817(0x1e4)][_0x19a817(0x1e3)](_0x19a817(0x144),'mode-adv',_0x19a817(0xfe));if(_0x37dacd==='normal')_0x5a8df6[_0x19a817(0x1ca)]=_0x19a817(0xcc),_0x5a8df6[_0x19a817(0x1e4)][_0x19a817(0xed)](_0x19a817(0x144));else{if(_0x37dacd===_0x19a817(0x161))_0x5a8df6['innerText']=_0x19a817(0x1d4),_0x5a8df6['classList'][_0x19a817(0xed)]('mode-adv');else _0x37dacd==='disadvantage'&&(_0x5a8df6[_0x19a817(0x1ca)]=_0x19a817(0x103),_0x5a8df6['classList'][_0x19a817(0xed)]('mode-dis'));}}function cycleRollMode(){const _0x325bf4=a0_0x55f883;playSound(_0x325bf4(0x127));if(rollMode==='normal')setRollMode(_0x325bf4(0x161));else{if(rollMode===_0x325bf4(0x161))setRollMode(_0x325bf4(0xc5));else setRollMode(_0x325bf4(0x194));}}function openGlobalLog(){const _0x55ec8b=a0_0x55f883,_0xcd71f6=document[_0x55ec8b(0xb2)](_0x55ec8b(0x22e)),_0x52bb5c=document['getElementById']('globalLogList');if(!campaign[_0x55ec8b(0x223)])campaign[_0x55ec8b(0x223)]=[];let _0x3cca80={};campaign[_0x55ec8b(0x223)][_0x55ec8b(0x1b0)](_0x128f46=>{const _0x17cdeb=_0x55ec8b;if(_0x128f46['rawD20']!==null&&_0x128f46[_0x17cdeb(0x1fa)]!==undefined){if(!_0x3cca80[_0x128f46[_0x17cdeb(0x1e1)]])_0x3cca80[_0x128f46[_0x17cdeb(0x1e1)]]={'sum':0x0,'count':0x0};_0x3cca80[_0x128f46['charName']][_0x17cdeb(0xbd)]+=_0x128f46[_0x17cdeb(0x1fa)],_0x3cca80[_0x128f46[_0x17cdeb(0x1e1)]][_0x17cdeb(0x251)]++;}});let _0x55267c=-0x1,_0x28bf4e=0x15,_0x344276='--',_0x8ca3b3='--';for(const [_0x543040,_0xd319d0]of Object[_0x55ec8b(0x1eb)](_0x3cca80)){if(_0xd319d0[_0x55ec8b(0x251)]>0x0){const _0x394b33=_0xd319d0[_0x55ec8b(0xbd)]/_0xd319d0['count'];_0x394b33>_0x55267c&&(_0x55267c=_0x394b33,_0x344276=_0x543040),_0x394b33<_0x28bf4e&&(_0x28bf4e=_0x394b33,_0x8ca3b3=_0x543040);}}document[_0x55ec8b(0xb2)](_0x55ec8b(0x21b))[_0x55ec8b(0x1ca)]=_0x344276,document[_0x55ec8b(0xb2)](_0x55ec8b(0x111))[_0x55ec8b(0x1ca)]=_0x55267c>-0x1?_0x55ec8b(0x1bf)+_0x55267c[_0x55ec8b(0x1f0)](0x1):_0x55ec8b(0x135),document[_0x55ec8b(0xb2)](_0x55ec8b(0x142))[_0x55ec8b(0x1ca)]=_0x8ca3b3,document[_0x55ec8b(0xb2)]('statUnluckyVal')['innerText']=_0x28bf4e<0x15?'Média:\x20'+_0x28bf4e[_0x55ec8b(0x1f0)](0x1):_0x55ec8b(0x135),_0x52bb5c[_0x55ec8b(0x105)]='',[...campaign[_0x55ec8b(0x223)]]['reverse']()['forEach'](_0x54b93b=>{const _0x586127=_0x55ec8b,_0x23ba2b=document[_0x586127(0x1d7)]('li');_0x23ba2b['className']=_0x586127(0x125);let _0x1ffd94=_0x586127(0xfd);if(_0x54b93b['rawD20']===0x14)_0x1ffd94+=_0x586127(0x220);if(_0x54b93b['rawD20']===0x1)_0x1ffd94+=_0x586127(0xf2);_0x23ba2b[_0x586127(0x105)]=_0x586127(0x17e)+_0x54b93b[_0x586127(0x210)]+'\x22>'+_0x54b93b[_0x586127(0x1e1)]+_0x586127(0x17a)+_0x54b93b[_0x586127(0x211)]+_0x586127(0x14f)+_0x1ffd94+'\x22>'+_0x54b93b[_0x586127(0x23f)]+_0x586127(0x245)+_0x54b93b[_0x586127(0x18b)]+_0x586127(0xbe),_0x52bb5c['appendChild'](_0x23ba2b);}),_0xcd71f6[_0x55ec8b(0x1ba)][_0x55ec8b(0x1f5)]=_0x55ec8b(0xe9),playSound(_0x55ec8b(0x127));}function openCompendium(){const _0x525682=a0_0x55f883,_0x3571c2=document['getElementById'](_0x525682(0x131));if(_0x3571c2){_0x3571c2[_0x525682(0x1ba)][_0x525682(0x1f5)]=_0x525682(0xe9);if(typeof rulesData!=='undefined')renderRules(rulesData);playSound(_0x525682(0x127));}}function getLevelValue(_0x3fdab9){const _0x4b0f00=a0_0x55f883;if(_0x3fdab9['category']!==_0x4b0f00(0xab))return-0x1;if(_0x3fdab9[_0x4b0f00(0x206)][_0x4b0f00(0x1b4)](_0x4b0f00(0x1e2)))return 0x0;const _0x531fdc=_0x3fdab9[_0x4b0f00(0x206)][_0x4b0f00(0x12a)](/(\d+)º/);return _0x531fdc?parseInt(_0x531fdc[0x1]):0x0;}function getSortPriority(_0x84e4dd){const _0x50e782=a0_0x55f883;if(_0x84e4dd['title']['includes'](_0x50e782(0xfa)))return 0x1;if(_0x84e4dd[_0x50e782(0xb8)][_0x50e782(0x1b4)](_0x50e782(0x182)))return 0x2;const _0x3e1c73=_0x84e4dd[_0x50e782(0x206)]?_0x84e4dd[_0x50e782(0x206)][_0x50e782(0x12a)](/Nível (\d+)/):null;if(_0x3e1c73)return 0xa+parseInt(_0x3e1c73[0x1]);if(_0x84e4dd[_0x50e782(0x206)]&&_0x84e4dd[_0x50e782(0x206)][_0x50e782(0x1b4)](_0x50e782(0x17d)))return 0x64;return 0x32;}function renderRules(_0x2a1bcf){const _0x30c34c=a0_0x55f883,_0x39b749=document[_0x30c34c(0xb2)](_0x30c34c(0x1e9));if(!_0x39b749)return;_0x39b749[_0x30c34c(0x105)]='';if(_0x2a1bcf[_0x30c34c(0xbf)]===0x0){_0x39b749[_0x30c34c(0x105)]=_0x30c34c(0x13e);return;}const _0xb232a8=[..._0x2a1bcf]['sort']((_0x2b2aa5,_0xb10bb6)=>{const _0x1cf6e2=_0x30c34c,_0x4706f7={'basics':0x0,'condition':0x1,'action':0x2,'combat':0x3,'env':0x4,'class':0x5,'species':0x6,'feat':0x7,'spell':0x8,'equipment':0x9},_0x5092b8=_0x4706f7[_0x2b2aa5['category']]!==undefined?_0x4706f7[_0x2b2aa5[_0x1cf6e2(0x1a2)]]:0x63,_0x854d16=_0x4706f7[_0xb10bb6[_0x1cf6e2(0x1a2)]]!==undefined?_0x4706f7[_0xb10bb6[_0x1cf6e2(0x1a2)]]:0x63;if(_0x5092b8!==_0x854d16)return _0x5092b8-_0x854d16;if([_0x1cf6e2(0x23c),'class',_0x1cf6e2(0x13f),_0x1cf6e2(0x15b),_0x1cf6e2(0x1f8)][_0x1cf6e2(0x1b4)](_0x2b2aa5['category'])){if(_0x2b2aa5[_0x1cf6e2(0x169)]!==_0xb10bb6[_0x1cf6e2(0x169)])return _0x2b2aa5['parentClass'][_0x1cf6e2(0x1c9)](_0xb10bb6[_0x1cf6e2(0x169)]);const _0x327676=typeof getSortPriority==='function'?getSortPriority(_0x2b2aa5):0x32,_0x459136=typeof getSortPriority===_0x1cf6e2(0x202)?getSortPriority(_0xb10bb6):0x32;if(_0x327676!==_0x459136)return _0x327676-_0x459136;}const _0x4ee368=typeof getLevelValue===_0x1cf6e2(0x202)?getLevelValue(_0x2b2aa5):0x0,_0x2fcba8=typeof getLevelValue===_0x1cf6e2(0x202)?getLevelValue(_0xb10bb6):0x0;if(_0x4ee368!==_0x2fcba8)return _0x4ee368-_0x2fcba8;return _0x2b2aa5['title'][_0x1cf6e2(0x1c9)](_0xb10bb6['title']);});let _0x340acd='';_0xb232a8[_0x30c34c(0x1b0)](_0x6e4865=>{const _0x292826=_0x30c34c;let _0x10bfb9='',_0x233e13='';if(_0x6e4865['category']===_0x292826(0xab)){const _0x150611=getLevelValue(_0x6e4865);_0x10bfb9=_0x150611===0x0?_0x292826(0x21a):_0x292826(0x167)+_0x150611+'º',_0x233e13='lvl-'+_0x150611;}else{if([_0x292826(0x23c),_0x292826(0x22a),_0x292826(0x13f),_0x292826(0x15b),_0x292826(0x1f8)][_0x292826(0x1b4)](_0x6e4865[_0x292826(0x1a2)])){_0x10bfb9=_0x6e4865[_0x292826(0x169)];const _0x56d5f0=_0x10bfb9['toLowerCase']()[_0x292826(0xb3)](_0x292826(0x22b))[_0x292826(0x128)](/[\u0300-\u036f]/g,'')['replace'](/\s+/g,'');_0x233e13=_0x292826(0x158)+_0x56d5f0;}else _0x10bfb9=null;}if(_0x10bfb9&&_0x340acd!==_0x10bfb9){_0x340acd=_0x10bfb9;const _0x50b196=document['createElement']('div');_0x50b196['className']=_0x292826(0x174)+_0x233e13,_0x50b196[_0x292826(0x1ca)]=_0x10bfb9,_0x39b749[_0x292826(0xd0)](_0x50b196);}const _0x490aeb=document[_0x292826(0x1d7)](_0x292826(0x1e5));_0x490aeb['className']=_0x292826(0x21f);let _0x24d29d=translateCategory(_0x6e4865[_0x292826(0x1a2)]),_0xdfe161='';if([_0x292826(0x22a),_0x292826(0x13f),_0x292826(0x15b),_0x292826(0x1f8)][_0x292826(0x1b4)](_0x6e4865[_0x292826(0x1a2)])){_0x24d29d=_0x6e4865[_0x292826(0x169)];const _0x5b2346=_0x24d29d[_0x292826(0x198)]()['normalize'](_0x292826(0x22b))['replace'](/[\u0300-\u036f]/g,'')[_0x292826(0x128)](/\s+/g,'');_0xdfe161=_0x292826(0x231)+_0x5b2346;}else _0xdfe161=_0x292826(0x231)+_0x6e4865[_0x292826(0x1a2)];let _0x5af6d1=_0x6e4865['meta']?_0x292826(0x1da)+_0x6e4865[_0x292826(0x206)]+'</div>':'';_0x490aeb[_0x292826(0x105)]=_0x292826(0x19d)+_0x6e4865['title']+_0x292826(0xb6)+_0xdfe161+'\x22\x20style=\x22background:'+(_0x6e4865[_0x292826(0x1a2)]===_0x292826(0xab)?_0x292826(0x19c):'')+'\x22>'+_0x24d29d+_0x292826(0x178)+_0x5af6d1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-desc\x22>'+_0x6e4865[_0x292826(0x1dc)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39b749[_0x292826(0xd0)](_0x490aeb);});}function translateCategory(_0x4868e2){const _0x5a9f35=a0_0x55f883;if(_0x4868e2===_0x5a9f35(0x23c))return _0x5a9f35(0x24d);if(_0x4868e2===_0x5a9f35(0x112))return _0x5a9f35(0x209);if(_0x4868e2==='action')return _0x5a9f35(0xf8);if(_0x4868e2===_0x5a9f35(0x1a7))return _0x5a9f35(0x10b);if(_0x4868e2===_0x5a9f35(0xab))return _0x5a9f35(0x1c7);if(_0x4868e2==='env')return'Ambiente';if(_0x4868e2===_0x5a9f35(0x13f))return _0x5a9f35(0xb9);if(_0x4868e2===_0x5a9f35(0x15b))return'Item';if(_0x4868e2===_0x5a9f35(0x1f8))return _0x5a9f35(0xb4);return _0x4868e2;}function filterRules(){const _0x42deaf=a0_0x55f883,_0x515fbb=document[_0x42deaf(0xb2)](_0x42deaf(0xb5));if(!_0x515fbb||typeof rulesData==='undefined')return;const _0x3522c5=normalizeText(_0x515fbb['value'][_0x42deaf(0x138)]());let _0x5e937c=_0x3522c5;_0x3522c5[_0x42deaf(0xbf)]>0x3&&(_0x5e937c=_0x3522c5['replace'](/(r|s)$/,''));const _0x2e6d04=rulesData[_0x42deaf(0x134)](_0x740dfa=>{const _0x5e9c55=_0x42deaf,_0x3d8b20=normalizeText(_0x740dfa[_0x5e9c55(0xb8)]),_0x57a8dd=normalizeText(_0x740dfa[_0x5e9c55(0x1dc)]),_0x440642=normalizeText(_0x740dfa[_0x5e9c55(0x206)]||''),_0x322b7b=_0x3d8b20[_0x5e9c55(0x1b4)](_0x3522c5)||_0x3d8b20[_0x5e9c55(0x1b4)](_0x5e937c),_0x52402d=_0x57a8dd[_0x5e9c55(0x1b4)](_0x3522c5)||_0x57a8dd[_0x5e9c55(0x1b4)](_0x5e937c),_0x59423a=_0x440642[_0x5e9c55(0x1b4)](_0x3522c5)||_0x440642[_0x5e9c55(0x1b4)](_0x5e937c);return _0x322b7b||_0x52402d||_0x59423a;});renderRules(_0x2e6d04),document['querySelectorAll'](_0x42deaf(0x1af))[_0x42deaf(0x1b0)](_0x4a9747=>_0x4a9747[_0x42deaf(0x1e4)][_0x42deaf(0x1e3)](_0x42deaf(0xc1)));}function normalizeText(_0x13f74e){const _0x18cb1f=a0_0x55f883;if(!_0x13f74e)return'';return _0x13f74e['normalize'](_0x18cb1f(0x22b))[_0x18cb1f(0x128)](/[\u0300-\u036f]/g,'')[_0x18cb1f(0x198)]();}function filterCategory(_0x516d4b){const _0x56066c=a0_0x55f883;document[_0x56066c(0x1ef)](_0x56066c(0x1af))['forEach'](_0x5791b4=>_0x5791b4[_0x56066c(0x1e4)][_0x56066c(0x1e3)](_0x56066c(0xc1)));if(event&&event[_0x56066c(0x1b8)])event[_0x56066c(0x1b8)][_0x56066c(0x1e4)][_0x56066c(0xed)](_0x56066c(0xc1));const _0x461b53=document['getElementById']('ruleSearch');if(_0x461b53)_0x461b53[_0x56066c(0x1e7)]='';if(typeof rulesData===_0x56066c(0xf1))return;if(_0x516d4b===_0x56066c(0x163))renderRules(rulesData);else{const _0x284419=rulesData[_0x56066c(0x134)](_0x44bd69=>_0x44bd69[_0x56066c(0x1a2)]===_0x516d4b);renderRules(_0x284419);}}function setupEventListeners(){const _0x171640=a0_0x55f883,_0x33d28c=document['getElementById'](_0x171640(0xd5));if(_0x33d28c){const _0x348a00=_0x33d28c[_0x171640(0x14a)](!![]);_0x33d28c[_0x171640(0x239)][_0x171640(0x1cd)](_0x348a00,_0x33d28c);const _0x456c5e=document[_0x171640(0xb2)](_0x171640(0xd5));_0x456c5e['addEventListener'](_0x171640(0x235),startCharging),window['addEventListener'](_0x171640(0x20e),releaseRoll),_0x456c5e['addEventListener'](_0x171640(0x1c6),startCharging,{'passive':![]}),window['addEventListener'](_0x171640(0x1b6),releaseRoll);}const _0x484c51=document[_0x171640(0xb2)]('addCharBtn');if(_0x484c51)_0x484c51['onclick']=addCharacterPreview;const _0x33d21a=document[_0x171640(0xb2)](_0x171640(0xf3));if(_0x33d21a)_0x33d21a[_0x171640(0x248)]=startCampaign;const _0x216d99=document['getElementById'](_0x171640(0x100));if(_0x216d99)_0x216d99[_0x171640(0x248)]=clearDice;const _0x5db3d7=document[_0x171640(0xb2)](_0x171640(0x16a));if(_0x5db3d7)_0x5db3d7[_0x171640(0x248)]=toggleHistory;window['addEventListener'](_0x171640(0x11f),refreshCanvasSize);}document[a0_0x55f883(0x1a6)]('DOMContentLoaded',()=>{setupEventListeners();});function openDonation(){const _0x1323f4=a0_0x55f883,_0x10eca2='https://apoia.se/rollenapp';playSound(_0x1323f4(0x127)),window[_0x1323f4(0x23e)](_0x10eca2,_0x1323f4(0x179));}document[a0_0x55f883(0x1a6)](a0_0x55f883(0xea),_0x2d39d6=>_0x2d39d6[a0_0x55f883(0x13d)]()),document[a0_0x55f883(0x145)]=function(_0x9e889b){const _0x49a9d1=a0_0x55f883;if(_0x9e889b[_0x49a9d1(0x219)]==0x7b)return![];if(_0x9e889b[_0x49a9d1(0x17b)]&&_0x9e889b[_0x49a9d1(0x230)]&&(_0x9e889b[_0x49a9d1(0x219)]=='I'[_0x49a9d1(0x1b3)](0x0)||_0x9e889b[_0x49a9d1(0x219)]=='C'[_0x49a9d1(0x1b3)](0x0)||_0x9e889b['keyCode']=='J'[_0x49a9d1(0x1b3)](0x0)))return![];if(_0x9e889b[_0x49a9d1(0x17b)]&&_0x9e889b['keyCode']=='U'['charCodeAt'](0x0))return![];};function hideSplashScreen(){const _0x35311e=a0_0x55f883,_0x4ded79=document[_0x35311e(0xb2)](_0x35311e(0x1a4));_0x4ded79&&(console['log']('Rollen:\x20Finalizando\x20carregamento...'),_0x4ded79[_0x35311e(0x1e4)][_0x35311e(0xed)]('splash-hidden'),setTimeout(()=>{const _0x5a79cd=_0x35311e;_0x4ded79[_0x5a79cd(0x1ba)][_0x5a79cd(0x1f5)]='none';},0x320));}function a0_0x33f0(){const _0xf47fbf=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rule-tag\x20','color','title','Raça','avatarGrid','none','IcosahedronGeometry','sum','</span></div>','length','stopped','active','gravity','modifier','join','disadvantage','opacity','scale','keys','age','Sprite','\x20(Mod)','NORMAL','Erro\x20ao\x20adicionar:','devicePixelRatio','56WSSliR','appendChild','<img\x20src=\x22bhumanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','SpriteMaterial','createBufferSource','<img\x20src=\x22elfdrowf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20F\x22>','rollBtn','abs','fillStyle','removeBody','INICIAR\x20JORNADA','life','borderColor','contact','rgba(255,255,255,0)','max','mesh','ContactMaterial','solver','historyPanel','fill','SphereGeometry','createRadialGradient',',0.6)','dice-btn','1195608QPPchU','flex','contextmenu','setupModal','2493944IneoPt','add','arrayBuffer','PointLight',',0)','undefined','\x20log-crit-fail','startCampaignBtn','name','649698zrhHcY','load','./collide5.mp3','Ação','push','Visão\x20Geral','className','AmbientLight','log-total','mode-dis','modDisplay','clearBtn','<img\x20src=\x22elfhighf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfa\x22>','canvasContainer','DESVANTAGEM','<img\x20src=\x22tieflingm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20M\x22>','innerHTML','<div\x20class=\x22preview-avatar\x22\x20style=\x22border-color:','clientWidth','Save\x20corrompido,\x20resetando.','setHex','rgba(0,0,0,0.8)','Regra','emissiveIntensity','#ffffff','8087540hJXxdN','removeEventListener','modPickerModal','statLuckyVal','condition','CanvasTexture','<img\x20src=\x22elfdrowm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20M\x22>','AudioContext','992EQSzBr','<div\x20class=\x22tab-avatar\x22>','top','Ver\x20Histórico','canvas','right','success','removeProperty','parse','resize','degToRad','.avatar-option','error','Erro\x20ao\x20adicionar\x20personagem.\x20Tente\x20\x27Reiniciar\x20Jornada\x27\x20nas\x20configurações.','clientHeight','global-log-entry','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-equals\x22>=</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-total\x22\x20style=\x22color:','click','replace','./collide2.mp3','match','fillRect','shake-effect','splash-hidden','castShadow','Erro\x20ao\x20gerar\x20dado:','TetrahedronGeometry','compendiumModal','map','<img\x20src=\x22elfhighm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfo\x22>','filter','Média:\x20-','ondragstart','getContext','trim','height','2-digit','./collide1.mp3','./throw.mp3','preventDefault','<div\x20style=\x27text-align:center;\x20color:#5d4037;\x20margin-top:20px;\x27>Nenhum\x20conhecimento\x20encontrado...</div>','species','buffer','svg','statUnluckyName','nat1-effect','mode-norm','onkeydown','Histórico\x20limpo!','button','resultTotal','contains','cloneNode','1431OKZwYs','<img\x20src=\x22tieflingf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20F\x22>','body','crit-success-flash','</span></div><div\x20class=\x22log-result-box\x22><span\x20class=\x22','destination','shadowMap','avatar-option\x20','position','mainSprite','fillText','velocity','</div><span\x20style=\x22color:','header-','AdditiveBlending','setSize','equipment','OctahedronGeometry','stringify','./crit.mp3','multiplyScalar','char-tab\x20','advantage','loop','all','btn-d','fumble','campaignNameInput','Círculo\x20','historyList','parentClass','toggleHistoryBtn','settingsMenu','campaign','hold','throw','addColorStop','min','./touch.mp3','.mod-btn','start','level-header\x20','<img\x20src=\x22boss.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Chefe\x22>','onended','appContainer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','</span><span\x20class=\x22log-time\x22>','ctrlKey','setFromAxisAngle','Subclasse','<div\x20class=\x22log-meta\x22><span\x20class=\x22log-char-name\x22\x20style=\x22color:\x20','./collide4.mp3','activeCharIndex','.dice-btn','Traços\x20Principais','render','sort','getItem','obj','setData','Ocultar\x20Histórico','crit','bold\x20110px\x20Arial','formula','slice','<img\x20src=\x22elfwoodf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20F\x22>','quaternion','NaiveBroadphase','charged','addContactMaterial','true','updateProjectionMatrix','normal','isGameRunning','suspended','input','toLowerCase','material',';\x20font-weight:bold;\x22>','collide','#7b1fa2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Erro\x20ao\x20salvar','set','documentElement','loopEnd','category','aspect','splash-screen','modGrid','addEventListener','combat','getImpactVelocityAlongNormal','left','Aventura','splice','rollMode','col','WebGLRenderer','.cat-btn','forEach','renderOrder','modInput','charCodeAt','includes','angularVelocity','touchend','rgba(','target','3236889fvWpzB','style','select','resultFormula','random','Box','Média:\x20','now','avatar','cycleVantBtn','reverse','floor','bottom','touchstart','Magia','textBaseline','localeCompare','innerText','particles','querySelector','replaceChild','val','state','DirectionalLight','rgba(255,255,255,1)','Vec3','crit-fail-flash','VANTAGEM','setPixelRatio','getData','createElement','lookAt','broadphase','<div\x20style=\x22font-size:0.75rem;\x20color:#d84315;\x20font-style:italic;\x20margin-bottom:8px;\x20border-bottom:1px\x20dashed\x20rgba(0,0,0,0.1);\x20padding-bottom:4px;\x22>','iterations','text','width','roll-entry','find','diceSelector','charName','Truque','remove','classList','div','rollen_save_v1','value','Material','rulesList','ignored','entries','touch','Adicione\x20dados...','</span>','querySelectorAll','toFixed','charListPreview','<img\x20src=\x22master.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Mestre\x22>','connect','ondrop','display','disabled','createBuffer','feat','currentAvatarDisplay','rawD20','ERRO:\x20Adicione\x20\x27const\x20lastSoundTime\x20=\x20{};\x27\x20no\x20topo\x20do\x20script!','<img\x20src=\x22goliathf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20F\x22>','createGain','history','type','<span\x20style=\x22text-decoration:\x20line-through;\x20opacity:\x200.5;\x22>','<img\x20src=\x22halforcm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20M\x22>','function','font','<img\x20src=\x22familiar.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Familiar\x22>','warn','meta','selected','<img\x20src=\x22aesimarf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','Condição','72728qeRyWV','<img\x20src=\x22aesimarm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','addBody','Cylinder','mouseup','wakeUp','charColor','timestamp','stop','<img\x20src=\x22gnomem.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnomo\x22>','<img\x20src=\x22humanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','step','charNameInput','turnCount','clear','keyCode','Truques\x20(Nível\x200)','statLuckyName','shoot','copy','toggle','rule-card','\x20log-crit-success','gain','dice-pair-wrapper','globalLog','Zerar\x20histórico?','<img\x20src=\x22humanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','shapes','BoxGeometry','Body','MeshPhysicalMaterial','class','NFD','./collide3.mp3','dataTransfer','globalLogModal','brightness(','shiftKey','tag-','closest','isArray','mute','mousedown','is-pressing','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Math','parentNode','master','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-formula\x22>','basics','getDelta','open','total','characters','<img\x20src=\x22monster.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Monstro\x22>','ATENÇÃO:\x20Isso\x20apagará\x20permanentemente\x20todos\x20os\x20seus\x20heróis\x20e\x20a\x20campanha\x20atual.\x20Deseja\x20continuar?','\x20(D','fov','</span><span\x20class=\x22log-formula\x22>','flat','charTabsContainer','onclick','powerBar','./click.mp3','enabled','ondragend','Básico','text/plain','./shoot.mp3','Clock','count','<img\x20src=\x22halfelff.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meia\x20Elfa\x22>','DodecahedronGeometry','./hold.mp3','spell','Rollen:\x20O\x20carregamento\x20demorou\x20demais.\x20Forçando\x20entrada.','<li\x20style=\x27text-align:center;\x20opacity:0.5;\x20padding:20px;\x27>Nenhuma\x20rolagem\x20ainda...</li>','shadowBlur','./fumble.mp3','tan','<img\x20src=\x22halfelfm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meio\x20Elfo\x22>','getElementById','normalize','Talento','ruleSearch'];a0_0x33f0=function(){return _0xf47fbf;};return a0_0x33f0();}window['addEventListener'](a0_0x55f883(0xf6),hideSplashScreen),setTimeout(()=>{const _0xebb488=a0_0x55f883,_0x25d56a=document[_0xebb488(0xb2)](_0xebb488(0x1a4));_0x25d56a&&!_0x25d56a[_0xebb488(0x1e4)][_0xebb488(0x149)](_0xebb488(0x12d))&&(console[_0xebb488(0x205)](_0xebb488(0xac)),hideSplashScreen());},0x1388);