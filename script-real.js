const a0_0x3cee0b=a0_0x37d5;(function(_0x227944,_0x27bea9){const _0x4d0b4f=a0_0x37d5,_0xa253f1=_0x227944();while(!![]){try{const _0xbb60f1=-parseInt(_0x4d0b4f(0x2aa))/0x1*(-parseInt(_0x4d0b4f(0x1b0))/0x2)+-parseInt(_0x4d0b4f(0x1fe))/0x3+parseInt(_0x4d0b4f(0x299))/0x4*(parseInt(_0x4d0b4f(0x219))/0x5)+-parseInt(_0x4d0b4f(0x2b1))/0x6+parseInt(_0x4d0b4f(0x28c))/0x7*(-parseInt(_0x4d0b4f(0x210))/0x8)+parseInt(_0x4d0b4f(0x2bd))/0x9+parseInt(_0x4d0b4f(0x200))/0xa;if(_0xbb60f1===_0x27bea9)break;else _0xa253f1['push'](_0xa253f1['shift']());}catch(_0x142622){_0xa253f1['push'](_0xa253f1['shift']());}}}(a0_0x5ab1,0x9b0d6));const AudioContext=window[a0_0x3cee0b(0x1cc)]||window['webkitAudioContext'],audioCtx=new AudioContext(),soundBuffers={},lastSoundTime={},MAX_VOICES=0x4;function a0_0x5ab1(){const _0x298953=['PerspectiveCamera','opacity','Subclasse','style','CanvasTexture','svg','statLuckyVal','spell','gravity','Condição','connect','toLowerCase','4070312ShLdFr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Mesh','resume','angularVelocity','<img\x20src=\x22dragonbornm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracono\x22>','rgba(','</div><span\x20style=\x22color:','decodeAudioData','1766045DfGTYw','</span></div><div\x20class=\x22log-result-box\x22><span\x20class=\x22','click','<img\x20src=\x22familiar.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Familiar\x22>','rollen_save_v1','Erro\x203D:','toggleHistoryBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-formula\x22>','top','rgba(255,255,255,1)','rulesList','<li\x20style=\x27text-align:center;\x20opacity:0.5;\x20padding:20px;\x27>Nenhuma\x20rolagem\x20ainda...</li>','env','removeProperty','<img\x20src=\x22elfdrowm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20M\x22>','Erro\x20loadData','createRadialGradient','resize','contains','touchstart','Histórico\x20limpo!','input','life','Média:\x20','mesh','text/plain','startCampaignBtn','undefined','Truques\x20(Nível\x200)','avatar','INICIAR\x20JORNADA','height','World',',0)','globalLog',';\x20font-weight:bold;\x22>','title','</span><span\x20class=\x22log-time\x22>','fill','toggle','filter','<div\x20class=\x22tab-avatar\x22>','charColor',',0.6)','velocity','<img\x20src=\x22bhumanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','#ffffff','avatar-option\x20','clear','log','\x20<span\x20class=\x22dice-count\x22\x20id=\x22count-d','header-','keyCode','mute','age','innerHTML','none','set','error','onended','NFD','characters','getImpactVelocityAlongNormal','Erro\x20carregando\x20som:\x20','crit-success-flash','fov','modGrid','campaignNameInput','addEventListener','char-tab\x20','body','slice','color','col','name','setFromAxisAngle','#ffb300','shiftKey','globalLogModal','<img\x20src=\x22dragonbornf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracona\x22>','render','gain','rawD20','parentNode','rgba(0,0,0,0.8)','createElement','fillStyle','modifier','</div>\x20','Talento','cloneNode','crit','./collide1.mp3','collide','./touch.mp3','particles','Aventura','entries','rollMode','warn','2-digit','--glow-spread','setPixelRatio','min','splash-screen','canvasContainer','join','ondrop','className','createBuffer','combat','splice','backgroundColor','mod-btn','DirectionalLight','7lSmaYb','PointLight','Item','selected','splash-hidden','level-header\x20','Traços\x20Principais','shadowColor','fail','shadowMap','<img\x20src=\x22boss.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Chefe\x22>','then','brightness(','4zrmqAN','font','Visão\x20Geral','draggable','disabled','length','<img\x20src=\x22goliathm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20M\x22>','closest','ContactMaterial','material','type','bottom','Ocultar\x20Histórico','charName','Material','mode-norm','createGain','298829pedeqG','sort','mainSprite','shoot','scale','history','appContainer','5644566XKmkcl','open','createBufferSource','<img\x20src=\x22halfelff.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meia\x20Elfa\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-desc\x22>','rgba(255,255,255,0)','SphereGeometry','<img\x20src=\x22humanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','Erro\x20ao\x20salvar','\x20log-crit-fail','basics','Rollen:\x20Finalizando\x20carregamento...','6374619karhww','./click.mp3','DodecahedronGeometry','fillText','value','lvl-','<div\x20style=\x22font-size:0.75rem;\x20color:#d84315;\x20font-style:italic;\x20margin-bottom:8px;\x20border-bottom:1px\x20dashed\x20rgba(0,0,0,0.1);\x20padding-bottom:4px;\x22>','ignored','Média:\x20-','destination','Math','renderOrder','ondragstart','aspect','mode-adv','contact','state','./collide3.mp3','dataTransfer','castShadow','add','disadvantage','./shoot.mp3','compendiumModal','text','Regra','resultFormula','all','classList','.avatar-option','setupModal','left','hold','setData','loopStart','querySelectorAll','count','formula','./hold.mp3','charColorInput','querySelector','addBody','equipment','val','parentClass','solver','avatarGrid','tan','addContactMaterial','ruleSearch','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Clock','localeCompare','right','PCFSoftShadowMap','map','norm','</span><span\x20class=\x22log-formula\x22>','btn-d','replaceChild','VANTAGEM','powerBar','Save\x20corrompido,\x20resetando.','appendChild','globalLogList','\x22\x20style=\x22background:','total','<span\x20style=\x22text-decoration:\x20line-through;\x20opacity:\x200.5;\x22>','stop','feat','emissiveIntensity','.cat-btn','resultTotal','</span>','max','cycleVantBtn','https://apoia.se/rollenapp','match','lookAt','floor','charTabsContainer','active','./collide4.mp3','touch','NORMAL','ATENÇÃO:\x20Isso\x20apagará\x20permanentemente\x20todos\x20os\x20seus\x20heróis\x20e\x20a\x20campanha\x20atual.\x20Deseja\x20continuar?','class','category','trim','removeEventListener','<img\x20src=\x22goliathf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20F\x22>','\x22>0</span>','currentAvatarDisplay','--char-color','<img\x20src=\x22halfelfm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meio\x20Elfo\x22>','flex','step','modDisplay','timestamp','touchend','modInput','function','<div\x20class=\x22preview-avatar\x22\x20style=\x22border-color:','Erro\x20ao\x20adicionar:','reload','suspended','toFixed','stringify','VOLTAR\x20AO\x20JOGO','log-total','enabled','ctrlKey','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-equals\x22>=</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-total\x22\x20style=\x22color:','Truque','true','clientHeight','start','target','master','buffer','<div\x20style=\x27text-align:center;\x20color:#5d4037;\x20margin-top:20px;\x27>Nenhum\x20conhecimento\x20encontrado...</div>','sum','#7b1fa2','<img\x20src=\x22master.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Mestre\x22>','</div>','select','advantage','throw','<img\x20src=\x22tieflingf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20F\x22>','broadphase','quaternion','getDelta','div','devicePixelRatio','<img\x20src=\x22halforcf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20F\x22>','is-pressing','#rollBtn','shake-effect','add-char-tab','toString','fillRect','arrayBuffer','diceSelector','reverse','Vec3','2zSNOMG','\x20log-crit-success','.dice-btn','borderColor','shadowBlur','ondragend','</span></div>','\x20(Mod)','random','./collide2.mp3','charged','button','campaign','Scene','getElementById','setItem','count-d','<img\x20src=\x22elfhighf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfa\x22>','position','./throw.mp3','onkeydown','multiplyScalar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AmbientLight','meta','replace','setSize','<img\x20src=\x22elfhighm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfo\x22>','AudioContext','WebGLRenderer','setHex','nat1-effect','<div\x20class=\x22log-meta\x22><span\x20class=\x22log-char-name\x22\x20style=\x22color:\x20','charCodeAt','statLuckyName','normalize','innerText','now','forEach','SpriteMaterial','wakeUp','Áudio\x20desbloqueado\x20para\x20iOS','DESVANTAGEM','clientWidth','action','Ação','addColorStop','cancelable','includes','obj','Zerar\x20histórico?','species','crit-fail-flash','Sprite','textAlign','<img\x20src=\x22aesimarm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','width','tag-','remove','shapes','display','.color-picker-wrapper','\x20+\x20','IcosahedronGeometry','success','Box','push','isGameRunning','<img\x20src=\x22gnomef.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnoma\x22>','clearBtn','onclick','Body','turnCount','<img\x20src=\x22monster.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Monstro\x22>','bold\x20110px\x20Arial','.mod-btn','DOMContentLoaded','preventDefault','1202517JYQiYt','copy','11251540SHalgH','rollBtn','Erro\x20ao\x20adicionar\x20personagem.\x20Tente\x20\x27Reiniciar\x20Jornada\x27\x20nas\x20configurações.','normal'];a0_0x5ab1=function(){return _0x298953;};return a0_0x5ab1();}let activeVoices=0x0;const soundMap={'click':a0_0x3cee0b(0x2be),'touch':a0_0x3cee0b(0x277),'hold':a0_0x3cee0b(0x2e3),'shoot':a0_0x3cee0b(0x2d3),'start':'./start.mp3','crit':'./crit.mp3','fumble':'./fumble.mp3','throw':a0_0x3cee0b(0x1c3),'col0':a0_0x3cee0b(0x275),'col1':a0_0x3cee0b(0x1b9),'col2':a0_0x3cee0b(0x2ce),'col3':a0_0x3cee0b(0x30f),'col4':'./collide5.mp3'};async function preloadSounds(){const _0x2b4935=a0_0x3cee0b;for(const [_0xb1aef1,_0x22a66c]of Object[_0x2b4935(0x27a)](soundMap)){try{const _0x4a3654=await fetch(_0x22a66c),_0x1c9c1c=await _0x4a3654[_0x2b4935(0x1ac)](),_0x3f395a=await audioCtx[_0x2b4935(0x218)](_0x1c9c1c);soundBuffers[_0xb1aef1]=_0x3f395a;}catch(_0x136707){console[_0x2b4935(0x27c)](_0x2b4935(0x258)+_0xb1aef1,_0x136707);}}}preloadSounds();function unlockAudio(){const _0x3d447c=a0_0x3cee0b;audioCtx[_0x3d447c(0x2cd)]===_0x3d447c(0x188)&&audioCtx[_0x3d447c(0x213)]()[_0x3d447c(0x297)](()=>{const _0x4bc1d6=_0x3d447c,_0x13d8d2=audioCtx[_0x4bc1d6(0x286)](0x1,0x1,0x5622),_0x59e2ef=audioCtx[_0x4bc1d6(0x2b3)]();_0x59e2ef[_0x4bc1d6(0x196)]=_0x13d8d2,_0x59e2ef['connect'](audioCtx[_0x4bc1d6(0x2c6)]),_0x59e2ef['start'](0x0),console['log'](_0x4bc1d6(0x1d9)),window[_0x4bc1d6(0x178)]('touchstart',unlockAudio),window[_0x4bc1d6(0x178)](_0x4bc1d6(0x21b),unlockAudio);});}function a0_0x37d5(_0x24cf6a,_0x3fd16e){_0x24cf6a=_0x24cf6a-0x177;const _0x5ab129=a0_0x5ab1();let _0x37d5bc=_0x5ab129[_0x24cf6a];return _0x37d5bc;}window['addEventListener'](a0_0x3cee0b(0x22c),unlockAudio,{'passive':![]}),window['addEventListener']('click',unlockAudio);function playSound(_0x39f8c8,_0xa62b9d=0x1){const _0x1a9bac=a0_0x3cee0b,_0x28bfed=localStorage['getItem'](_0x1a9bac(0x24e))===_0x1a9bac(0x191);if(_0x28bfed)return;let _0x4b019f=_0x39f8c8;if(_0x39f8c8===_0x1a9bac(0x276)){const _0x1914cf=Math[_0x1a9bac(0x30c)](Math[_0x1a9bac(0x1b8)]()*0x5);_0x4b019f=_0x1a9bac(0x262)+_0x1914cf;}if(!soundBuffers[_0x4b019f])return;if(activeVoices>=MAX_VOICES&&_0x39f8c8===_0x1a9bac(0x276))return;const _0x17fbda=audioCtx[_0x1a9bac(0x2b3)]();_0x17fbda[_0x1a9bac(0x196)]=soundBuffers[_0x4b019f];const _0x303627=audioCtx[_0x1a9bac(0x2a9)]();let _0xb0f138=_0xa62b9d;if(_0x39f8c8===_0x1a9bac(0x276)){_0xb0f138=_0xa62b9d+(Math[_0x1a9bac(0x1b8)]()*0.2-0.1);if(_0xb0f138>0x1)_0xb0f138=0x1;if(_0xb0f138<0.1)_0xb0f138=0.4;}_0x303627[_0x1a9bac(0x26a)][_0x1a9bac(0x2c1)]=_0xb0f138,_0x17fbda[_0x1a9bac(0x20e)](_0x303627),_0x303627[_0x1a9bac(0x20e)](audioCtx[_0x1a9bac(0x2c6)]),activeVoices++,_0x17fbda[_0x1a9bac(0x193)](0x0),_0x17fbda[_0x1a9bac(0x254)]=()=>{activeVoices--;if(activeVoices<0x0)activeVoices=0x0;};}function playHoldSound(){const _0x576d96=a0_0x3cee0b;if(currentHoldSource||!soundBuffers['hold'])return;const _0xca0da6=audioCtx[_0x576d96(0x2b3)]();_0xca0da6[_0x576d96(0x196)]=soundBuffers[_0x576d96(0x2dd)],_0xca0da6['loop']=!![],_0xca0da6[_0x576d96(0x2df)]=1.7,_0xca0da6['loopEnd']=0x2;const _0x385bf6=audioCtx[_0x576d96(0x2a9)]();_0x385bf6['gain'][_0x576d96(0x2c1)]=0.5,_0xca0da6[_0x576d96(0x20e)](_0x385bf6),_0x385bf6[_0x576d96(0x20e)](audioCtx[_0x576d96(0x2c6)]),_0xca0da6[_0x576d96(0x193)](0x0),currentHoldSource=_0xca0da6;}function stopHoldSound(){const _0x54ee5f=a0_0x3cee0b;if(currentHoldSource){try{currentHoldSource[_0x54ee5f(0x301)]();}catch(_0x292857){}currentHoldSource=null;}}const avatars={'master':a0_0x3cee0b(0x19a),'monster':a0_0x3cee0b(0x1f9),'boss':a0_0x3cee0b(0x296),'familiar':a0_0x3cee0b(0x21c),'humanf':a0_0x3cee0b(0x2b8),'humanm':'<img\x20src=\x22humanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','bhumanm':'<img\x20src=\x22bhumanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','bhumanf':a0_0x3cee0b(0x246),'dragonbornf':a0_0x3cee0b(0x268),'dragonbornm':a0_0x3cee0b(0x215),'elfdrowf':'<img\x20src=\x22elfdrowf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20F\x22>','elfdrowm':a0_0x3cee0b(0x227),'elfhighf':a0_0x3cee0b(0x1c1),'elfhighm':a0_0x3cee0b(0x1cb),'elfwoodf':'<img\x20src=\x22elfwoodf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20F\x22>','elfwoodm':'<img\x20src=\x22elfwoodm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20M\x22>','gnomef':a0_0x3cee0b(0x1f4),'gnomem':'<img\x20src=\x22gnomem.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnomo\x22>','tieflingf':a0_0x3cee0b(0x19f),'tieflingm':'<img\x20src=\x22tieflingm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20M\x22>','halfelff':a0_0x3cee0b(0x2b4),'halfelfm':a0_0x3cee0b(0x17d),'halforcf':a0_0x3cee0b(0x1a5),'halforcm':'<img\x20src=\x22halforcm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20M\x22>','aesimarm':a0_0x3cee0b(0x1e7),'aesimarf':'<img\x20src=\x22aesimarf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','goliathm':a0_0x3cee0b(0x29f),'goliathf':a0_0x3cee0b(0x179)},diceConfigs={0x4:{'color':0xef5350},0x6:{'color':0xffca28},0x8:{'color':0x66bb6a},0xa:{'color':0x42a5f5},0x64:{'color':0x42a5f5},0xc:{'color':0xab47bc},0x14:{'color':0xffffff}},diceTypes=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14],diceLayout=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14];let campaign={'name':a0_0x3cee0b(0x279),'characters':[],'globalLog':[]},activeCharIndex=0x0,selectedAvatarKey='master',diceObjects=[],magicEffects=[],hasCritHappened=![],currentSpecialSound=null,world,scene,camera,renderer,isRolling=![],pressTimer=null,sparkleTexture=null,walls={'left':null,'right':null,'top':null,'bottom':null},isGameRunning=![],clock=new THREE[(a0_0x3cee0b(0x2f0))](),rollMode=a0_0x3cee0b(0x203),lastCollisionTime=0x0,matDice,matGround,chargeAnimId=null,lastFrameTime=0x0,pressPower=0x0,isPressing=![],currentHoldSource=null;document['addEventListener'](a0_0x3cee0b(0x1fc),()=>{const _0x33a3b0=a0_0x3cee0b;try{loadData();}catch(_0x37c53e){console[_0x33a3b0(0x253)](_0x33a3b0(0x2fb),_0x37c53e),localStorage[_0x33a3b0(0x249)]();}renderDiceButtons(),renderAvatarSelection(),setupEventListeners(),setupColorPicker(),setupModPicker();try{initPhysicsAndGraphics(),animate();}catch(_0x211484){console[_0x33a3b0(0x253)](_0x33a3b0(0x21e),_0x211484);}});function saveData(){const _0x55a781=a0_0x3cee0b;try{const _0x7a140f=document[_0x55a781(0x1be)](_0x55a781(0x183));_0x7a140f&&campaign[_0x55a781(0x256)][activeCharIndex]&&(campaign[_0x55a781(0x256)][activeCharIndex][_0x55a781(0x270)]=parseInt(_0x7a140f[_0x55a781(0x2c1)])||0x0);const _0x8d968e={'campaign':campaign,'activeCharIndex':activeCharIndex,'isGameRunning':isGameRunning};localStorage[_0x55a781(0x1bf)](_0x55a781(0x21d),JSON[_0x55a781(0x18a)](_0x8d968e));}catch(_0x4135af){console[_0x55a781(0x253)](_0x55a781(0x2b9),_0x4135af);}}function loadData(){const _0x2c15e4=a0_0x3cee0b,_0x386da5=localStorage['getItem'](_0x2c15e4(0x21d));if(_0x386da5)try{const _0x402d52=JSON['parse'](_0x386da5);if(_0x402d52[_0x2c15e4(0x1bc)]){campaign=_0x402d52['campaign'];if(!Array['isArray'](campaign[_0x2c15e4(0x256)]))campaign[_0x2c15e4(0x256)]=[];if(!Array['isArray'](campaign[_0x2c15e4(0x23b)]))campaign['globalLog']=[];activeCharIndex=_0x402d52['activeCharIndex']||0x0,isGameRunning=_0x402d52[_0x2c15e4(0x1f3)]||![];if(isGameRunning&&campaign[_0x2c15e4(0x256)][_0x2c15e4(0x29e)]>0x0){document[_0x2c15e4(0x1be)](_0x2c15e4(0x2db))[_0x2c15e4(0x207)]['display']=_0x2c15e4(0x251),document['getElementById'](_0x2c15e4(0x2b0))[_0x2c15e4(0x207)][_0x2c15e4(0x1ec)]=_0x2c15e4(0x17e),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs();const _0x431b27=activeCharIndex;activeCharIndex=-0x1,setTimeout(()=>switchTab(_0x431b27),0x64);}else document['getElementById'](_0x2c15e4(0x2db))[_0x2c15e4(0x207)][_0x2c15e4(0x1ec)]=_0x2c15e4(0x17e),updateModalCharList();}}catch(_0x5e5993){console[_0x2c15e4(0x253)](_0x2c15e4(0x228),_0x5e5993);}}function updateModalCharList(){const _0x210d13=a0_0x3cee0b,_0x125ac1=document[_0x210d13(0x1be)]('charListPreview');if(!_0x125ac1)return;_0x125ac1[_0x210d13(0x250)]='';if(!campaign[_0x210d13(0x256)])campaign['characters']=[];campaign[_0x210d13(0x256)]['forEach'](_0x348b2e=>{const _0x334523=_0x210d13,_0x379581=document['createElement']('li');_0x379581[_0x334523(0x250)]=_0x334523(0x185)+_0x348b2e[_0x334523(0x261)]+'\x22>'+_0x348b2e['avatar']+_0x334523(0x217)+_0x348b2e['color']+_0x334523(0x23c)+_0x348b2e[_0x334523(0x263)]+_0x334523(0x306),_0x125ac1['appendChild'](_0x379581);});const _0x571b18=document[_0x210d13(0x1be)](_0x210d13(0x233));if(_0x571b18)_0x571b18[_0x210d13(0x29d)]=campaign[_0x210d13(0x256)][_0x210d13(0x29e)]===0x0;}function renderDiceButtons(){const _0xe86c31=a0_0x3cee0b,_0x454ca8=document[_0xe86c31(0x1be)](_0xe86c31(0x1ad));if(!_0x454ca8)return;_0x454ca8[_0xe86c31(0x250)]='',diceTypes['forEach'](_0x53a54d=>{const _0x2afa96=_0xe86c31;if(Array['isArray'](_0x53a54d)){const _0x2fdd05=document['createElement'](_0x2afa96(0x1a3));_0x2fdd05[_0x2afa96(0x285)]='dice-pair-wrapper',_0x53a54d[_0x2afa96(0x1d6)](_0x5d2d9e=>{const _0x295d59=createDiceBtn(_0x5d2d9e);_0x2fdd05['appendChild'](_0x295d59);}),_0x454ca8[_0x2afa96(0x2fc)](_0x2fdd05);}else _0x454ca8[_0x2afa96(0x2fc)](createDiceBtn(_0x53a54d));});}function createDiceBtn(_0x8305e2){const _0x211c5b=a0_0x3cee0b,_0x5838f1=document[_0x211c5b(0x26e)]('button');_0x5838f1[_0x211c5b(0x285)]='dice-btn',_0x5838f1['id']=_0x211c5b(0x2f7)+_0x8305e2;const _0x3cfb18=_0x8305e2===0x64?'D%':'D'+_0x8305e2;return _0x5838f1[_0x211c5b(0x250)]=_0x3cfb18+_0x211c5b(0x24b)+_0x8305e2+_0x211c5b(0x17a),_0x5838f1[_0x211c5b(0x1f6)]=()=>addDice(_0x8305e2),_0x5838f1;}function renderAvatarSelection(){const _0x4b64ad=a0_0x3cee0b,_0x2a87ae=document[_0x4b64ad(0x1be)](_0x4b64ad(0x2eb));if(!_0x2a87ae)return;_0x2a87ae[_0x4b64ad(0x250)]='',Object['keys'](avatars)['forEach'](_0x338ce4=>{const _0x5a5d28=_0x4b64ad,_0x26311b=document[_0x5a5d28(0x26e)](_0x5a5d28(0x1a3));_0x26311b[_0x5a5d28(0x285)]=_0x5a5d28(0x248)+(_0x338ce4===selectedAvatarKey?'selected':''),_0x26311b['innerHTML']=avatars[_0x338ce4],_0x26311b['onclick']=()=>{const _0x27a0c1=_0x5a5d28;document[_0x27a0c1(0x2e0)](_0x27a0c1(0x2da))[_0x27a0c1(0x1d6)](_0x3d78e8=>_0x3d78e8['classList'][_0x27a0c1(0x1ea)](_0x27a0c1(0x28f))),_0x26311b['classList'][_0x27a0c1(0x2d1)](_0x27a0c1(0x28f)),selectedAvatarKey=_0x338ce4;},_0x2a87ae[_0x5a5d28(0x2fc)](_0x26311b);});}function setupColorPicker(){const _0x212d61=a0_0x3cee0b,_0x3b1072=document[_0x212d61(0x1be)]('charColorInput'),_0xb081d6=document['querySelector'](_0x212d61(0x1ed));if(_0x3b1072&&_0xb081d6){const _0x2f183a=()=>{const _0x50b6d0=_0x212d61;_0xb081d6[_0x50b6d0(0x207)][_0x50b6d0(0x289)]=_0x3b1072['value'];};_0x3b1072[_0x212d61(0x25d)]('input',_0x2f183a),_0x2f183a();}}function updateDiceButtonUI(_0x5b1e0b,_0x3a76df,_0x53bbdf){const _0x51218b=a0_0x3cee0b,_0x183639=document[_0x51218b(0x1be)](_0x51218b(0x1c0)+_0x5b1e0b),_0x52e249=document[_0x51218b(0x1be)](_0x51218b(0x2f7)+_0x5b1e0b);if(!_0x183639||!_0x52e249)return;if(_0x53bbdf){_0x183639[_0x51218b(0x1d4)]='0',_0x183639[_0x51218b(0x207)][_0x51218b(0x1ec)]=_0x51218b(0x251),_0x52e249[_0x51218b(0x2d9)][_0x51218b(0x1ea)](_0x51218b(0x28f));return;}let _0x29b708=parseInt(_0x183639[_0x51218b(0x1d4)])||0x0;_0x29b708+=_0x3a76df,_0x183639[_0x51218b(0x1d4)]=_0x29b708,_0x183639[_0x51218b(0x207)][_0x51218b(0x1ec)]=_0x29b708>0x0?_0x51218b(0x17e):'none';if(_0x29b708>0x0)_0x52e249[_0x51218b(0x2d9)]['add']('selected');}function updateResultDisplay(_0x4291d3,_0x18e6c1){const _0xf342a9=a0_0x3cee0b,_0x3d0765=document[_0xf342a9(0x1be)](_0xf342a9(0x2d7)),_0x19c8c7=document[_0xf342a9(0x1be)](_0xf342a9(0x305));if(_0x3d0765)_0x3d0765[_0xf342a9(0x250)]=_0x4291d3;if(_0x19c8c7){_0x19c8c7['innerText']=_0x18e6c1;const _0x26ae3e=campaign[_0xf342a9(0x256)][activeCharIndex];if(_0x26ae3e)_0x19c8c7[_0xf342a9(0x207)]['color']=_0xf342a9(0x247);}}function openAddCharModal(){const _0x36f9fb=a0_0x3cee0b,_0x32ea99=document[_0x36f9fb(0x1be)](_0x36f9fb(0x2db)),_0x5479fc=document[_0x36f9fb(0x1be)](_0x36f9fb(0x233));updateModalCharList(),isGameRunning?(_0x5479fc[_0x36f9fb(0x1d4)]=_0x36f9fb(0x18b),_0x5479fc[_0x36f9fb(0x29d)]=![]):(_0x5479fc[_0x36f9fb(0x1d4)]=_0x36f9fb(0x237),_0x5479fc[_0x36f9fb(0x29d)]=campaign['characters'][_0x36f9fb(0x29e)]===0x0),_0x32ea99[_0x36f9fb(0x207)][_0x36f9fb(0x1ec)]=_0x36f9fb(0x17e),playSound('click');}function addCharacterPreview(){const _0x236cb9=a0_0x3cee0b;try{const _0x3d30af=document[_0x236cb9(0x1be)]('charNameInput'),_0x47cc57=document[_0x236cb9(0x1be)](_0x236cb9(0x2e4));if(!_0x3d30af||!_0x47cc57)return;const _0x566e4e=_0x3d30af[_0x236cb9(0x2c1)][_0x236cb9(0x177)](),_0x3e7354=_0x47cc57[_0x236cb9(0x2c1)];if(!_0x566e4e)return;const _0x3d10b4={'name':_0x566e4e,'color':_0x3e7354,'avatar':avatars[selectedAvatarKey]||avatars[_0x236cb9(0x195)],'turnCount':0x1,'history':[],'modifier':0x0,'rollMode':_0x236cb9(0x203)};if(!campaign['characters'])campaign['characters']=[];campaign[_0x236cb9(0x256)]['push'](_0x3d10b4),saveData(),updateModalCharList(),_0x3d30af[_0x236cb9(0x2c1)]='',selectedAvatarKey=_0x236cb9(0x195),renderAvatarSelection(),playSound(_0x236cb9(0x21b));}catch(_0x2c5407){console['error'](_0x236cb9(0x186),_0x2c5407),alert(_0x236cb9(0x202));}}function startCampaign(){const _0x1969da=a0_0x3cee0b;campaign[_0x1969da(0x263)]=document['getElementById'](_0x1969da(0x25c))[_0x1969da(0x2c1)]||_0x1969da(0x279),isGameRunning=!![],saveData(),document['getElementById'](_0x1969da(0x2db))[_0x1969da(0x207)][_0x1969da(0x1ec)]='none',document[_0x1969da(0x1be)](_0x1969da(0x2b0))[_0x1969da(0x207)][_0x1969da(0x1ec)]=_0x1969da(0x17e),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs(),activeCharIndex=-0x1,setTimeout(()=>{const _0x56c1e9=_0x1969da;if(campaign[_0x56c1e9(0x256)][_0x56c1e9(0x29e)]>0x0)switchTab(0x0);},0x64);}function renderTabs(){const _0x423378=a0_0x3cee0b,_0x4007f8=document[_0x423378(0x1be)](_0x423378(0x30d));if(!_0x4007f8)return;_0x4007f8[_0x423378(0x250)]='';if(!campaign[_0x423378(0x256)])campaign[_0x423378(0x256)]=[];campaign['characters']['forEach']((_0x5472fe,_0x5394cc)=>{const _0x5c558=_0x423378,_0x4a2b8e=document[_0x5c558(0x26e)]('div');_0x4a2b8e[_0x5c558(0x285)]=_0x5c558(0x25e)+(_0x5394cc===activeCharIndex?_0x5c558(0x30e):''),_0x4a2b8e[_0x5c558(0x250)]=_0x5c558(0x242)+_0x5472fe[_0x5c558(0x236)]+_0x5c558(0x271)+_0x5472fe[_0x5c558(0x263)],_0x4a2b8e[_0x5c558(0x207)][_0x5c558(0x1b3)]=_0x5472fe['color'];if(_0x5394cc===activeCharIndex){_0x4a2b8e[_0x5c558(0x207)]['color']=_0x5472fe[_0x5c558(0x261)];const _0x114d0c=_0x4a2b8e[_0x5c558(0x2e5)](_0x5c558(0x209));if(_0x114d0c)_0x114d0c[_0x5c558(0x207)]['fill']=_0x5472fe[_0x5c558(0x261)];}_0x4a2b8e[_0x5c558(0x1f6)]=()=>switchTab(_0x5394cc),_0x4a2b8e[_0x5c558(0x29c)]=!![],_0x4a2b8e[_0x5c558(0x2c9)]=_0xbd7cfe=>{const _0x4b649e=_0x5c558;_0xbd7cfe[_0x4b649e(0x2cf)][_0x4b649e(0x2de)](_0x4b649e(0x232),_0x5394cc),_0x4a2b8e[_0x4b649e(0x207)][_0x4b649e(0x205)]='0.5';},_0x4a2b8e[_0x5c558(0x1b5)]=()=>{const _0x457066=_0x5c558;_0x4a2b8e[_0x457066(0x207)][_0x457066(0x205)]='1';},_0x4a2b8e['ondragover']=_0x3c0e24=>{const _0x1bcba8=_0x5c558;_0x3c0e24[_0x1bcba8(0x1fd)]();},_0x4a2b8e[_0x5c558(0x284)]=_0x3b7fc2=>{const _0x16487b=_0x5c558;_0x3b7fc2['preventDefault']();const _0x266736=parseInt(_0x3b7fc2[_0x16487b(0x2cf)]['getData'](_0x16487b(0x232))),_0x2648d2=_0x5394cc;if(_0x266736!==_0x2648d2){const _0x416c7d=campaign['characters'][_0x16487b(0x288)](_0x266736,0x1)[0x0];campaign[_0x16487b(0x256)]['splice'](_0x2648d2,0x0,_0x416c7d);if(activeCharIndex===_0x266736)activeCharIndex=_0x2648d2;else{if(activeCharIndex>_0x266736&&activeCharIndex<=_0x2648d2)activeCharIndex--;else{if(activeCharIndex<_0x266736&&activeCharIndex>=_0x2648d2)activeCharIndex++;}}saveData(),renderTabs();}},_0x4007f8['appendChild'](_0x4a2b8e);});const _0x29d66d=document['createElement'](_0x423378(0x1bb));_0x29d66d[_0x423378(0x285)]=_0x423378(0x1a9),_0x29d66d[_0x423378(0x1d4)]='+',_0x29d66d['onclick']=openAddCharModal,_0x4007f8[_0x423378(0x2fc)](_0x29d66d);}function switchTab(_0x2e7a91){const _0x42a3d6=a0_0x3cee0b;if(_0x2e7a91<0x0||_0x2e7a91>=campaign[_0x42a3d6(0x256)]['length'])return;activeCharIndex=_0x2e7a91;const _0x2643af=campaign[_0x42a3d6(0x256)][activeCharIndex],_0x1b9979=_0x2643af[_0x42a3d6(0x261)]||_0x42a3d6(0x265);document['documentElement'][_0x42a3d6(0x207)]['setProperty'](_0x42a3d6(0x17c),_0x1b9979);const _0x368ba6=document[_0x42a3d6(0x1be)](_0x42a3d6(0x17b));if(_0x368ba6){const _0x34f53a=_0x2643af[_0x42a3d6(0x236)]||avatars[_0x42a3d6(0x195)];_0x368ba6['innerHTML']=_0x34f53a,_0x368ba6[_0x42a3d6(0x207)][_0x42a3d6(0x1b3)]=_0x1b9979;const _0x2a0070=_0x368ba6[_0x42a3d6(0x2e5)](_0x42a3d6(0x209));if(_0x2a0070)_0x2a0070[_0x42a3d6(0x207)][_0x42a3d6(0x23f)]=_0x1b9979;}const _0x3b9ab5=document[_0x42a3d6(0x1be)]('resultTotal');if(_0x3b9ab5)_0x3b9ab5['style']['color']=_0x1b9979;clearDice();const _0x538a75=document['getElementById'](_0x42a3d6(0x183)),_0x3db7f2=document[_0x42a3d6(0x1be)]('modDisplay');if(_0x538a75)_0x538a75[_0x42a3d6(0x2c1)]=_0x2643af[_0x42a3d6(0x270)]||0x0;if(_0x3db7f2)_0x3db7f2[_0x42a3d6(0x1d4)]=(_0x2643af[_0x42a3d6(0x270)]>0x0?'+':'')+(_0x2643af['modifier']||0x0);setRollMode(_0x2643af[_0x42a3d6(0x27b)]||_0x42a3d6(0x203)),renderTabs(),updateHistoryUI(),saveData();}function toggleSettings(){const _0x206e48=a0_0x3cee0b,_0x1f77ff=document[_0x206e48(0x1be)]('settingsMenu');_0x1f77ff[_0x206e48(0x207)][_0x206e48(0x1ec)]=_0x1f77ff[_0x206e48(0x207)][_0x206e48(0x1ec)]===_0x206e48(0x251)?'flex':'none',playSound(_0x206e48(0x21b));}function resetJourney(){const _0x49f17f=a0_0x3cee0b;confirm(_0x49f17f(0x312))&&(localStorage[_0x49f17f(0x249)](),campaign={'name':'Aventura','characters':[],'globalLog':[]},isGameRunning=![],location[_0x49f17f(0x187)]());}function resetCampaignHistory(){const _0x2e631d=a0_0x3cee0b;confirm(_0x2e631d(0x1e2))&&(campaign[_0x2e631d(0x256)]['forEach'](_0x1bfdc7=>{const _0x2e373a=_0x2e631d;_0x1bfdc7[_0x2e373a(0x2af)]=[],_0x1bfdc7[_0x2e373a(0x1f8)]=0x1;}),campaign[_0x2e631d(0x23b)]=[],updateHistoryUI(),toggleSettings(),saveData(),alert(_0x2e631d(0x22d))),playSound(_0x2e631d(0x21b));}function initPhysicsAndGraphics(){const _0xaca9f9=a0_0x3cee0b,_0x214f88=document[_0xaca9f9(0x1be)](_0xaca9f9(0x282));if(!_0x214f88)return;scene=new THREE[(_0xaca9f9(0x1bd))]();const _0x30ead4=new THREE[(_0xaca9f9(0x1c7))](0xffffff,0.5);scene[_0xaca9f9(0x2d1)](_0x30ead4);const _0x4063e8=new THREE[(_0xaca9f9(0x28b))](0xffffff,0.8);_0x4063e8[_0xaca9f9(0x1c2)][_0xaca9f9(0x252)](0x5,0x14,0x5),_0x4063e8[_0xaca9f9(0x2d0)]=!![],scene[_0xaca9f9(0x2d1)](_0x4063e8);const _0x34f6cf=new THREE[(_0xaca9f9(0x28d))](0xaaccff,0.3);_0x34f6cf['position'][_0xaca9f9(0x252)](-0xa,0x5,-0xa),scene['add'](_0x34f6cf),camera=new THREE[(_0xaca9f9(0x204))](0x2d,0x1,0.1,0x64),camera[_0xaca9f9(0x1c2)][_0xaca9f9(0x252)](0x0,0x12,0x0),camera[_0xaca9f9(0x30b)](0x0,0x0,0x0),renderer=new THREE[(_0xaca9f9(0x1cd))]({'alpha':!![],'antialias':!![]}),renderer[_0xaca9f9(0x295)][_0xaca9f9(0x18d)]=!![],renderer['shadowMap']['type']=THREE[_0xaca9f9(0x2f3)],_0x214f88[_0xaca9f9(0x2fc)](renderer['domElement']),sparkleTexture=createSparkleTexture(),world=new CANNON[(_0xaca9f9(0x239))](),world[_0xaca9f9(0x20c)]['set'](0x0,-0x28,0x0),world[_0xaca9f9(0x1a0)]=new CANNON['NaiveBroadphase'](),world[_0xaca9f9(0x2ea)]['iterations']=0x14,matGround=new CANNON['Material'](),matDice=new CANNON[(_0xaca9f9(0x2a7))](),world[_0xaca9f9(0x2ed)](new CANNON['ContactMaterial'](matGround,matDice,{'friction':0.2,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3})),world[_0xaca9f9(0x2ed)](new CANNON[(_0xaca9f9(0x2a1))](matDice,matDice,{'friction':0.1,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3}));const _0x24741d=new CANNON[(_0xaca9f9(0x1f7))]({'mass':0x0,'shape':new CANNON['Plane'](),'material':matGround});_0x24741d[_0xaca9f9(0x1a1)][_0xaca9f9(0x264)](new CANNON[(_0xaca9f9(0x1af))](0x1,0x0,0x0),-Math['PI']/0x2),world[_0xaca9f9(0x2e6)](_0x24741d),walls[_0xaca9f9(0x2dc)]=createWallBody(),walls[_0xaca9f9(0x2f2)]=createWallBody(),walls[_0xaca9f9(0x221)]=createWallBody(),walls[_0xaca9f9(0x2a4)]=createWallBody();}function createWallBody(){const _0x441ca3=a0_0x3cee0b,_0xbb91ac=new CANNON[(_0x441ca3(0x1f7))]({'mass':0x0,'shape':new CANNON[(_0x441ca3(0x1f1))](new CANNON[(_0x441ca3(0x1af))](0x1,0xa,0x14))});return world[_0x441ca3(0x2e6)](_0xbb91ac),_0xbb91ac;}function updateWallPositions(){const _0x1d3861=a0_0x3cee0b;if(!camera||!renderer)return;const _0x11c03c=camera[_0x1d3861(0x1c2)]['y'],_0x48c5fb=THREE[_0x1d3861(0x2c7)]['degToRad'](camera[_0x1d3861(0x25a)]),_0x23bbf6=0x2*Math[_0x1d3861(0x2ec)](_0x48c5fb/0x2)*_0x11c03c,_0x3b45ef=_0x23bbf6*camera[_0x1d3861(0x2ca)],_0xd67289=0.9,_0x267cc5=_0x3b45ef/0x2*_0xd67289,_0x302e32=_0x23bbf6/0x2*_0xd67289;walls[_0x1d3861(0x2dc)][_0x1d3861(0x1c2)][_0x1d3861(0x252)](-_0x267cc5-0x1,0x0,0x0),walls['left'][_0x1d3861(0x1eb)][0x0]=new CANNON[(_0x1d3861(0x1f1))](new CANNON['Vec3'](0x1,0xa,_0x302e32*0x2)),walls[_0x1d3861(0x2f2)][_0x1d3861(0x1c2)]['set'](_0x267cc5+0x1,0x0,0x0),walls[_0x1d3861(0x2f2)]['shapes'][0x0]=new CANNON[(_0x1d3861(0x1f1))](new CANNON[(_0x1d3861(0x1af))](0x1,0xa,_0x302e32*0x2)),walls['top'][_0x1d3861(0x1c2)]['set'](0x0,0x0,-_0x302e32-0x1),walls[_0x1d3861(0x221)][_0x1d3861(0x1eb)][0x0]=new CANNON[(_0x1d3861(0x1f1))](new CANNON[(_0x1d3861(0x1af))](_0x267cc5*0x2,0xa,0x1)),walls[_0x1d3861(0x2a4)][_0x1d3861(0x1c2)][_0x1d3861(0x252)](0x0,0x0,_0x302e32+0x1),walls[_0x1d3861(0x2a4)]['shapes'][0x0]=new CANNON[(_0x1d3861(0x1f1))](new CANNON['Vec3'](_0x267cc5*0x2,0xa,0x1));}function refreshCanvasSize(){const _0x24d79d=a0_0x3cee0b,_0x1b611b=document['getElementById'](_0x24d79d(0x282));if(_0x1b611b&&camera&&renderer){const _0x309b23=_0x1b611b[_0x24d79d(0x1db)],_0x4a8453=_0x1b611b[_0x24d79d(0x192)];renderer[_0x24d79d(0x1ca)](_0x309b23,_0x4a8453),renderer[_0x24d79d(0x27f)](Math[_0x24d79d(0x280)](window[_0x24d79d(0x1a4)],1.5)),camera[_0x24d79d(0x2ca)]=_0x309b23/_0x4a8453,camera['updateProjectionMatrix']();if(typeof updateWallPositions===_0x24d79d(0x184))updateWallPositions();}}function createDiceGeometry(_0x1b97d1,_0x18f964){const _0x7a6fed=a0_0x3cee0b,_0x1ac372=_0x18f964;let _0x375c2e,_0x107548,_0x1624b1=0.5;switch(_0x1b97d1){case 0x4:_0x375c2e=new THREE['TetrahedronGeometry'](_0x1ac372),_0x107548=new CANNON[(_0x7a6fed(0x1f1))](new CANNON['Vec3'](_0x1ac372*0.75,_0x1ac372*0.75,_0x1ac372*0.75));break;case 0x6:_0x375c2e=new THREE['BoxGeometry'](_0x1ac372,_0x1ac372,_0x1ac372),_0x107548=new CANNON['Box'](new CANNON[(_0x7a6fed(0x1af))](_0x1ac372/0x2,_0x1ac372/0x2,_0x1ac372/0x2));break;case 0x8:_0x375c2e=new THREE['OctahedronGeometry'](_0x1ac372),_0x107548=new CANNON[(_0x7a6fed(0x1f1))](new CANNON[(_0x7a6fed(0x1af))](_0x1ac372*0.7,_0x1ac372*0.7,_0x1ac372*0.7));break;case 0xa:case 0x64:_0x375c2e=new THREE[(_0x7a6fed(0x2b7))](_0x1ac372,0x5,0x2),_0x375c2e[_0x7a6fed(0x2ae)](0x1,1.1,0x1),_0x107548=new CANNON['Cylinder'](0.1,_0x1ac372*0x1,_0x1ac372*1.1,0x5),_0x1624b1=0.4;break;case 0xc:_0x375c2e=new THREE[(_0x7a6fed(0x2bf))](_0x1ac372),_0x107548=new CANNON['Box'](new CANNON[(_0x7a6fed(0x1af))](_0x1ac372*0.85,_0x1ac372*0.85,_0x1ac372*0.85)),_0x1624b1=0.6;break;case 0x14:_0x375c2e=new THREE[(_0x7a6fed(0x1ef))](_0x1ac372),_0x107548=new CANNON[(_0x7a6fed(0x1f1))](new CANNON[(_0x7a6fed(0x1af))](_0x1ac372*0.8,_0x1ac372*0.8,_0x1ac372*0.8)),_0x1624b1=0.6;break;default:_0x375c2e=new THREE['BoxGeometry'](_0x1ac372,_0x1ac372,_0x1ac372),_0x107548=new CANNON['Box'](new CANNON[(_0x7a6fed(0x1af))](_0x1ac372/0x2,_0x1ac372/0x2,_0x1ac372/0x2));}return{'geometry':_0x375c2e,'shape':_0x107548,'angularDamping':_0x1624b1};}function addDice(_0x6bec0e){const _0x1e55fa=a0_0x3cee0b;if(!scene)return;const _0x50d9dd=campaign[_0x1e55fa(0x256)][activeCharIndex],_0x4c0f27=_0x50d9dd?_0x50d9dd[_0x1e55fa(0x261)]:diceConfigs[_0x6bec0e][_0x1e55fa(0x261)];try{const {geometry:_0x373a61,shape:_0x595d6a,angularDamping:_0x338a04}=createDiceGeometry(_0x6bec0e,1.8),_0x43eed9=new THREE['MeshPhysicalMaterial']({'color':_0x4c0f27,'metalness':0.1,'roughness':0.2,'clearcoat':0x1,'flatShading':!![]}),_0x3ba24e=new THREE[(_0x1e55fa(0x212))](_0x373a61,_0x43eed9);_0x3ba24e[_0x1e55fa(0x2d0)]=!![],scene[_0x1e55fa(0x2d1)](_0x3ba24e);const _0x53d8a9=new CANNON['Body']({'mass':0x5,'shape':_0x595d6a,'linearDamping':0.5,'angularDamping':_0x338a04,'material':matDice});_0x53d8a9[_0x1e55fa(0x1c2)][_0x1e55fa(0x252)]((Math[_0x1e55fa(0x1b8)]()-0.5)*0x8,0xe,(Math[_0x1e55fa(0x1b8)]()-0.5)*0x8),_0x53d8a9[_0x1e55fa(0x1a1)][_0x1e55fa(0x252)](Math[_0x1e55fa(0x1b8)](),Math[_0x1e55fa(0x1b8)](),Math[_0x1e55fa(0x1b8)](),Math['random']()),_0x53d8a9[_0x1e55fa(0x214)][_0x1e55fa(0x252)](Math['random']()*0xa,Math[_0x1e55fa(0x1b8)]()*0xa,Math[_0x1e55fa(0x1b8)]()*0xa),_0x53d8a9[_0x1e55fa(0x25d)](_0x1e55fa(0x276),handleDiceCollision),world['addBody'](_0x53d8a9),diceObjects[_0x1e55fa(0x1f2)]({'mesh':_0x3ba24e,'body':_0x53d8a9,'type':_0x6bec0e,'stopped':![]}),updateDiceButtonUI(_0x6bec0e,0x1),clearMagicEffects();}catch(_0x47936f){console[_0x1e55fa(0x253)]('Erro\x20ao\x20gerar\x20dado:',_0x47936f);}}function createSparkleTexture(){const _0x4ecd7a=a0_0x3cee0b,_0x1c3c14=document[_0x4ecd7a(0x26e)]('canvas');_0x1c3c14[_0x4ecd7a(0x1e8)]=0x20,_0x1c3c14[_0x4ecd7a(0x238)]=0x20;const _0x469f54=_0x1c3c14['getContext']('2d'),_0xb0def=_0x469f54['createRadialGradient'](0x10,0x10,0x0,0x10,0x10,0x10);return _0xb0def[_0x4ecd7a(0x1de)](0x0,_0x4ecd7a(0x222)),_0xb0def['addColorStop'](0x1,_0x4ecd7a(0x2b6)),_0x469f54['fillStyle']=_0xb0def,_0x469f54['fillRect'](0x0,0x0,0x20,0x20),new THREE[(_0x4ecd7a(0x208))](_0x1c3c14);}function createNumberLabel(_0x49e848,_0x41b187){const _0xe7d1c7=a0_0x3cee0b,_0x113643=document[_0xe7d1c7(0x26e)]('canvas'),_0x4754b5=0x100;_0x113643[_0xe7d1c7(0x1e8)]=_0x4754b5,_0x113643[_0xe7d1c7(0x238)]=_0x4754b5;const _0xc15ae6=_0x113643['getContext']('2d'),_0x50d5d7=parseInt(_0x41b187[_0xe7d1c7(0x260)](0x1,0x3),0x10),_0x2d9839=parseInt(_0x41b187[_0xe7d1c7(0x260)](0x3,0x5),0x10),_0x4df5b3=parseInt(_0x41b187['slice'](0x5,0x7),0x10),_0x50f574=_0xc15ae6[_0xe7d1c7(0x229)](_0x4754b5/0x2,_0x4754b5/0x2,0x14,_0x4754b5/0x2,_0x4754b5/0x2,0x6e);_0x50f574[_0xe7d1c7(0x1de)](0x0,_0xe7d1c7(0x216)+_0x50d5d7+','+_0x2d9839+','+_0x4df5b3+_0xe7d1c7(0x244)),_0x50f574['addColorStop'](0x1,_0xe7d1c7(0x216)+_0x50d5d7+','+_0x2d9839+','+_0x4df5b3+_0xe7d1c7(0x23a)),_0xc15ae6['fillStyle']=_0x50f574,_0xc15ae6[_0xe7d1c7(0x1ab)](0x0,0x0,_0x4754b5,_0x4754b5),_0xc15ae6[_0xe7d1c7(0x29a)]=_0xe7d1c7(0x1fa),_0xc15ae6[_0xe7d1c7(0x1e6)]='center',_0xc15ae6['textBaseline']='middle',_0xc15ae6[_0xe7d1c7(0x293)]=_0xe7d1c7(0x26d),_0xc15ae6[_0xe7d1c7(0x1b4)]=0xa,_0xc15ae6[_0xe7d1c7(0x26f)]=_0xe7d1c7(0x247),_0xc15ae6[_0xe7d1c7(0x2c0)](_0x49e848,_0x4754b5/0x2,_0x4754b5/0x2);const _0x38836=new THREE[(_0xe7d1c7(0x1d7))]({'map':new THREE[(_0xe7d1c7(0x208))](_0x113643),'transparent':!![],'depthTest':![]}),_0x123d6a=new THREE[(_0xe7d1c7(0x1e5))](_0x38836);return _0x123d6a[_0xe7d1c7(0x2ae)][_0xe7d1c7(0x252)](0.1,0.1,0x1),_0x123d6a[_0xe7d1c7(0x2c8)]=0x3e7,_0x123d6a;}function showFloatingResult(_0x3edfdf,_0x56926b){const _0x267cbe=a0_0x3cee0b,_0x2bd0d2=campaign[_0x267cbe(0x256)][activeCharIndex],_0x2b0f65=_0x2bd0d2?_0x2bd0d2[_0x267cbe(0x261)]:_0x267cbe(0x247),_0x3d8abd=createNumberLabel(_0x56926b[_0x267cbe(0x1aa)](),_0x2b0f65);_0x3d8abd[_0x267cbe(0x1c2)][_0x267cbe(0x1ff)](_0x3edfdf[_0x267cbe(0x231)][_0x267cbe(0x1c2)]),_0x3d8abd[_0x267cbe(0x1c2)]['y']+=0.8,scene[_0x267cbe(0x2d1)](_0x3d8abd),magicEffects[_0x267cbe(0x1f2)]({'mainSprite':_0x3d8abd,'life':0x0,'maxLife':0x64,'color':_0x2b0f65,'particles':[]});if(_0x3edfdf[_0x267cbe(0x2a3)]===0x14){if(_0x56926b===0x14)hasCritHappened=!![],playSound(_0x267cbe(0x274)),document[_0x267cbe(0x25f)][_0x267cbe(0x2d9)][_0x267cbe(0x1ea)](_0x267cbe(0x1cf)),document[_0x267cbe(0x25f)][_0x267cbe(0x2d9)][_0x267cbe(0x2d1)](_0x267cbe(0x259),_0x267cbe(0x1a8)),setTimeout(()=>{const _0x4dad1=_0x267cbe;document['body'][_0x4dad1(0x2d9)][_0x4dad1(0x1ea)](_0x4dad1(0x259),'shake-effect');},0xfa0);else _0x56926b===0x1&&!hasCritHappened&&(playSound('fumble'),document[_0x267cbe(0x25f)][_0x267cbe(0x2d9)][_0x267cbe(0x2d1)](_0x267cbe(0x1cf),_0x267cbe(0x1a8)),setTimeout(()=>{const _0x32d066=_0x267cbe;if(!hasCritHappened)document[_0x32d066(0x25f)][_0x32d066(0x2d9)][_0x32d066(0x1ea)]('nat1-effect',_0x32d066(0x1a8));},0xfa0));}}function clearMagicEffects(){magicEffects['forEach'](_0xf60c5=>{const _0x376df4=a0_0x37d5;scene[_0x376df4(0x1ea)](_0xf60c5[_0x376df4(0x2ac)]),_0xf60c5[_0x376df4(0x278)][_0x376df4(0x1d6)](_0x170955=>scene[_0x376df4(0x1ea)](_0x170955['mesh']));}),magicEffects=[];}function startCharging(){const _0x5cf91c=a0_0x3cee0b;if(diceObjects[_0x5cf91c(0x29e)]===0x0||isRolling)return;if(audioCtx[_0x5cf91c(0x2cd)]===_0x5cf91c(0x188))audioCtx[_0x5cf91c(0x213)]();playHoldSound(),isPressing=!![],clearMagicEffects(),pressPower=0.5;const _0xc98a1d=document[_0x5cf91c(0x1be)](_0x5cf91c(0x2fa)),_0x551e80=document[_0x5cf91c(0x1be)](_0x5cf91c(0x201));_0x551e80['classList'][_0x5cf91c(0x2d1)](_0x5cf91c(0x1a6));if(chargeAnimId)cancelAnimationFrame(chargeAnimId);const _0x2b6b64=0x514,_0xf97611=1.1,_0x4e0d64=_0xf97611-0.4;lastFrameTime=performance[_0x5cf91c(0x1d5)]();const _0x39b451=_0x3b30dc=>{const _0x414f32=_0x5cf91c;if(!isPressing)return;const _0x373bf5=_0x3b30dc-lastFrameTime;lastFrameTime=_0x3b30dc,pressPower+=_0x4e0d64/_0x2b6b64*_0x373bf5;if(pressPower>=_0xf97611)pressPower=_0xf97611;const _0x48a21b=Math[_0x414f32(0x280)](pressPower/_0xf97611*0x64,0x64);_0xc98a1d[_0x414f32(0x207)][_0x414f32(0x238)]=_0x48a21b*1.3+'%';const _0x2ca54b=0x1+_0x48a21b/0x258;_0x551e80[_0x414f32(0x207)][_0x414f32(0x241)]=_0x414f32(0x298)+_0x2ca54b+')',_0x48a21b>=0x64&&_0x551e80[_0x414f32(0x2d9)][_0x414f32(0x2d1)](_0x414f32(0x1ba)),pressPower<_0xf97611&&(chargeAnimId=requestAnimationFrame(_0x39b451));};chargeAnimId=requestAnimationFrame(_0x39b451);}function releaseRoll(_0x1668d3){const _0x528a34=a0_0x3cee0b;if(!isPressing)return;if(_0x1668d3&&_0x1668d3[_0x528a34(0x1df)]&&_0x1668d3['type']===_0x528a34(0x182))_0x1668d3[_0x528a34(0x1fd)]();isPressing=![];chargeAnimId&&(cancelAnimationFrame(chargeAnimId),chargeAnimId=null);stopHoldSound();const _0x140597=document[_0x528a34(0x1be)](_0x528a34(0x201)),_0x3fc19d=document[_0x528a34(0x1be)]('powerBar');_0x140597[_0x528a34(0x2d9)][_0x528a34(0x1ea)]('is-pressing'),_0x140597[_0x528a34(0x2d9)][_0x528a34(0x1ea)]('charged'),_0x140597[_0x528a34(0x207)][_0x528a34(0x241)]='none',_0x140597['style'][_0x528a34(0x226)](_0x528a34(0x27e)),_0x3fc19d[_0x528a34(0x207)][_0x528a34(0x238)]='0%',diceObjects[_0x528a34(0x29e)]>0x0&&!isRolling&&(playSound(_0x528a34(0x2ad)),rollDice(pressPower)),pressPower=0x0;}function rollDice(_0x3fd098){const _0x301be9=a0_0x3cee0b;if(diceObjects[_0x301be9(0x29e)]===0x0)return;isRolling=!![],playSound(_0x301be9(0x19e)),diceObjects[_0x301be9(0x1d6)](_0x2d3c06=>{const _0xe090e4=_0x301be9;_0x2d3c06['stopped']=![],_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x245)][_0xe090e4(0x252)](0x0,0x0,0x0),_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x214)][_0xe090e4(0x252)](0x0,0x0,0x0),_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x1c2)]['y']=Math[_0xe090e4(0x307)](_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x1c2)]['y'],0x5),_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x1d8)]();const _0x321e3d=0xf+0x14*_0x3fd098,_0x5024cb=0xa+0xa*_0x3fd098,_0x405aa9=0xf+0x1e*_0x3fd098;_0x2d3c06[_0xe090e4(0x25f)][_0xe090e4(0x245)][_0xe090e4(0x252)]((Math[_0xe090e4(0x1b8)]()-0.5)*_0x321e3d,_0x5024cb,(Math[_0xe090e4(0x1b8)]()-0.5)*_0x321e3d),_0x2d3c06[_0xe090e4(0x25f)]['angularVelocity'][_0xe090e4(0x252)]((Math['random']()-0.5)*_0x405aa9,(Math['random']()-0.5)*_0x405aa9,(Math[_0xe090e4(0x1b8)]()-0.5)*_0x405aa9);}),requestAnimationFrame(checkDiceStopped);}function checkDiceStopped(){const _0x2a1ced=a0_0x3cee0b;if(!isRolling)return;let _0x2cc29=!![];diceObjects[_0x2a1ced(0x1d6)](_0x312ced=>{const _0x5d4f1f=_0x2a1ced;if(_0x312ced[_0x5d4f1f(0x25f)][_0x5d4f1f(0x245)][_0x5d4f1f(0x2f5)]()>0.1||_0x312ced['body']['angularVelocity'][_0x5d4f1f(0x2f5)]()>0.1)_0x2cc29=![];});if(_0x2cc29)setTimeout(calculateResults,0xc8);else requestAnimationFrame(checkDiceStopped);}function calculateResults(){const _0x3b68e4=a0_0x3cee0b;let _0xe0bdb8=0x0,_0x1d4e07=[],_0x26f012=[],_0x34175b=![],_0x49d138=![];const _0x83830a=document['getElementById'](_0x3b68e4(0x183));let _0x8836dc=parseInt(_0x83830a['value'])||0x0;const _0x409bcf=diceObjects[_0x3b68e4(0x2f4)](_0x15aecd=>{const _0x386290=_0x3b68e4,_0x57eaae=_0x15aecd['type']===0x64?(Math[_0x386290(0x30c)](Math[_0x386290(0x1b8)]()*0xa)+0x1)*0xa:Math['floor'](Math[_0x386290(0x1b8)]()*_0x15aecd[_0x386290(0x2a3)])+0x1,_0x320106={'val':_0x57eaae,'type':_0x15aecd[_0x386290(0x2a3)],'obj':_0x15aecd,'ignored':![]};if(_0x15aecd[_0x386290(0x2a3)]===0x14)_0x26f012[_0x386290(0x1f2)](_0x320106);return _0x320106;});if(rollMode!==_0x3b68e4(0x203)&&_0x26f012[_0x3b68e4(0x29e)]>=0x2){rollMode===_0x3b68e4(0x19d)?_0x26f012[_0x3b68e4(0x2ab)]((_0x272f11,_0x335d25)=>_0x335d25[_0x3b68e4(0x2e8)]-_0x272f11[_0x3b68e4(0x2e8)]):_0x26f012[_0x3b68e4(0x2ab)]((_0x3d2148,_0x1c94e5)=>_0x3d2148[_0x3b68e4(0x2e8)]-_0x1c94e5[_0x3b68e4(0x2e8)]);for(let _0x44aef6=0x1;_0x44aef6<_0x26f012[_0x3b68e4(0x29e)];_0x44aef6++){_0x26f012[_0x44aef6][_0x3b68e4(0x2c4)]=!![];}}_0x409bcf[_0x3b68e4(0x1d6)](_0x32eb34=>{const _0x5b7da2=_0x3b68e4;if(!_0x32eb34['ignored']){_0xe0bdb8+=_0x32eb34[_0x5b7da2(0x2e8)];if(_0x32eb34['type']===0x14){if(_0x32eb34[_0x5b7da2(0x2e8)]===0x14)_0x34175b=!![];if(_0x32eb34['val']===0x1)_0x49d138=!![];}const _0x10dafc=_0x32eb34['type']===0x64?'%':_0x32eb34[_0x5b7da2(0x2a3)];_0x1d4e07['push'](_0x32eb34[_0x5b7da2(0x2e8)]+'\x20(D'+_0x10dafc+')'),_0x32eb34[_0x5b7da2(0x1e1)]['mesh'][_0x5b7da2(0x2a2)]['opacity']=0x1,_0x32eb34[_0x5b7da2(0x1e1)][_0x5b7da2(0x231)][_0x5b7da2(0x2a2)][_0x5b7da2(0x303)]=0x0;}else _0x32eb34[_0x5b7da2(0x1e1)][_0x5b7da2(0x231)][_0x5b7da2(0x2a2)]['opacity']=0.2,_0x32eb34[_0x5b7da2(0x1e1)][_0x5b7da2(0x231)][_0x5b7da2(0x2a2)]['color'][_0x5b7da2(0x1ce)](0x333333),_0x1d4e07[_0x5b7da2(0x1f2)](_0x5b7da2(0x300)+_0x32eb34[_0x5b7da2(0x2e8)]+_0x5b7da2(0x306));showFloatingResult(_0x32eb34[_0x5b7da2(0x1e1)],_0x32eb34[_0x5b7da2(0x2e8)]);}),_0xe0bdb8+=_0x8836dc;let _0xa0796b=_0x1d4e07[_0x3b68e4(0x283)](_0x3b68e4(0x1ee));if(_0x8836dc!==0x0)_0xa0796b+='\x20'+(_0x8836dc>0x0?'+':'')+_0x8836dc+_0x3b68e4(0x1b7);isRolling=![],updateResultDisplay(_0xa0796b,_0xe0bdb8);if(_0x34175b)triggerCritEffect(_0x3b68e4(0x1f0));else{if(_0x49d138)triggerCritEffect(_0x3b68e4(0x294));}const _0x2a562a=campaign[_0x3b68e4(0x256)][activeCharIndex];if(_0x2a562a){const _0x438ac8=_0xa0796b[_0x3b68e4(0x1c9)](/<[^>]*>?/gm,'');saveHistory(_0x2a562a,_0xe0bdb8,_0x438ac8);if(!campaign['globalLog'])campaign['globalLog']=[];const _0x1da402=_0x409bcf['find'](_0x360a90=>_0x360a90[_0x3b68e4(0x2a3)]===0x14&&!_0x360a90[_0x3b68e4(0x2c4)]);campaign[_0x3b68e4(0x23b)][_0x3b68e4(0x1f2)]({'charName':_0x2a562a['name'],'charColor':_0x2a562a[_0x3b68e4(0x261)],'formula':_0x438ac8,'total':_0xe0bdb8,'rawD20':_0x1da402?_0x1da402[_0x3b68e4(0x2e8)]:null,'timestamp':new Date()['toLocaleTimeString']([],{'hour':_0x3b68e4(0x27d),'minute':_0x3b68e4(0x27d)})});}saveData();}function triggerCritEffect(_0x1103cd){const _0x206064=a0_0x3cee0b,_0x389581=document[_0x206064(0x25f)];_0x1103cd===_0x206064(0x1f0)?(_0x389581[_0x206064(0x2d9)][_0x206064(0x2d1)](_0x206064(0x259)),setTimeout(()=>_0x389581[_0x206064(0x2d9)]['remove']('crit-success-flash'),0x3e8)):(_0x389581[_0x206064(0x2d9)]['add'](_0x206064(0x1e4),_0x206064(0x1a8)),setTimeout(()=>_0x389581[_0x206064(0x2d9)][_0x206064(0x1ea)](_0x206064(0x1e4),'shake-effect'),0x1f4));}function clearDice(){const _0x424a5a=a0_0x3cee0b;diceObjects[_0x424a5a(0x1d6)](_0x20811e=>{const _0x6187e4=_0x424a5a;if(_0x20811e['mesh'])scene['remove'](_0x20811e[_0x6187e4(0x231)]);if(_0x20811e[_0x6187e4(0x25f)])world['removeBody'](_0x20811e[_0x6187e4(0x25f)]);}),diceObjects=[],clearMagicEffects(),diceTypes['flat']()[_0x424a5a(0x1d6)](_0xa01c66=>updateDiceButtonUI(_0xa01c66,0x0,!![])),updateResultDisplay('Adicione\x20dados...','0'),isRolling=![],playSound('touch');}function saveHistory(_0x4efc52,_0x2d1e88,_0x4bf559){const _0x8e4d32=a0_0x3cee0b;if(!_0x4efc52[_0x8e4d32(0x2af)])_0x4efc52[_0x8e4d32(0x2af)]=[];_0x4efc52[_0x8e4d32(0x2af)]['push']({'turn':_0x4efc52['turnCount']||0x1,'total':_0x2d1e88,'formula':_0x4bf559}),updateHistoryUI();}function updateHistoryUI(){const _0xe55724=a0_0x3cee0b,_0x2a7edd=campaign['characters'][activeCharIndex],_0x465e27=document[_0xe55724(0x1be)]('historyList');if(!_0x2a7edd||!_0x465e27)return;_0x465e27['innerHTML']='';const _0x2763ab=[..._0x2a7edd[_0xe55724(0x2af)]][_0xe55724(0x1ae)]();if(_0x2763ab[_0xe55724(0x29e)]===0x0){_0x465e27[_0xe55724(0x250)]=_0xe55724(0x224);return;}_0x2763ab[_0xe55724(0x1d6)](_0x18f66f=>{const _0x1547c1=_0xe55724,_0x2c8d7f=document[_0x1547c1(0x26e)]('li');_0x2c8d7f[_0x1547c1(0x285)]='roll-entry',_0x2c8d7f[_0x1547c1(0x250)]=_0x1547c1(0x220)+_0x18f66f[_0x1547c1(0x2e2)]+_0x1547c1(0x18f)+_0x2a7edd['color']+'\x22>'+_0x18f66f[_0x1547c1(0x2ff)]+_0x1547c1(0x2ef),_0x465e27['appendChild'](_0x2c8d7f);});}function toggleHistory(){const _0x31adb8=a0_0x3cee0b,_0x4cad12=document[_0x31adb8(0x1be)]('historyPanel'),_0x54b4c2=document[_0x31adb8(0x1be)]('toggleHistoryBtn');if(!_0x4cad12||!_0x54b4c2)return;const _0x2575ed=_0x4cad12['classList'][_0x31adb8(0x240)](_0x31adb8(0x2b2));_0x54b4c2[_0x31adb8(0x1d4)]=_0x2575ed?_0x31adb8(0x2a5):'Ver\x20Histórico',playSound(_0x31adb8(0x21b));}function animate(){const _0x2d84ac=a0_0x3cee0b;requestAnimationFrame(animate);const _0x1876fe=clock[_0x2d84ac(0x1a2)]();if(world)world[_0x2d84ac(0x17f)](0x1/0x3c,_0x1876fe,0x3);diceObjects[_0x2d84ac(0x1d6)](_0xa78845=>{const _0x35968d=_0x2d84ac;_0xa78845[_0x35968d(0x231)]&&_0xa78845[_0x35968d(0x25f)]&&(_0xa78845[_0x35968d(0x231)][_0x35968d(0x1c2)][_0x35968d(0x1ff)](_0xa78845[_0x35968d(0x25f)][_0x35968d(0x1c2)]),_0xa78845[_0x35968d(0x231)][_0x35968d(0x1a1)][_0x35968d(0x1ff)](_0xa78845[_0x35968d(0x25f)][_0x35968d(0x1a1)]));});for(let _0x53eb27=magicEffects[_0x2d84ac(0x29e)]-0x1;_0x53eb27>=0x0;_0x53eb27--){const _0x53bd5d=magicEffects[_0x53eb27];_0x53bd5d['life']++;if(_0x53bd5d[_0x2d84ac(0x22f)]<0x64){_0x53bd5d['mainSprite'][_0x2d84ac(0x1c2)]['y']+=0.015;if(_0x53bd5d[_0x2d84ac(0x22f)]<0x14){const _0x37dac2=_0x53bd5d[_0x2d84ac(0x22f)]/0x14;_0x53bd5d['mainSprite'][_0x2d84ac(0x2ae)][_0x2d84ac(0x252)](_0x37dac2*2.5,_0x37dac2*2.5,0x1),_0x53bd5d[_0x2d84ac(0x2ac)][_0x2d84ac(0x2a2)][_0x2d84ac(0x205)]=_0x37dac2;}else{if(_0x53bd5d[_0x2d84ac(0x22f)]>0x50)_0x53bd5d[_0x2d84ac(0x2ac)]['material'][_0x2d84ac(0x205)]=(0x64-_0x53bd5d[_0x2d84ac(0x22f)])/0x14;}}if(_0x53bd5d['life']<0x3c&&Math[_0x2d84ac(0x1b8)]()>0.3){const _0xb5b920=new THREE[(_0x2d84ac(0x1d7))]({'map':sparkleTexture,'transparent':!![],'color':_0x53bd5d[_0x2d84ac(0x261)],'opacity':0.8,'blending':THREE['AdditiveBlending']}),_0x38461e=new THREE[(_0x2d84ac(0x1e5))](_0xb5b920);_0x38461e['position'][_0x2d84ac(0x1ff)](_0x53bd5d['mainSprite'][_0x2d84ac(0x1c2)]),_0x38461e[_0x2d84ac(0x1c2)]['x']+=(Math['random']()-0.5)*0.5,_0x38461e[_0x2d84ac(0x1c2)]['y']-=0.2,_0x38461e[_0x2d84ac(0x2ae)]['set'](0.3,0.3,0x1),scene[_0x2d84ac(0x2d1)](_0x38461e),_0x53bd5d[_0x2d84ac(0x278)][_0x2d84ac(0x1f2)]({'mesh':_0x38461e,'age':0x0});}for(let _0xd67fe=_0x53bd5d['particles'][_0x2d84ac(0x29e)]-0x1;_0xd67fe>=0x0;_0xd67fe--){const _0x15355a=_0x53bd5d[_0x2d84ac(0x278)][_0xd67fe];_0x15355a[_0x2d84ac(0x24f)]++,_0x15355a[_0x2d84ac(0x231)][_0x2d84ac(0x1c2)]['y']-=0.005,_0x15355a[_0x2d84ac(0x231)]['material'][_0x2d84ac(0x205)]-=0.03,_0x15355a[_0x2d84ac(0x231)][_0x2d84ac(0x2ae)][_0x2d84ac(0x1c5)](0.95),_0x15355a['mesh'][_0x2d84ac(0x2a2)][_0x2d84ac(0x205)]<=0x0&&(scene[_0x2d84ac(0x1ea)](_0x15355a[_0x2d84ac(0x231)]),_0x53bd5d[_0x2d84ac(0x278)][_0x2d84ac(0x288)](_0xd67fe,0x1));}_0x53bd5d[_0x2d84ac(0x22f)]>=0x64&&_0x53bd5d[_0x2d84ac(0x278)][_0x2d84ac(0x29e)]===0x0&&(scene[_0x2d84ac(0x1ea)](_0x53bd5d[_0x2d84ac(0x2ac)]),magicEffects[_0x2d84ac(0x288)](_0x53eb27,0x1));}if(renderer&&scene&&camera)renderer[_0x2d84ac(0x269)](scene,camera);}document[a0_0x3cee0b(0x25d)](a0_0x3cee0b(0x21b),_0x1340d7=>{const _0x3098a1=a0_0x3cee0b;if(_0x1340d7[_0x3098a1(0x194)]['id']===_0x3098a1(0x233)){playSound(_0x3098a1(0x193));return;}if(_0x1340d7['target']['closest']('.char-tab')||_0x1340d7[_0x3098a1(0x194)][_0x3098a1(0x2a0)](_0x3098a1(0x2da))){playSound('touch');return;}if(_0x1340d7[_0x3098a1(0x194)][_0x3098a1(0x2a0)](_0x3098a1(0x1a7)))return;if(_0x1340d7[_0x3098a1(0x194)]['closest'](_0x3098a1(0x1bb))||_0x1340d7[_0x3098a1(0x194)]['closest'](_0x3098a1(0x1b2))||_0x1340d7[_0x3098a1(0x194)][_0x3098a1(0x2a0)](_0x3098a1(0x22e))||_0x1340d7[_0x3098a1(0x194)][_0x3098a1(0x2a0)](_0x3098a1(0x19c))||_0x1340d7[_0x3098a1(0x194)]['closest']('i'))playSound(_0x3098a1(0x21b));setupModPicker();});function handleDiceCollision(_0x184ff2){const _0x42991b=a0_0x3cee0b;if(typeof lastSoundTime===_0x42991b(0x234)){console[_0x42991b(0x253)]('ERRO:\x20Adicione\x20\x27const\x20lastSoundTime\x20=\x20{};\x27\x20no\x20topo\x20do\x20script!');return;}let _0x505d91=0x0;if(_0x184ff2['contact']&&_0x184ff2[_0x42991b(0x2cc)][_0x42991b(0x257)])_0x505d91=Math['abs'](_0x184ff2[_0x42991b(0x2cc)][_0x42991b(0x257)]());else _0x184ff2[_0x42991b(0x2cc)]&&_0x184ff2[_0x42991b(0x2cc)]['bi']&&_0x184ff2['contact']['bj']&&(_0x505d91=0x1);if(_0x505d91<0.8)return;const _0x29f4ac=_0x184ff2[_0x42991b(0x25f)]['id'],_0x24177d=Date[_0x42991b(0x1d5)]();if(lastSoundTime[_0x29f4ac]&&_0x24177d-lastSoundTime[_0x29f4ac]<0x32)return;lastSoundTime[_0x29f4ac]=_0x24177d;let _0x4ab2a1=Math[_0x42991b(0x280)](_0x505d91/0xf,0x1);playSound('collide',_0x4ab2a1);}function setupModPicker(){const _0x3ce840=a0_0x3cee0b,_0x56e678=document[_0x3ce840(0x1be)](_0x3ce840(0x25b));if(!_0x56e678)return;_0x56e678[_0x3ce840(0x250)]='';for(let _0x690915=-0xa;_0x690915<=0xa;_0x690915++){const _0x4f9de7=document[_0x3ce840(0x26e)](_0x3ce840(0x1bb));_0x4f9de7['className']=_0x3ce840(0x28a),_0x4f9de7[_0x3ce840(0x1d4)]=(_0x690915>0x0?'+':'')+_0x690915,_0x4f9de7[_0x3ce840(0x1f6)]=()=>selectMod(_0x690915),_0x56e678[_0x3ce840(0x2fc)](_0x4f9de7);}}function toggleModPicker(){const _0x545af0=a0_0x3cee0b,_0x58fee=document[_0x545af0(0x1be)]('modPickerModal'),_0x597559=_0x58fee[_0x545af0(0x207)][_0x545af0(0x1ec)]===_0x545af0(0x251);_0x58fee[_0x545af0(0x207)]['display']=_0x597559?'flex':_0x545af0(0x251),_0x597559&&(playSound(_0x545af0(0x21b)),highlightActiveMod());}function selectMod(_0x4a5425){const _0x534e38=a0_0x3cee0b,_0x18052a=document[_0x534e38(0x1be)](_0x534e38(0x183)),_0xc42667=document[_0x534e38(0x1be)](_0x534e38(0x180));_0x18052a[_0x534e38(0x2c1)]=_0x4a5425,_0xc42667[_0x534e38(0x1d4)]=(_0x4a5425>0x0?'+':'')+_0x4a5425;if(campaign['characters'][activeCharIndex])campaign[_0x534e38(0x256)][activeCharIndex][_0x534e38(0x270)]=_0x4a5425;saveData(),toggleModPicker(),playSound(_0x534e38(0x310));}function highlightActiveMod(){const _0x4fc8d1=a0_0x3cee0b,_0x5df134=parseInt(document['getElementById']('modInput')['value'])||0x0;document[_0x4fc8d1(0x2e0)](_0x4fc8d1(0x1fb))[_0x4fc8d1(0x1d6)](_0x26eed1=>{const _0x4991fc=_0x4fc8d1,_0x1449fe=parseInt(_0x26eed1[_0x4991fc(0x1d4)]);_0x26eed1[_0x4991fc(0x2d9)][_0x4991fc(0x240)]('active',_0x1449fe===_0x5df134);});}function setRollMode(_0x190efe){const _0x4092d2=a0_0x3cee0b;rollMode=_0x190efe;if(campaign['characters'][activeCharIndex])campaign[_0x4092d2(0x256)][activeCharIndex][_0x4092d2(0x27b)]=_0x190efe;const _0x2926f5=document[_0x4092d2(0x1be)](_0x4092d2(0x308));if(!_0x2926f5)return;_0x2926f5[_0x4092d2(0x2d9)]['remove'](_0x4092d2(0x2a8),_0x4092d2(0x2cb),'mode-dis');if(_0x190efe===_0x4092d2(0x203))_0x2926f5[_0x4092d2(0x1d4)]=_0x4092d2(0x311),_0x2926f5[_0x4092d2(0x2d9)][_0x4092d2(0x2d1)](_0x4092d2(0x2a8));else{if(_0x190efe===_0x4092d2(0x19d))_0x2926f5['innerText']=_0x4092d2(0x2f9),_0x2926f5[_0x4092d2(0x2d9)]['add'](_0x4092d2(0x2cb));else _0x190efe===_0x4092d2(0x2d2)&&(_0x2926f5[_0x4092d2(0x1d4)]=_0x4092d2(0x1da),_0x2926f5[_0x4092d2(0x2d9)][_0x4092d2(0x2d1)]('mode-dis'));}}function cycleRollMode(){const _0x5be229=a0_0x3cee0b;playSound(_0x5be229(0x21b));if(rollMode===_0x5be229(0x203))setRollMode(_0x5be229(0x19d));else{if(rollMode===_0x5be229(0x19d))setRollMode('disadvantage');else setRollMode(_0x5be229(0x203));}}function openGlobalLog(){const _0x21a76b=a0_0x3cee0b,_0x960a46=document[_0x21a76b(0x1be)](_0x21a76b(0x267)),_0x376fc2=document[_0x21a76b(0x1be)](_0x21a76b(0x2fd));if(!campaign[_0x21a76b(0x23b)])campaign[_0x21a76b(0x23b)]=[];let _0x102aca={};campaign[_0x21a76b(0x23b)][_0x21a76b(0x1d6)](_0x17928c=>{const _0xa20753=_0x21a76b;if(_0x17928c[_0xa20753(0x26b)]!==null&&_0x17928c[_0xa20753(0x26b)]!==undefined){if(!_0x102aca[_0x17928c['charName']])_0x102aca[_0x17928c['charName']]={'sum':0x0,'count':0x0};_0x102aca[_0x17928c['charName']][_0xa20753(0x198)]+=_0x17928c['rawD20'],_0x102aca[_0x17928c[_0xa20753(0x2a6)]][_0xa20753(0x2e1)]++;}});let _0x524e9c=-0x1,_0x4ec0da=0x15,_0x54393c='--',_0xecc813='--';for(const [_0x45c017,_0x193467]of Object[_0x21a76b(0x27a)](_0x102aca)){if(_0x193467[_0x21a76b(0x2e1)]>0x0){const _0x448741=_0x193467[_0x21a76b(0x198)]/_0x193467['count'];_0x448741>_0x524e9c&&(_0x524e9c=_0x448741,_0x54393c=_0x45c017),_0x448741<_0x4ec0da&&(_0x4ec0da=_0x448741,_0xecc813=_0x45c017);}}document[_0x21a76b(0x1be)](_0x21a76b(0x1d2))[_0x21a76b(0x1d4)]=_0x54393c,document[_0x21a76b(0x1be)](_0x21a76b(0x20a))[_0x21a76b(0x1d4)]=_0x524e9c>-0x1?'Média:\x20'+_0x524e9c[_0x21a76b(0x189)](0x1):'Média:\x20-',document[_0x21a76b(0x1be)]('statUnluckyName')[_0x21a76b(0x1d4)]=_0xecc813,document[_0x21a76b(0x1be)]('statUnluckyVal')[_0x21a76b(0x1d4)]=_0x4ec0da<0x15?_0x21a76b(0x230)+_0x4ec0da[_0x21a76b(0x189)](0x1):_0x21a76b(0x2c5),_0x376fc2[_0x21a76b(0x250)]='',[...campaign[_0x21a76b(0x23b)]][_0x21a76b(0x1ae)]()[_0x21a76b(0x1d6)](_0x2635b3=>{const _0x407004=_0x21a76b,_0x18b84d=document['createElement']('li');_0x18b84d[_0x407004(0x285)]='global-log-entry';let _0x5e17ed=_0x407004(0x18c);if(_0x2635b3[_0x407004(0x26b)]===0x14)_0x5e17ed+=_0x407004(0x1b1);if(_0x2635b3[_0x407004(0x26b)]===0x1)_0x5e17ed+=_0x407004(0x2ba);_0x18b84d['innerHTML']=_0x407004(0x1d0)+_0x2635b3[_0x407004(0x243)]+'\x22>'+_0x2635b3[_0x407004(0x2a6)]+_0x407004(0x23e)+_0x2635b3[_0x407004(0x181)]+_0x407004(0x21a)+_0x5e17ed+'\x22>'+_0x2635b3[_0x407004(0x2ff)]+_0x407004(0x2f6)+_0x2635b3[_0x407004(0x2e2)]+_0x407004(0x1b6),_0x376fc2['appendChild'](_0x18b84d);}),_0x960a46[_0x21a76b(0x207)][_0x21a76b(0x1ec)]=_0x21a76b(0x17e),playSound(_0x21a76b(0x21b));}function openCompendium(){const _0x4e3774=a0_0x3cee0b,_0x487d19=document[_0x4e3774(0x1be)](_0x4e3774(0x2d4));if(_0x487d19){_0x487d19[_0x4e3774(0x207)][_0x4e3774(0x1ec)]=_0x4e3774(0x17e);if(typeof rulesData!=='undefined')renderRules(rulesData);playSound(_0x4e3774(0x21b));}}function getLevelValue(_0x44119a){const _0x489493=a0_0x3cee0b;if(_0x44119a[_0x489493(0x314)]!==_0x489493(0x20b))return-0x1;if(_0x44119a[_0x489493(0x1c8)]['includes'](_0x489493(0x190)))return 0x0;const _0x568636=_0x44119a[_0x489493(0x1c8)][_0x489493(0x30a)](/(\d+)º/);return _0x568636?parseInt(_0x568636[0x1]):0x0;}function getSortPriority(_0x50da9b){const _0x399adc=a0_0x3cee0b;if(_0x50da9b[_0x399adc(0x23d)]['includes'](_0x399adc(0x29b)))return 0x1;if(_0x50da9b['title'][_0x399adc(0x1e0)](_0x399adc(0x292)))return 0x2;const _0x303803=_0x50da9b[_0x399adc(0x1c8)]?_0x50da9b['meta'][_0x399adc(0x30a)](/Nível (\d+)/):null;if(_0x303803)return 0xa+parseInt(_0x303803[0x1]);if(_0x50da9b[_0x399adc(0x1c8)]&&_0x50da9b[_0x399adc(0x1c8)][_0x399adc(0x1e0)](_0x399adc(0x206)))return 0x64;return 0x32;}function renderRules(_0xdd93c5){const _0x1a7c69=a0_0x3cee0b,_0x34ff25=document['getElementById'](_0x1a7c69(0x223));if(!_0x34ff25)return;_0x34ff25[_0x1a7c69(0x250)]='';if(_0xdd93c5[_0x1a7c69(0x29e)]===0x0){_0x34ff25[_0x1a7c69(0x250)]=_0x1a7c69(0x197);return;}const _0x5ee208=[..._0xdd93c5][_0x1a7c69(0x2ab)]((_0x50f803,_0x5f0dae)=>{const _0x2cf5da=_0x1a7c69,_0x4d8215={'basics':0x0,'condition':0x1,'action':0x2,'combat':0x3,'env':0x4,'class':0x5,'species':0x6,'feat':0x7,'spell':0x8,'equipment':0x9},_0x441ffb=_0x4d8215[_0x50f803[_0x2cf5da(0x314)]]!==undefined?_0x4d8215[_0x50f803[_0x2cf5da(0x314)]]:0x63,_0x3cc2df=_0x4d8215[_0x5f0dae[_0x2cf5da(0x314)]]!==undefined?_0x4d8215[_0x5f0dae[_0x2cf5da(0x314)]]:0x63;if(_0x441ffb!==_0x3cc2df)return _0x441ffb-_0x3cc2df;if([_0x2cf5da(0x2bb),_0x2cf5da(0x313),_0x2cf5da(0x1e3),'equipment',_0x2cf5da(0x302)]['includes'](_0x50f803[_0x2cf5da(0x314)])){if(_0x50f803[_0x2cf5da(0x2e9)]!==_0x5f0dae[_0x2cf5da(0x2e9)])return _0x50f803['parentClass']['localeCompare'](_0x5f0dae[_0x2cf5da(0x2e9)]);const _0x2a4ccd=typeof getSortPriority===_0x2cf5da(0x184)?getSortPriority(_0x50f803):0x32,_0x3051cf=typeof getSortPriority===_0x2cf5da(0x184)?getSortPriority(_0x5f0dae):0x32;if(_0x2a4ccd!==_0x3051cf)return _0x2a4ccd-_0x3051cf;}const _0x1020af=typeof getLevelValue===_0x2cf5da(0x184)?getLevelValue(_0x50f803):0x0,_0x1c9804=typeof getLevelValue==='function'?getLevelValue(_0x5f0dae):0x0;if(_0x1020af!==_0x1c9804)return _0x1020af-_0x1c9804;return _0x50f803[_0x2cf5da(0x23d)][_0x2cf5da(0x2f1)](_0x5f0dae['title']);});let _0x56460b='';_0x5ee208[_0x1a7c69(0x1d6)](_0x5b80bc=>{const _0x1fb0ba=_0x1a7c69;let _0x1c0fb2='',_0x39f8ad='';if(_0x5b80bc['category']===_0x1fb0ba(0x20b)){const _0x4eb332=getLevelValue(_0x5b80bc);_0x1c0fb2=_0x4eb332===0x0?_0x1fb0ba(0x235):'Círculo\x20'+_0x4eb332+'º',_0x39f8ad=_0x1fb0ba(0x2c2)+_0x4eb332;}else{if([_0x1fb0ba(0x2bb),'class',_0x1fb0ba(0x1e3),'equipment','feat']['includes'](_0x5b80bc[_0x1fb0ba(0x314)])){_0x1c0fb2=_0x5b80bc[_0x1fb0ba(0x2e9)];const _0x1c0a67=_0x1c0fb2[_0x1fb0ba(0x20f)]()[_0x1fb0ba(0x1d3)](_0x1fb0ba(0x255))[_0x1fb0ba(0x1c9)](/[\u0300-\u036f]/g,'')[_0x1fb0ba(0x1c9)](/\s+/g,'');_0x39f8ad=_0x1fb0ba(0x24c)+_0x1c0a67;}else _0x1c0fb2=null;}if(_0x1c0fb2&&_0x56460b!==_0x1c0fb2){_0x56460b=_0x1c0fb2;const _0xe8ebaf=document[_0x1fb0ba(0x26e)](_0x1fb0ba(0x1a3));_0xe8ebaf[_0x1fb0ba(0x285)]=_0x1fb0ba(0x291)+_0x39f8ad,_0xe8ebaf[_0x1fb0ba(0x1d4)]=_0x1c0fb2,_0x34ff25['appendChild'](_0xe8ebaf);}const _0x4d2c37=document[_0x1fb0ba(0x26e)](_0x1fb0ba(0x1a3));_0x4d2c37[_0x1fb0ba(0x285)]='rule-card';let _0x189688=translateCategory(_0x5b80bc['category']),_0x334c86='';if([_0x1fb0ba(0x313),_0x1fb0ba(0x1e3),_0x1fb0ba(0x2e7),_0x1fb0ba(0x302)][_0x1fb0ba(0x1e0)](_0x5b80bc[_0x1fb0ba(0x314)])){_0x189688=_0x5b80bc[_0x1fb0ba(0x2e9)];const _0x433b9d=_0x189688[_0x1fb0ba(0x20f)]()[_0x1fb0ba(0x1d3)]('NFD')['replace'](/[\u0300-\u036f]/g,'')[_0x1fb0ba(0x1c9)](/\s+/g,'');_0x334c86=_0x1fb0ba(0x1e9)+_0x433b9d;}else _0x334c86='tag-'+_0x5b80bc[_0x1fb0ba(0x314)];let _0x43b874=_0x5b80bc[_0x1fb0ba(0x1c8)]?_0x1fb0ba(0x2c3)+_0x5b80bc[_0x1fb0ba(0x1c8)]+_0x1fb0ba(0x19b):'';_0x4d2c37[_0x1fb0ba(0x250)]=_0x1fb0ba(0x1c6)+_0x5b80bc[_0x1fb0ba(0x23d)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rule-tag\x20'+_0x334c86+_0x1fb0ba(0x2fe)+(_0x5b80bc[_0x1fb0ba(0x314)]===_0x1fb0ba(0x20b)?_0x1fb0ba(0x199):'')+'\x22>'+_0x189688+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43b874+_0x1fb0ba(0x2b5)+_0x5b80bc[_0x1fb0ba(0x2d5)]+_0x1fb0ba(0x211),_0x34ff25['appendChild'](_0x4d2c37);});}function translateCategory(_0x2178e3){const _0x33d77b=a0_0x3cee0b;if(_0x2178e3==='basics')return'Básico';if(_0x2178e3==='condition')return _0x33d77b(0x20d);if(_0x2178e3===_0x33d77b(0x1dc))return _0x33d77b(0x1dd);if(_0x2178e3===_0x33d77b(0x287))return _0x33d77b(0x2d6);if(_0x2178e3===_0x33d77b(0x20b))return'Magia';if(_0x2178e3===_0x33d77b(0x225))return'Ambiente';if(_0x2178e3===_0x33d77b(0x1e3))return'Raça';if(_0x2178e3===_0x33d77b(0x2e7))return _0x33d77b(0x28e);if(_0x2178e3==='feat')return _0x33d77b(0x272);return _0x2178e3;}function filterRules(){const _0x655643=a0_0x3cee0b,_0x2c4947=document['getElementById']('ruleSearch');if(!_0x2c4947||typeof rulesData==='undefined')return;const _0x3888a5=normalizeText(_0x2c4947['value'][_0x655643(0x177)]());let _0x31aa7e=_0x3888a5;_0x3888a5[_0x655643(0x29e)]>0x3&&(_0x31aa7e=_0x3888a5[_0x655643(0x1c9)](/(r|s)$/,''));const _0x44fe1b=rulesData[_0x655643(0x241)](_0x5d4739=>{const _0x2531b5=_0x655643,_0x2f5b9d=normalizeText(_0x5d4739[_0x2531b5(0x23d)]),_0x501e2d=normalizeText(_0x5d4739['text']),_0x20e2a5=normalizeText(_0x5d4739['meta']||''),_0x41c67d=_0x2f5b9d[_0x2531b5(0x1e0)](_0x3888a5)||_0x2f5b9d[_0x2531b5(0x1e0)](_0x31aa7e),_0x1ee693=_0x501e2d[_0x2531b5(0x1e0)](_0x3888a5)||_0x501e2d[_0x2531b5(0x1e0)](_0x31aa7e),_0x2c7e9d=_0x20e2a5[_0x2531b5(0x1e0)](_0x3888a5)||_0x20e2a5['includes'](_0x31aa7e);return _0x41c67d||_0x1ee693||_0x2c7e9d;});renderRules(_0x44fe1b),document[_0x655643(0x2e0)](_0x655643(0x304))[_0x655643(0x1d6)](_0x17bd15=>_0x17bd15[_0x655643(0x2d9)]['remove'](_0x655643(0x30e)));}function normalizeText(_0x1c4e95){const _0x1057ea=a0_0x3cee0b;if(!_0x1c4e95)return'';return _0x1c4e95[_0x1057ea(0x1d3)](_0x1057ea(0x255))['replace'](/[\u0300-\u036f]/g,'')['toLowerCase']();}function filterCategory(_0x3b3b4c){const _0x405682=a0_0x3cee0b;document[_0x405682(0x2e0)](_0x405682(0x304))['forEach'](_0x2c26eb=>_0x2c26eb[_0x405682(0x2d9)]['remove'](_0x405682(0x30e)));if(event&&event[_0x405682(0x194)])event[_0x405682(0x194)][_0x405682(0x2d9)][_0x405682(0x2d1)](_0x405682(0x30e));const _0x340230=document['getElementById'](_0x405682(0x2ee));if(_0x340230)_0x340230['value']='';if(typeof rulesData===_0x405682(0x234))return;if(_0x3b3b4c===_0x405682(0x2d8))renderRules(rulesData);else{const _0x25b5f9=rulesData[_0x405682(0x241)](_0x194a92=>_0x194a92['category']===_0x3b3b4c);renderRules(_0x25b5f9);}}function setupEventListeners(){const _0x4a0b92=a0_0x3cee0b,_0xfd464=document['getElementById'](_0x4a0b92(0x201));if(_0xfd464){const _0x581ae9=_0xfd464[_0x4a0b92(0x273)](!![]);_0xfd464[_0x4a0b92(0x26c)][_0x4a0b92(0x2f8)](_0x581ae9,_0xfd464);const _0x34d34c=document['getElementById']('rollBtn');_0x34d34c['addEventListener']('mousedown',startCharging),window[_0x4a0b92(0x25d)]('mouseup',releaseRoll),_0x34d34c[_0x4a0b92(0x25d)](_0x4a0b92(0x22c),startCharging,{'passive':![]}),window['addEventListener'](_0x4a0b92(0x182),releaseRoll);}const _0x394509=document['getElementById']('addCharBtn');if(_0x394509)_0x394509['onclick']=addCharacterPreview;const _0x2d015f=document['getElementById']('startCampaignBtn');if(_0x2d015f)_0x2d015f[_0x4a0b92(0x1f6)]=startCampaign;const _0x367927=document[_0x4a0b92(0x1be)](_0x4a0b92(0x1f5));if(_0x367927)_0x367927['onclick']=clearDice;const _0x33eaa2=document[_0x4a0b92(0x1be)](_0x4a0b92(0x21f));if(_0x33eaa2)_0x33eaa2[_0x4a0b92(0x1f6)]=toggleHistory;window['addEventListener'](_0x4a0b92(0x22a),refreshCanvasSize);}document[a0_0x3cee0b(0x25d)](a0_0x3cee0b(0x1fc),()=>{setupEventListeners();});function openDonation(){const _0x1d7949=a0_0x3cee0b,_0x59d1a6=_0x1d7949(0x309);playSound(_0x1d7949(0x21b)),window[_0x1d7949(0x2b2)](_0x59d1a6,'_blank');}document[a0_0x3cee0b(0x25d)]('contextmenu',_0x37d263=>_0x37d263[a0_0x3cee0b(0x1fd)]()),document[a0_0x3cee0b(0x1c4)]=function(_0x26d59f){const _0x1ae5da=a0_0x3cee0b;if(_0x26d59f['keyCode']==0x7b)return![];if(_0x26d59f[_0x1ae5da(0x18e)]&&_0x26d59f[_0x1ae5da(0x266)]&&(_0x26d59f[_0x1ae5da(0x24d)]=='I'[_0x1ae5da(0x1d1)](0x0)||_0x26d59f[_0x1ae5da(0x24d)]=='C'[_0x1ae5da(0x1d1)](0x0)||_0x26d59f[_0x1ae5da(0x24d)]=='J'[_0x1ae5da(0x1d1)](0x0)))return![];if(_0x26d59f[_0x1ae5da(0x18e)]&&_0x26d59f[_0x1ae5da(0x24d)]=='U'[_0x1ae5da(0x1d1)](0x0))return![];};function hideSplashScreen(){const _0x25840d=a0_0x3cee0b,_0x279cd4=document['getElementById'](_0x25840d(0x281));_0x279cd4&&(console[_0x25840d(0x24a)](_0x25840d(0x2bc)),_0x279cd4[_0x25840d(0x2d9)][_0x25840d(0x2d1)](_0x25840d(0x290)),setTimeout(()=>{const _0x3f331b=_0x25840d;_0x279cd4[_0x3f331b(0x207)]['display']='none';},0x320));}window[a0_0x3cee0b(0x25d)]('load',hideSplashScreen),setTimeout(()=>{const _0x20740a=a0_0x3cee0b,_0x49e847=document[_0x20740a(0x1be)](_0x20740a(0x281));_0x49e847&&!_0x49e847[_0x20740a(0x2d9)][_0x20740a(0x22b)](_0x20740a(0x290))&&(console[_0x20740a(0x27c)]('Rollen:\x20O\x20carregamento\x20demorou\x20demais.\x20Forçando\x20entrada.'),hideSplashScreen());},0x1388);