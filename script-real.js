const a0_0x32457d=a0_0x4009;(function(_0x1ffd05,_0xa5faf8){const _0x30ae0c=a0_0x4009,_0x50b3e2=_0x1ffd05();while(!![]){try{const _0x30b207=-parseInt(_0x30ae0c(0x298))/0x1+parseInt(_0x30ae0c(0x2e3))/0x2*(parseInt(_0x30ae0c(0x282))/0x3)+-parseInt(_0x30ae0c(0x279))/0x4*(-parseInt(_0x30ae0c(0x2a8))/0x5)+parseInt(_0x30ae0c(0x2ea))/0x6+-parseInt(_0x30ae0c(0x2a4))/0x7*(parseInt(_0x30ae0c(0x1b8))/0x8)+parseInt(_0x30ae0c(0x2e1))/0x9*(-parseInt(_0x30ae0c(0x27d))/0xa)+parseInt(_0x30ae0c(0x1b2))/0xb*(parseInt(_0x30ae0c(0x226))/0xc);if(_0x30b207===_0xa5faf8)break;else _0x50b3e2['push'](_0x50b3e2['shift']());}catch(_0x5c17a2){_0x50b3e2['push'](_0x50b3e2['shift']());}}}(a0_0x52a5,0xa25bd));const AudioContext=window['AudioContext']||window[a0_0x32457d(0x20e)],audioCtx=new AudioContext(),soundBuffers={},lastSoundTime={},MAX_VOICES=0x4;let activeVoices=0x0;const soundMap={'click':a0_0x32457d(0x30b),'touch':a0_0x32457d(0x312),'hold':a0_0x32457d(0x287),'shoot':'./shoot.mp3','start':a0_0x32457d(0x2ff),'crit':'./crit.mp3','fumble':a0_0x32457d(0x333),'throw':a0_0x32457d(0x255),'col0':a0_0x32457d(0x30e),'col1':'./collide2.mp3','col2':'./collide3.mp3','col3':a0_0x32457d(0x2ae),'col4':a0_0x32457d(0x1b6)};async function preloadSounds(){const _0x4e21dc=a0_0x32457d;for(const [_0x1d9afe,_0xe8fff2]of Object[_0x4e21dc(0x2cb)](soundMap)){try{const _0x2b659d=await fetch(_0xe8fff2),_0x443988=await _0x2b659d[_0x4e21dc(0x1f9)](),_0x4b04c7=await audioCtx[_0x4e21dc(0x2b6)](_0x443988);soundBuffers[_0x1d9afe]=_0x4b04c7;}catch(_0x3a1e7c){console['warn'](_0x4e21dc(0x27f)+_0x1d9afe,_0x3a1e7c);}}}preloadSounds();function unlockAudio(){const _0x5e2015=a0_0x32457d;audioCtx[_0x5e2015(0x280)]===_0x5e2015(0x2c4)&&audioCtx[_0x5e2015(0x2b5)]()[_0x5e2015(0x2a1)](()=>{const _0xb0985e=_0x5e2015,_0x1efc84=audioCtx[_0xb0985e(0x1bf)](0x1,0x1,0x5622),_0x2a80a9=audioCtx[_0xb0985e(0x1e1)]();_0x2a80a9[_0xb0985e(0x215)]=_0x1efc84,_0x2a80a9['connect'](audioCtx[_0xb0985e(0x1e8)]),_0x2a80a9[_0xb0985e(0x341)](0x0),console[_0xb0985e(0x267)](_0xb0985e(0x1da)),window[_0xb0985e(0x276)]('touchstart',unlockAudio),window[_0xb0985e(0x276)]('click',unlockAudio);});}window[a0_0x32457d(0x31d)](a0_0x32457d(0x1d0),unlockAudio,{'passive':![]}),window[a0_0x32457d(0x31d)](a0_0x32457d(0x25b),unlockAudio);function playSound(_0x439da5,_0x166d0f=0x1){const _0x520e58=a0_0x32457d,_0x352d2f=localStorage[_0x520e58(0x256)](_0x520e58(0x317))===_0x520e58(0x2bf);if(_0x352d2f)return;let _0x3b0a28=_0x439da5;if(_0x439da5===_0x520e58(0x29a)){const _0x25cb5f=Math['floor'](Math[_0x520e58(0x335)]()*0x5);_0x3b0a28=_0x520e58(0x285)+_0x25cb5f;}if(!soundBuffers[_0x3b0a28])return;if(activeVoices>=MAX_VOICES&&_0x439da5===_0x520e58(0x29a))return;const _0x4a3d39=audioCtx[_0x520e58(0x1e1)]();_0x4a3d39['buffer']=soundBuffers[_0x3b0a28];const _0x2f1ea7=audioCtx[_0x520e58(0x338)]();let _0x3e1dcf=_0x166d0f;if(_0x439da5===_0x520e58(0x29a)){_0x3e1dcf=_0x166d0f+(Math[_0x520e58(0x335)]()*0.2-0.1);if(_0x3e1dcf>0x1)_0x3e1dcf=0x1;if(_0x3e1dcf<0.1)_0x3e1dcf=0.4;}_0x2f1ea7[_0x520e58(0x21b)]['value']=_0x3e1dcf,_0x4a3d39[_0x520e58(0x1ba)](_0x2f1ea7),_0x2f1ea7[_0x520e58(0x1ba)](audioCtx[_0x520e58(0x1e8)]),activeVoices++,_0x4a3d39[_0x520e58(0x341)](0x0),_0x4a3d39[_0x520e58(0x327)]=()=>{activeVoices--;if(activeVoices<0x0)activeVoices=0x0;};}function a0_0x4009(_0x2a0ac1,_0x38a6f5){_0x2a0ac1=_0x2a0ac1-0x1b0;const _0x52a5dc=a0_0x52a5();let _0x4009e7=_0x52a5dc[_0x2a0ac1];return _0x4009e7;}function playHoldSound(){const _0x1d83bb=a0_0x32457d;if(currentHoldSource||!soundBuffers['hold'])return;const _0x2476d2=audioCtx[_0x1d83bb(0x1e1)]();_0x2476d2[_0x1d83bb(0x215)]=soundBuffers['hold'],_0x2476d2[_0x1d83bb(0x316)]=!![],_0x2476d2['loopStart']=1.7,_0x2476d2[_0x1d83bb(0x2f1)]=0x2;const _0x4e686a=audioCtx[_0x1d83bb(0x338)]();_0x4e686a[_0x1d83bb(0x21b)][_0x1d83bb(0x1f7)]=0.5,_0x2476d2[_0x1d83bb(0x1ba)](_0x4e686a),_0x4e686a[_0x1d83bb(0x1ba)](audioCtx[_0x1d83bb(0x1e8)]),_0x2476d2[_0x1d83bb(0x341)](0x0),currentHoldSource=_0x2476d2;}function stopHoldSound(){const _0x41bd28=a0_0x32457d;if(currentHoldSource){try{currentHoldSource[_0x41bd28(0x1fa)]();}catch(_0xcd98d6){}currentHoldSource=null;}}const avatars={'master':'<img\x20src=\x22master.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Mestre\x22>','monster':a0_0x32457d(0x2dd),'boss':a0_0x32457d(0x2b1),'familiar':a0_0x32457d(0x24c),'humanf':a0_0x32457d(0x268),'humanm':a0_0x32457d(0x320),'bhumanm':a0_0x32457d(0x1c6),'bhumanf':a0_0x32457d(0x1d4),'dragonbornf':'<img\x20src=\x22dragonbornf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracona\x22>','dragonbornm':a0_0x32457d(0x2f8),'elfdrowf':a0_0x32457d(0x281),'elfdrowm':'<img\x20src=\x22elfdrowm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20M\x22>','elfhighf':a0_0x32457d(0x225),'elfhighm':a0_0x32457d(0x30c),'elfwoodf':a0_0x32457d(0x1cc),'elfwoodm':a0_0x32457d(0x22b),'gnomef':'<img\x20src=\x22gnomef.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnoma\x22>','gnomem':a0_0x32457d(0x1bd),'tieflingf':a0_0x32457d(0x31c),'tieflingm':a0_0x32457d(0x21f),'halfelff':'<img\x20src=\x22halfelff.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meia\x20Elfa\x22>','halfelfm':a0_0x32457d(0x2de),'halforcf':a0_0x32457d(0x241),'halforcm':a0_0x32457d(0x1c2),'aesimarm':a0_0x32457d(0x246),'aesimarf':a0_0x32457d(0x2f9),'goliathm':'<img\x20src=\x22goliathm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20M\x22>','goliathf':a0_0x32457d(0x286)},diceConfigs={0x4:{'color':0xef5350},0x6:{'color':0xffca28},0x8:{'color':0x66bb6a},0xa:{'color':0x42a5f5},0x64:{'color':0x42a5f5},0xc:{'color':0xab47bc},0x14:{'color':0xffffff}},diceTypes=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14],diceLayout=[0x4,0x6,0x8,[0xa,0x64],0xc,0x14];let campaign={'name':'Aventura','characters':[],'globalLog':[]},activeCharIndex=0x0,selectedAvatarKey=a0_0x32457d(0x2ac),diceObjects=[],magicEffects=[],hasCritHappened=![],currentSpecialSound=null,world,scene,camera,renderer,isRolling=![],pressTimer=null,sparkleTexture=null,walls={'left':null,'right':null,'top':null,'bottom':null},isGameRunning=![],clock=new THREE[(a0_0x32457d(0x1ed))](),rollMode=a0_0x32457d(0x237),lastCollisionTime=0x0,matDice,matGround,chargeAnimId=null,lastFrameTime=0x0,pressPower=0x0,isPressing=![],currentHoldSource=null;document[a0_0x32457d(0x31d)]('DOMContentLoaded',()=>{const _0x145b90=a0_0x32457d;try{loadData();}catch(_0x4704ee){console[_0x145b90(0x2d8)](_0x145b90(0x27a),_0x4704ee),localStorage['clear']();}renderDiceButtons(),renderAvatarSelection(),setupEventListeners(),setupColorPicker(),setupModPicker();try{initPhysicsAndGraphics(),animate();}catch(_0x1af650){console['error'](_0x145b90(0x2e8),_0x1af650);}});function saveData(){const _0x36a855=a0_0x32457d;try{const _0x191ec6=document[_0x36a855(0x303)](_0x36a855(0x2fa));_0x191ec6&&campaign['characters'][activeCharIndex]&&(campaign[_0x36a855(0x319)][activeCharIndex][_0x36a855(0x20c)]=parseInt(_0x191ec6[_0x36a855(0x1f7)])||0x0);const _0x5ee5e5={'campaign':campaign,'activeCharIndex':activeCharIndex,'isGameRunning':isGameRunning};localStorage['setItem'](_0x36a855(0x214),JSON[_0x36a855(0x32d)](_0x5ee5e5));}catch(_0x45da6c){console['error'](_0x36a855(0x22a),_0x45da6c);}}function loadData(){const _0x28da01=a0_0x32457d,_0x17b391=localStorage[_0x28da01(0x256)](_0x28da01(0x214));if(_0x17b391)try{const _0x2fa509=JSON[_0x28da01(0x1c3)](_0x17b391);if(_0x2fa509[_0x28da01(0x2e5)]){campaign=_0x2fa509[_0x28da01(0x2e5)];if(!Array['isArray'](campaign[_0x28da01(0x319)]))campaign[_0x28da01(0x319)]=[];if(!Array[_0x28da01(0x2da)](campaign[_0x28da01(0x34b)]))campaign['globalLog']=[];activeCharIndex=_0x2fa509[_0x28da01(0x228)]||0x0,isGameRunning=_0x2fa509[_0x28da01(0x2af)]||![];if(isGameRunning&&campaign[_0x28da01(0x319)][_0x28da01(0x224)]>0x0){document['getElementById'](_0x28da01(0x278))[_0x28da01(0x2bb)][_0x28da01(0x308)]=_0x28da01(0x318),document[_0x28da01(0x303)](_0x28da01(0x300))[_0x28da01(0x2bb)]['display']=_0x28da01(0x234),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs();const _0x69c01e=activeCharIndex;activeCharIndex=-0x1,setTimeout(()=>switchTab(_0x69c01e),0x64);}else document['getElementById'](_0x28da01(0x278))[_0x28da01(0x2bb)][_0x28da01(0x308)]='flex',updateModalCharList();}}catch(_0x28b783){console[_0x28da01(0x2d8)](_0x28da01(0x1f6),_0x28b783);}}function updateModalCharList(){const _0x29639c=a0_0x32457d,_0x2f49cb=document['getElementById'](_0x29639c(0x1ff));if(!_0x2f49cb)return;_0x2f49cb['innerHTML']='';if(!campaign['characters'])campaign[_0x29639c(0x319)]=[];campaign['characters']['forEach'](_0x44395e=>{const _0x3f859d=_0x29639c,_0x5686aa=document[_0x3f859d(0x2eb)]('li');_0x5686aa[_0x3f859d(0x1f8)]='<div\x20class=\x22preview-avatar\x22\x20style=\x22border-color:'+_0x44395e[_0x3f859d(0x2bd)]+'\x22>'+_0x44395e[_0x3f859d(0x23a)]+_0x3f859d(0x265)+_0x44395e[_0x3f859d(0x2bd)]+_0x3f859d(0x1fb)+_0x44395e[_0x3f859d(0x273)]+_0x3f859d(0x29f),_0x2f49cb[_0x3f859d(0x2a6)](_0x5686aa);});const _0x53dd66=document[_0x29639c(0x303)](_0x29639c(0x216));if(_0x53dd66)_0x53dd66[_0x29639c(0x336)]=campaign[_0x29639c(0x319)]['length']===0x0;}function renderDiceButtons(){const _0x42eb8c=a0_0x32457d,_0x2015ab=document[_0x42eb8c(0x303)](_0x42eb8c(0x337));if(!_0x2015ab)return;_0x2015ab['innerHTML']='',diceTypes['forEach'](_0x5aad61=>{const _0x16fa4c=_0x42eb8c;if(Array[_0x16fa4c(0x2da)](_0x5aad61)){const _0x573d9f=document[_0x16fa4c(0x2eb)]('div');_0x573d9f[_0x16fa4c(0x33e)]=_0x16fa4c(0x275),_0x5aad61['forEach'](_0x5d7e0b=>{const _0x5c0473=_0x16fa4c,_0x1fd604=createDiceBtn(_0x5d7e0b);_0x573d9f[_0x5c0473(0x2a6)](_0x1fd604);}),_0x2015ab[_0x16fa4c(0x2a6)](_0x573d9f);}else _0x2015ab[_0x16fa4c(0x2a6)](createDiceBtn(_0x5aad61));});}function createDiceBtn(_0x391a92){const _0x5d8c96=a0_0x32457d,_0x2f79e2=document[_0x5d8c96(0x2eb)](_0x5d8c96(0x253));_0x2f79e2['className']=_0x5d8c96(0x20b),_0x2f79e2['id']=_0x5d8c96(0x230)+_0x391a92;const _0x4f6bb0=_0x391a92===0x64?'D%':'D'+_0x391a92;return _0x2f79e2['innerHTML']=_0x4f6bb0+_0x5d8c96(0x239)+_0x391a92+_0x5d8c96(0x1f5),_0x2f79e2[_0x5d8c96(0x26b)]=()=>addDice(_0x391a92),_0x2f79e2;}function renderAvatarSelection(){const _0x5a3ca0=a0_0x32457d,_0x421209=document['getElementById'](_0x5a3ca0(0x208));if(!_0x421209)return;_0x421209[_0x5a3ca0(0x1f8)]='',Object['keys'](avatars)[_0x5a3ca0(0x31a)](_0x189f15=>{const _0x35b367=_0x5a3ca0,_0x24025c=document[_0x35b367(0x2eb)](_0x35b367(0x1fd));_0x24025c['className']=_0x35b367(0x328)+(_0x189f15===selectedAvatarKey?_0x35b367(0x220):''),_0x24025c['innerHTML']=avatars[_0x189f15],_0x24025c[_0x35b367(0x26b)]=()=>{const _0x2e0452=_0x35b367;document['querySelectorAll'](_0x2e0452(0x1fc))[_0x2e0452(0x31a)](_0x2e6db4=>_0x2e6db4[_0x2e0452(0x26e)][_0x2e0452(0x297)]('selected')),_0x24025c[_0x2e0452(0x26e)][_0x2e0452(0x249)](_0x2e0452(0x220)),selectedAvatarKey=_0x189f15;},_0x421209[_0x35b367(0x2a6)](_0x24025c);});}function setupColorPicker(){const _0x5f0431=a0_0x32457d,_0x8103f4=document[_0x5f0431(0x303)](_0x5f0431(0x1de)),_0x114428=document['querySelector'](_0x5f0431(0x33d));if(_0x8103f4&&_0x114428){const _0x5d3478=()=>{const _0x11e409=_0x5f0431;_0x114428[_0x11e409(0x2bb)][_0x11e409(0x20f)]=_0x8103f4[_0x11e409(0x1f7)];};_0x8103f4[_0x5f0431(0x31d)](_0x5f0431(0x283),_0x5d3478),_0x5d3478();}}function updateDiceButtonUI(_0x722833,_0x3554bd,_0xdc0e13){const _0x92c2a6=a0_0x32457d,_0x4f0135=document[_0x92c2a6(0x303)](_0x92c2a6(0x2b2)+_0x722833),_0x1194e9=document[_0x92c2a6(0x303)](_0x92c2a6(0x230)+_0x722833);if(!_0x4f0135||!_0x1194e9)return;if(_0xdc0e13){_0x4f0135[_0x92c2a6(0x1b7)]='0',_0x4f0135[_0x92c2a6(0x2bb)][_0x92c2a6(0x308)]=_0x92c2a6(0x318),_0x1194e9['classList']['remove']('selected');return;}let _0xcf87c=parseInt(_0x4f0135[_0x92c2a6(0x1b7)])||0x0;_0xcf87c+=_0x3554bd,_0x4f0135[_0x92c2a6(0x1b7)]=_0xcf87c,_0x4f0135[_0x92c2a6(0x2bb)][_0x92c2a6(0x308)]=_0xcf87c>0x0?_0x92c2a6(0x234):_0x92c2a6(0x318);if(_0xcf87c>0x0)_0x1194e9[_0x92c2a6(0x26e)][_0x92c2a6(0x249)](_0x92c2a6(0x220));}function updateResultDisplay(_0x7bf612,_0x374669){const _0x33827f=a0_0x32457d,_0x55eaba=document['getElementById']('resultFormula'),_0x185520=document[_0x33827f(0x303)](_0x33827f(0x33b));if(_0x55eaba)_0x55eaba['innerHTML']=_0x7bf612;if(_0x185520){_0x185520[_0x33827f(0x1b7)]=_0x374669;const _0x32f209=campaign[_0x33827f(0x319)][activeCharIndex];if(_0x32f209)_0x185520[_0x33827f(0x2bb)][_0x33827f(0x2bd)]=_0x33827f(0x2ca);}}function openAddCharModal(){const _0x51c540=a0_0x32457d,_0xed1f37=document[_0x51c540(0x303)](_0x51c540(0x278)),_0x353459=document['getElementById']('startCampaignBtn');updateModalCharList(),isGameRunning?(_0x353459[_0x51c540(0x1b7)]=_0x51c540(0x355),_0x353459[_0x51c540(0x336)]=![]):(_0x353459['innerText']='INICIAR\x20JORNADA',_0x353459['disabled']=campaign['characters']['length']===0x0),_0xed1f37[_0x51c540(0x2bb)][_0x51c540(0x308)]=_0x51c540(0x234),playSound(_0x51c540(0x25b));}function addCharacterPreview(){const _0x46a3f0=a0_0x32457d;try{const _0x516ca4=document[_0x46a3f0(0x303)]('charNameInput'),_0x3bff4a=document[_0x46a3f0(0x303)]('charColorInput');if(!_0x516ca4||!_0x3bff4a)return;const _0x34845b=_0x516ca4[_0x46a3f0(0x1f7)][_0x46a3f0(0x2d1)](),_0x135a53=_0x3bff4a['value'];if(!_0x34845b)return;const _0x39e020={'name':_0x34845b,'color':_0x135a53,'avatar':avatars[selectedAvatarKey]||avatars[_0x46a3f0(0x2ac)],'turnCount':0x1,'history':[],'modifier':0x0,'rollMode':_0x46a3f0(0x237)};if(!campaign[_0x46a3f0(0x319)])campaign['characters']=[];campaign[_0x46a3f0(0x319)][_0x46a3f0(0x339)](_0x39e020),saveData(),updateModalCharList(),_0x516ca4[_0x46a3f0(0x1f7)]='',selectedAvatarKey=_0x46a3f0(0x2ac),renderAvatarSelection(),playSound(_0x46a3f0(0x25b));}catch(_0x17161d){console[_0x46a3f0(0x2d8)](_0x46a3f0(0x1b9),_0x17161d),alert(_0x46a3f0(0x23f));}}function startCampaign(){const _0x5a0b0c=a0_0x32457d;campaign['name']=document[_0x5a0b0c(0x303)](_0x5a0b0c(0x347))[_0x5a0b0c(0x1f7)]||_0x5a0b0c(0x349),isGameRunning=!![],saveData(),document[_0x5a0b0c(0x303)](_0x5a0b0c(0x278))[_0x5a0b0c(0x2bb)]['display']=_0x5a0b0c(0x318),document['getElementById'](_0x5a0b0c(0x300))[_0x5a0b0c(0x2bb)][_0x5a0b0c(0x308)]=_0x5a0b0c(0x234),setTimeout(()=>refreshCanvasSize(),0x32),renderTabs(),activeCharIndex=-0x1,setTimeout(()=>{const _0x301f85=_0x5a0b0c;if(campaign['characters'][_0x301f85(0x224)]>0x0)switchTab(0x0);},0x64);}function renderTabs(){const _0x57948e=a0_0x32457d,_0x3a6c05=document[_0x57948e(0x303)](_0x57948e(0x31e));if(!_0x3a6c05)return;_0x3a6c05[_0x57948e(0x1f8)]='';if(!campaign['characters'])campaign['characters']=[];campaign[_0x57948e(0x319)][_0x57948e(0x31a)]((_0xf1bfee,_0x501d2f)=>{const _0x15af53=_0x57948e,_0x1526bc=document[_0x15af53(0x2eb)]('div');_0x1526bc[_0x15af53(0x33e)]=_0x15af53(0x24e)+(_0x501d2f===activeCharIndex?_0x15af53(0x1ea):''),_0x1526bc[_0x15af53(0x1f8)]=_0x15af53(0x2d3)+_0xf1bfee['avatar']+_0x15af53(0x1ef)+_0xf1bfee[_0x15af53(0x273)],_0x1526bc[_0x15af53(0x2bb)][_0x15af53(0x245)]=_0xf1bfee[_0x15af53(0x2bd)];if(_0x501d2f===activeCharIndex){_0x1526bc[_0x15af53(0x2bb)][_0x15af53(0x2bd)]=_0xf1bfee[_0x15af53(0x2bd)];const _0x376b6a=_0x1526bc[_0x15af53(0x20a)](_0x15af53(0x1d6));if(_0x376b6a)_0x376b6a[_0x15af53(0x2bb)][_0x15af53(0x331)]=_0xf1bfee[_0x15af53(0x2bd)];}_0x1526bc[_0x15af53(0x26b)]=()=>switchTab(_0x501d2f),_0x1526bc[_0x15af53(0x31f)]=!![],_0x1526bc[_0x15af53(0x1c9)]=_0x46f90b=>{const _0x3c8a24=_0x15af53;_0x46f90b[_0x3c8a24(0x1b4)]['setData']('text/plain',_0x501d2f),_0x1526bc[_0x3c8a24(0x2bb)][_0x3c8a24(0x257)]=_0x3c8a24(0x235);},_0x1526bc[_0x15af53(0x22c)]=()=>{_0x1526bc['style']['opacity']='1';},_0x1526bc[_0x15af53(0x305)]=_0x5e138d=>{const _0x5aec3d=_0x15af53;_0x5e138d[_0x5aec3d(0x30d)]();},_0x1526bc['ondrop']=_0x49a82c=>{const _0x4d6ce1=_0x15af53;_0x49a82c[_0x4d6ce1(0x30d)]();const _0x51bba0=parseInt(_0x49a82c[_0x4d6ce1(0x1b4)]['getData']('text/plain')),_0x52c8e0=_0x501d2f;if(_0x51bba0!==_0x52c8e0){const _0x358226=campaign[_0x4d6ce1(0x319)][_0x4d6ce1(0x291)](_0x51bba0,0x1)[0x0];campaign[_0x4d6ce1(0x319)]['splice'](_0x52c8e0,0x0,_0x358226);if(activeCharIndex===_0x51bba0)activeCharIndex=_0x52c8e0;else{if(activeCharIndex>_0x51bba0&&activeCharIndex<=_0x52c8e0)activeCharIndex--;else{if(activeCharIndex<_0x51bba0&&activeCharIndex>=_0x52c8e0)activeCharIndex++;}}saveData(),renderTabs();}},_0x3a6c05[_0x15af53(0x2a6)](_0x1526bc);});const _0x4c5576=document['createElement']('button');_0x4c5576['className']=_0x57948e(0x1d1),_0x4c5576['innerText']='+',_0x4c5576[_0x57948e(0x26b)]=openAddCharModal,_0x3a6c05[_0x57948e(0x2a6)](_0x4c5576);}function switchTab(_0x1141f9){const _0x3f1694=a0_0x32457d;if(_0x1141f9<0x0||_0x1141f9>=campaign[_0x3f1694(0x319)]['length'])return;activeCharIndex=_0x1141f9;const _0x32aa1f=campaign[_0x3f1694(0x319)][activeCharIndex],_0x49ef6e=_0x32aa1f[_0x3f1694(0x2bd)]||_0x3f1694(0x348);document[_0x3f1694(0x1c7)][_0x3f1694(0x2bb)]['setProperty']('--char-color',_0x49ef6e);const _0xb7a7ef=document[_0x3f1694(0x303)](_0x3f1694(0x2a3));if(_0xb7a7ef){const _0x19ce40=_0x32aa1f[_0x3f1694(0x23a)]||avatars[_0x3f1694(0x2ac)];_0xb7a7ef['innerHTML']=_0x19ce40,_0xb7a7ef[_0x3f1694(0x2bb)][_0x3f1694(0x245)]=_0x49ef6e;const _0x418bd8=_0xb7a7ef[_0x3f1694(0x20a)]('svg');if(_0x418bd8)_0x418bd8[_0x3f1694(0x2bb)][_0x3f1694(0x331)]=_0x49ef6e;}const _0x522cad=document[_0x3f1694(0x303)]('resultTotal');if(_0x522cad)_0x522cad[_0x3f1694(0x2bb)][_0x3f1694(0x2bd)]=_0x49ef6e;clearDice();const _0x1de396=document[_0x3f1694(0x303)](_0x3f1694(0x2fa)),_0x2c02d5=document[_0x3f1694(0x303)](_0x3f1694(0x32b));if(_0x1de396)_0x1de396[_0x3f1694(0x1f7)]=_0x32aa1f[_0x3f1694(0x20c)]||0x0;if(_0x2c02d5)_0x2c02d5['innerText']=(_0x32aa1f['modifier']>0x0?'+':'')+(_0x32aa1f[_0x3f1694(0x20c)]||0x0);setRollMode(_0x32aa1f['rollMode']||_0x3f1694(0x237)),renderTabs(),updateHistoryUI(),saveData();}function toggleSettings(){const _0x8e85a3=a0_0x32457d,_0x2fdf4d=document['getElementById'](_0x8e85a3(0x32c));_0x2fdf4d[_0x8e85a3(0x2bb)][_0x8e85a3(0x308)]=_0x2fdf4d[_0x8e85a3(0x2bb)]['display']===_0x8e85a3(0x318)?_0x8e85a3(0x234):'none',playSound(_0x8e85a3(0x25b));}function resetJourney(){const _0xba90d6=a0_0x32457d;confirm(_0xba90d6(0x250))&&(localStorage[_0xba90d6(0x1c5)](),campaign={'name':'Aventura','characters':[],'globalLog':[]},isGameRunning=![],location[_0xba90d6(0x210)]());}function resetCampaignHistory(){const _0x4f46d2=a0_0x32457d;confirm(_0x4f46d2(0x2d2))&&(campaign[_0x4f46d2(0x319)]['forEach'](_0x4315b8=>{_0x4315b8['history']=[],_0x4315b8['turnCount']=0x1;}),campaign[_0x4f46d2(0x34b)]=[],updateHistoryUI(),toggleSettings(),saveData(),alert('Histórico\x20limpo!')),playSound(_0x4f46d2(0x25b));}function initPhysicsAndGraphics(){const _0x63e529=a0_0x32457d,_0x485571=document[_0x63e529(0x303)](_0x63e529(0x264));if(!_0x485571)return;scene=new THREE['Scene']();const _0x45489f=new THREE['AmbientLight'](0xffffff,0.5);scene[_0x63e529(0x249)](_0x45489f);const _0x5874c3=new THREE[(_0x63e529(0x2df))](0xffffff,0.8);_0x5874c3[_0x63e529(0x2c3)][_0x63e529(0x334)](0x5,0x14,0x5),_0x5874c3[_0x63e529(0x269)]=!![],scene['add'](_0x5874c3);const _0xe96098=new THREE[(_0x63e529(0x2f3))](0xaaccff,0.3);_0xe96098[_0x63e529(0x2c3)][_0x63e529(0x334)](-0xa,0x5,-0xa),scene['add'](_0xe96098),camera=new THREE[(_0x63e529(0x29d))](0x2d,0x1,0.1,0x64),camera['position'][_0x63e529(0x334)](0x0,0x12,0x0),camera[_0x63e529(0x1be)](0x0,0x0,0x0),renderer=new THREE[(_0x63e529(0x32f))]({'alpha':!![],'antialias':!![]}),renderer[_0x63e529(0x21d)]['enabled']=!![],renderer[_0x63e529(0x21d)][_0x63e529(0x2a2)]=THREE[_0x63e529(0x277)],_0x485571[_0x63e529(0x2a6)](renderer[_0x63e529(0x344)]),sparkleTexture=createSparkleTexture(),world=new CANNON[(_0x63e529(0x229))](),world[_0x63e529(0x2e4)]['set'](0x0,-0x28,0x0),world[_0x63e529(0x217)]=new CANNON[(_0x63e529(0x323))](),world[_0x63e529(0x1cd)][_0x63e529(0x232)]=0x14,matGround=new CANNON[(_0x63e529(0x2d5))](),matDice=new CANNON[(_0x63e529(0x2d5))](),world['addContactMaterial'](new CANNON['ContactMaterial'](matGround,matDice,{'friction':0.2,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3})),world[_0x63e529(0x262)](new CANNON['ContactMaterial'](matDice,matDice,{'friction':0.1,'restitution':0.3,'contactEquationStiffness':0x989680,'contactEquationRelaxation':0x3}));const _0x156bd9=new CANNON[(_0x63e529(0x270))]({'mass':0x0,'shape':new CANNON[(_0x63e529(0x2c7))](),'material':matGround});_0x156bd9[_0x63e529(0x2ee)][_0x63e529(0x1d9)](new CANNON['Vec3'](0x1,0x0,0x0),-Math['PI']/0x2),world[_0x63e529(0x1fe)](_0x156bd9),walls[_0x63e529(0x2cd)]=createWallBody(),walls[_0x63e529(0x2f6)]=createWallBody(),walls[_0x63e529(0x330)]=createWallBody(),walls['bottom']=createWallBody();}function createWallBody(){const _0x56b2f1=a0_0x32457d,_0x442b7b=new CANNON[(_0x56b2f1(0x270))]({'mass':0x0,'shape':new CANNON[(_0x56b2f1(0x1d5))](new CANNON[(_0x56b2f1(0x32a))](0x1,0xa,0x14))});return world[_0x56b2f1(0x1fe)](_0x442b7b),_0x442b7b;}function updateWallPositions(){const _0x3b6ed2=a0_0x32457d;if(!camera||!renderer)return;const _0x7c95e3=camera[_0x3b6ed2(0x2c3)]['y'],_0x549e9d=THREE[_0x3b6ed2(0x2b9)]['degToRad'](camera[_0x3b6ed2(0x353)]),_0x2d3f0c=0x2*Math[_0x3b6ed2(0x1b5)](_0x549e9d/0x2)*_0x7c95e3,_0x1aea5e=_0x2d3f0c*camera['aspect'],_0x335bec=0.9,_0x760442=_0x1aea5e/0x2*_0x335bec,_0x57d45a=_0x2d3f0c/0x2*_0x335bec;walls[_0x3b6ed2(0x2cd)][_0x3b6ed2(0x2c3)][_0x3b6ed2(0x334)](-_0x760442-0x1,0x0,0x0),walls[_0x3b6ed2(0x2cd)][_0x3b6ed2(0x33c)][0x0]=new CANNON['Box'](new CANNON[(_0x3b6ed2(0x32a))](0x1,0xa,_0x57d45a*0x2)),walls[_0x3b6ed2(0x2f6)][_0x3b6ed2(0x2c3)][_0x3b6ed2(0x334)](_0x760442+0x1,0x0,0x0),walls[_0x3b6ed2(0x2f6)][_0x3b6ed2(0x33c)][0x0]=new CANNON[(_0x3b6ed2(0x1d5))](new CANNON[(_0x3b6ed2(0x32a))](0x1,0xa,_0x57d45a*0x2)),walls[_0x3b6ed2(0x330)][_0x3b6ed2(0x2c3)][_0x3b6ed2(0x334)](0x0,0x0,-_0x57d45a-0x1),walls[_0x3b6ed2(0x330)][_0x3b6ed2(0x33c)][0x0]=new CANNON[(_0x3b6ed2(0x1d5))](new CANNON['Vec3'](_0x760442*0x2,0xa,0x1)),walls[_0x3b6ed2(0x2fe)][_0x3b6ed2(0x2c3)][_0x3b6ed2(0x334)](0x0,0x0,_0x57d45a+0x1),walls[_0x3b6ed2(0x2fe)][_0x3b6ed2(0x33c)][0x0]=new CANNON[(_0x3b6ed2(0x1d5))](new CANNON[(_0x3b6ed2(0x32a))](_0x760442*0x2,0xa,0x1));}function refreshCanvasSize(){const _0x499df6=a0_0x32457d,_0x166c43=document['getElementById'](_0x499df6(0x264));if(_0x166c43&&camera&&renderer){const _0x2447ae=_0x166c43['clientWidth'],_0x5e25e3=_0x166c43['clientHeight'];renderer[_0x499df6(0x1e4)](_0x2447ae,_0x5e25e3),renderer[_0x499df6(0x2ed)](Math[_0x499df6(0x28e)](window[_0x499df6(0x23c)],1.5)),camera[_0x499df6(0x207)]=_0x2447ae/_0x5e25e3,camera[_0x499df6(0x358)]();if(typeof updateWallPositions==='function')updateWallPositions();}}function createDiceGeometry(_0xfb03bf,_0x40bea2){const _0x3f6283=a0_0x32457d,_0x107161=_0x40bea2;let _0x6845ab,_0x4c9d0d,_0x5caa45=0.5;switch(_0xfb03bf){case 0x4:_0x6845ab=new THREE[(_0x3f6283(0x26c))](_0x107161),_0x4c9d0d=new CANNON[(_0x3f6283(0x1d5))](new CANNON[(_0x3f6283(0x32a))](_0x107161*0.75,_0x107161*0.75,_0x107161*0.75));break;case 0x6:_0x6845ab=new THREE[(_0x3f6283(0x1df))](_0x107161,_0x107161,_0x107161),_0x4c9d0d=new CANNON['Box'](new CANNON[(_0x3f6283(0x32a))](_0x107161/0x2,_0x107161/0x2,_0x107161/0x2));break;case 0x8:_0x6845ab=new THREE['OctahedronGeometry'](_0x107161),_0x4c9d0d=new CANNON['Box'](new CANNON[(_0x3f6283(0x32a))](_0x107161*0.7,_0x107161*0.7,_0x107161*0.7));break;case 0xa:case 0x64:_0x6845ab=new THREE[(_0x3f6283(0x292))](_0x107161,0x5,0x2),_0x6845ab[_0x3f6283(0x2cf)](0x1,1.1,0x1),_0x4c9d0d=new CANNON[(_0x3f6283(0x209))](0.1,_0x107161*0x1,_0x107161*1.1,0x5),_0x5caa45=0.4;break;case 0xc:_0x6845ab=new THREE['DodecahedronGeometry'](_0x107161),_0x4c9d0d=new CANNON[(_0x3f6283(0x1d5))](new CANNON['Vec3'](_0x107161*0.85,_0x107161*0.85,_0x107161*0.85)),_0x5caa45=0.6;break;case 0x14:_0x6845ab=new THREE[(_0x3f6283(0x26f))](_0x107161),_0x4c9d0d=new CANNON[(_0x3f6283(0x1d5))](new CANNON[(_0x3f6283(0x32a))](_0x107161*0.8,_0x107161*0.8,_0x107161*0.8)),_0x5caa45=0.6;break;default:_0x6845ab=new THREE[(_0x3f6283(0x1df))](_0x107161,_0x107161,_0x107161),_0x4c9d0d=new CANNON['Box'](new CANNON[(_0x3f6283(0x32a))](_0x107161/0x2,_0x107161/0x2,_0x107161/0x2));}return{'geometry':_0x6845ab,'shape':_0x4c9d0d,'angularDamping':_0x5caa45};}function addDice(_0x2fd230){const _0x3cbc11=a0_0x32457d;if(!scene)return;const _0x2f4130=campaign[_0x3cbc11(0x319)][activeCharIndex],_0x6b661b=_0x2f4130?_0x2f4130[_0x3cbc11(0x2bd)]:diceConfigs[_0x2fd230]['color'];try{const {geometry:_0xf41152,shape:_0x52098e,angularDamping:_0x81c40c}=createDiceGeometry(_0x2fd230,1.8),_0x277f78=new THREE['MeshPhysicalMaterial']({'color':_0x6b661b,'metalness':0.1,'roughness':0.2,'clearcoat':0x1,'flatShading':!![]}),_0x1f3e97=new THREE[(_0x3cbc11(0x2c5))](_0xf41152,_0x277f78);_0x1f3e97[_0x3cbc11(0x269)]=!![],scene[_0x3cbc11(0x249)](_0x1f3e97);const _0x11ee75=new CANNON[(_0x3cbc11(0x270))]({'mass':0x5,'shape':_0x52098e,'linearDamping':0.5,'angularDamping':_0x81c40c,'material':matDice});_0x11ee75[_0x3cbc11(0x2c3)][_0x3cbc11(0x334)]((Math[_0x3cbc11(0x335)]()-0.5)*0x8,0xe,(Math[_0x3cbc11(0x335)]()-0.5)*0x8),_0x11ee75[_0x3cbc11(0x2ee)]['set'](Math[_0x3cbc11(0x335)](),Math[_0x3cbc11(0x335)](),Math['random'](),Math[_0x3cbc11(0x335)]()),_0x11ee75[_0x3cbc11(0x2d0)][_0x3cbc11(0x334)](Math[_0x3cbc11(0x335)]()*0xa,Math[_0x3cbc11(0x335)]()*0xa,Math['random']()*0xa),_0x11ee75[_0x3cbc11(0x31d)](_0x3cbc11(0x29a),handleDiceCollision),world[_0x3cbc11(0x1fe)](_0x11ee75),diceObjects[_0x3cbc11(0x339)]({'mesh':_0x1f3e97,'body':_0x11ee75,'type':_0x2fd230,'stopped':![]}),updateDiceButtonUI(_0x2fd230,0x1),clearMagicEffects();}catch(_0x5cc07a){console['error']('Erro\x20ao\x20gerar\x20dado:',_0x5cc07a);}}function createSparkleTexture(){const _0x17923d=a0_0x32457d,_0x171243=document['createElement'](_0x17923d(0x306));_0x171243['width']=0x20,_0x171243[_0x17923d(0x294)]=0x20;const _0x3e08f0=_0x171243[_0x17923d(0x272)]('2d'),_0x218c1d=_0x3e08f0[_0x17923d(0x2c8)](0x10,0x10,0x0,0x10,0x10,0x10);return _0x218c1d['addColorStop'](0x0,'rgba(255,255,255,1)'),_0x218c1d['addColorStop'](0x1,_0x17923d(0x2ad)),_0x3e08f0['fillStyle']=_0x218c1d,_0x3e08f0['fillRect'](0x0,0x0,0x20,0x20),new THREE[(_0x17923d(0x25d))](_0x171243);}function createNumberLabel(_0x508e1e,_0x44d2b7){const _0x1d9359=a0_0x32457d,_0x511595=document[_0x1d9359(0x2eb)](_0x1d9359(0x306)),_0xe7b3fd=0x100;_0x511595[_0x1d9359(0x247)]=_0xe7b3fd,_0x511595[_0x1d9359(0x294)]=_0xe7b3fd;const _0x1eaf7b=_0x511595['getContext']('2d'),_0xbca759=parseInt(_0x44d2b7[_0x1d9359(0x22e)](0x1,0x3),0x10),_0x75c6d0=parseInt(_0x44d2b7[_0x1d9359(0x22e)](0x3,0x5),0x10),_0x423fa4=parseInt(_0x44d2b7[_0x1d9359(0x22e)](0x5,0x7),0x10),_0x5a9938=_0x1eaf7b[_0x1d9359(0x2c8)](_0xe7b3fd/0x2,_0xe7b3fd/0x2,0x14,_0xe7b3fd/0x2,_0xe7b3fd/0x2,0x6e);_0x5a9938[_0x1d9359(0x2aa)](0x0,_0x1d9359(0x2f5)+_0xbca759+','+_0x75c6d0+','+_0x423fa4+_0x1d9359(0x321)),_0x5a9938[_0x1d9359(0x2aa)](0x1,_0x1d9359(0x2f5)+_0xbca759+','+_0x75c6d0+','+_0x423fa4+_0x1d9359(0x25f)),_0x1eaf7b[_0x1d9359(0x301)]=_0x5a9938,_0x1eaf7b['fillRect'](0x0,0x0,_0xe7b3fd,_0xe7b3fd),_0x1eaf7b[_0x1d9359(0x34c)]=_0x1d9359(0x354),_0x1eaf7b[_0x1d9359(0x346)]=_0x1d9359(0x284),_0x1eaf7b[_0x1d9359(0x20d)]=_0x1d9359(0x311),_0x1eaf7b[_0x1d9359(0x2db)]='rgba(0,0,0,0.8)',_0x1eaf7b[_0x1d9359(0x200)]=0xa,_0x1eaf7b['fillStyle']=_0x1d9359(0x2ca),_0x1eaf7b[_0x1d9359(0x1ee)](_0x508e1e,_0xe7b3fd/0x2,_0xe7b3fd/0x2);const _0x3163d3=new THREE[(_0x1d9359(0x231))]({'map':new THREE['CanvasTexture'](_0x511595),'transparent':!![],'depthTest':![]}),_0x271249=new THREE['Sprite'](_0x3163d3);return _0x271249[_0x1d9359(0x2cf)][_0x1d9359(0x334)](0.1,0.1,0x1),_0x271249[_0x1d9359(0x329)]=0x3e7,_0x271249;}function showFloatingResult(_0x6b0c1e,_0x16427a){const _0x7f491b=a0_0x32457d,_0x4f23b8=campaign[_0x7f491b(0x319)][activeCharIndex],_0x1a88ed=_0x4f23b8?_0x4f23b8[_0x7f491b(0x2bd)]:'#ffffff',_0x596db4=createNumberLabel(_0x16427a['toString'](),_0x1a88ed);_0x596db4[_0x7f491b(0x2c3)]['copy'](_0x6b0c1e['mesh'][_0x7f491b(0x2c3)]),_0x596db4[_0x7f491b(0x2c3)]['y']+=0.8,scene[_0x7f491b(0x249)](_0x596db4),magicEffects['push']({'mainSprite':_0x596db4,'life':0x0,'maxLife':0x64,'color':_0x1a88ed,'particles':[]});if(_0x6b0c1e[_0x7f491b(0x2a2)]===0x14){if(_0x16427a===0x14)hasCritHappened=!![],playSound(_0x7f491b(0x219)),document[_0x7f491b(0x290)][_0x7f491b(0x26e)][_0x7f491b(0x297)](_0x7f491b(0x310)),document[_0x7f491b(0x290)][_0x7f491b(0x26e)][_0x7f491b(0x249)](_0x7f491b(0x332),_0x7f491b(0x206)),setTimeout(()=>{const _0x384b18=_0x7f491b;document[_0x384b18(0x290)][_0x384b18(0x26e)][_0x384b18(0x297)](_0x384b18(0x332),_0x384b18(0x206));},0xfa0);else _0x16427a===0x1&&!hasCritHappened&&(playSound(_0x7f491b(0x1d3)),document[_0x7f491b(0x290)][_0x7f491b(0x26e)][_0x7f491b(0x249)](_0x7f491b(0x310),_0x7f491b(0x206)),setTimeout(()=>{const _0x5bfb62=_0x7f491b;if(!hasCritHappened)document[_0x5bfb62(0x290)][_0x5bfb62(0x26e)]['remove'](_0x5bfb62(0x310),_0x5bfb62(0x206));},0xfa0));}}function clearMagicEffects(){const _0xe872bd=a0_0x32457d;magicEffects[_0xe872bd(0x31a)](_0x5757cc=>{const _0x510b32=_0xe872bd;scene[_0x510b32(0x297)](_0x5757cc['mainSprite']),_0x5757cc[_0x510b32(0x1eb)]['forEach'](_0x7e2da1=>scene[_0x510b32(0x297)](_0x7e2da1[_0x510b32(0x242)]));}),magicEffects=[];}function startCharging(){const _0x81fe06=a0_0x32457d;if(diceObjects[_0x81fe06(0x224)]===0x0||isRolling)return;if(audioCtx[_0x81fe06(0x280)]===_0x81fe06(0x2c4))audioCtx[_0x81fe06(0x2b5)]();playHoldSound(),isPressing=!![],clearMagicEffects(),pressPower=0.5;const _0x59a9b1=document[_0x81fe06(0x303)](_0x81fe06(0x236)),_0x1f4155=document[_0x81fe06(0x303)]('rollBtn');_0x1f4155[_0x81fe06(0x26e)][_0x81fe06(0x249)](_0x81fe06(0x314));if(chargeAnimId)cancelAnimationFrame(chargeAnimId);const _0x1077be=0x514,_0x267ef4=1.1,_0x54ef08=_0x267ef4-0.4;lastFrameTime=performance[_0x81fe06(0x1ca)]();const _0x1cd6ff=_0x570bee=>{const _0x852374=_0x81fe06;if(!isPressing)return;const _0x106599=_0x570bee-lastFrameTime;lastFrameTime=_0x570bee,pressPower+=_0x54ef08/_0x1077be*_0x106599;if(pressPower>=_0x267ef4)pressPower=_0x267ef4;const _0x1a85cd=Math[_0x852374(0x28e)](pressPower/_0x267ef4*0x64,0x64);_0x59a9b1['style'][_0x852374(0x294)]=_0x1a85cd*1.3+'%';const _0x40e130=0x1+_0x1a85cd/0x258;_0x1f4155[_0x852374(0x2bb)][_0x852374(0x263)]='brightness('+_0x40e130+')',_0x1a85cd>=0x64&&_0x1f4155['classList'][_0x852374(0x249)](_0x852374(0x2e2)),pressPower<_0x267ef4&&(chargeAnimId=requestAnimationFrame(_0x1cd6ff));};chargeAnimId=requestAnimationFrame(_0x1cd6ff);}function releaseRoll(_0x5c0bd6){const _0x1de5e2=a0_0x32457d;if(!isPressing)return;if(_0x5c0bd6&&_0x5c0bd6[_0x1de5e2(0x2f0)]&&_0x5c0bd6[_0x1de5e2(0x2a2)]===_0x1de5e2(0x24b))_0x5c0bd6[_0x1de5e2(0x30d)]();isPressing=![];chargeAnimId&&(cancelAnimationFrame(chargeAnimId),chargeAnimId=null);stopHoldSound();const _0x5990e0=document['getElementById'](_0x1de5e2(0x30a)),_0x149562=document[_0x1de5e2(0x303)](_0x1de5e2(0x236));_0x5990e0[_0x1de5e2(0x26e)][_0x1de5e2(0x297)](_0x1de5e2(0x314)),_0x5990e0['classList'][_0x1de5e2(0x297)]('charged'),_0x5990e0[_0x1de5e2(0x2bb)][_0x1de5e2(0x263)]=_0x1de5e2(0x318),_0x5990e0[_0x1de5e2(0x2bb)][_0x1de5e2(0x2ce)](_0x1de5e2(0x223)),_0x149562[_0x1de5e2(0x2bb)][_0x1de5e2(0x294)]='0%',diceObjects['length']>0x0&&!isRolling&&(playSound(_0x1de5e2(0x313)),rollDice(pressPower)),pressPower=0x0;}function rollDice(_0x5b9935){const _0x5d1349=a0_0x32457d;if(diceObjects[_0x5d1349(0x224)]===0x0)return;isRolling=!![],playSound(_0x5d1349(0x2fb)),diceObjects[_0x5d1349(0x31a)](_0x2ae2b5=>{const _0x25396a=_0x5d1349;_0x2ae2b5[_0x25396a(0x23d)]=![],_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x1ce)]['set'](0x0,0x0,0x0),_0x2ae2b5['body']['angularVelocity'][_0x25396a(0x334)](0x0,0x0,0x0),_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x2c3)]['y']=Math[_0x25396a(0x218)](_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x2c3)]['y'],0x5),_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x2c1)]();const _0x663f2a=0xf+0x14*_0x5b9935,_0x495895=0xa+0xa*_0x5b9935,_0x32fa1f=0xf+0x1e*_0x5b9935;_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x1ce)]['set']((Math[_0x25396a(0x335)]()-0.5)*_0x663f2a,_0x495895,(Math[_0x25396a(0x335)]()-0.5)*_0x663f2a),_0x2ae2b5[_0x25396a(0x290)][_0x25396a(0x2d0)][_0x25396a(0x334)]((Math[_0x25396a(0x335)]()-0.5)*_0x32fa1f,(Math['random']()-0.5)*_0x32fa1f,(Math['random']()-0.5)*_0x32fa1f);}),requestAnimationFrame(checkDiceStopped);}function checkDiceStopped(){if(!isRolling)return;let _0x39f426=!![];diceObjects['forEach'](_0x3fac44=>{const _0x562ef2=a0_0x4009;if(_0x3fac44[_0x562ef2(0x290)][_0x562ef2(0x1ce)]['norm']()>0.1||_0x3fac44['body']['angularVelocity'][_0x562ef2(0x2bc)]()>0.1)_0x39f426=![];});if(_0x39f426)setTimeout(calculateResults,0xc8);else requestAnimationFrame(checkDiceStopped);}function calculateResults(){const _0x461b85=a0_0x32457d;let _0x39f135=0x0,_0x3d5cac=[],_0x5d65d6=[],_0x52f206=![],_0x237b4f=![];const _0x5bcaea=document[_0x461b85(0x303)](_0x461b85(0x2fa));let _0xda87fd=parseInt(_0x5bcaea[_0x461b85(0x1f7)])||0x0;const _0x5a05e4=diceObjects[_0x461b85(0x2f4)](_0x38f352=>{const _0x2a7383=_0x461b85,_0x3c7c17=_0x38f352[_0x2a7383(0x2a2)]===0x64?(Math[_0x2a7383(0x1f0)](Math[_0x2a7383(0x335)]()*0xa)+0x1)*0xa:Math[_0x2a7383(0x1f0)](Math[_0x2a7383(0x335)]()*_0x38f352[_0x2a7383(0x2a2)])+0x1,_0x496056={'val':_0x3c7c17,'type':_0x38f352['type'],'obj':_0x38f352,'ignored':![]};if(_0x38f352[_0x2a7383(0x2a2)]===0x14)_0x5d65d6['push'](_0x496056);return _0x496056;});if(rollMode!=='normal'&&_0x5d65d6[_0x461b85(0x224)]>=0x2){rollMode===_0x461b85(0x289)?_0x5d65d6['sort']((_0x390aa9,_0x47cf44)=>_0x47cf44[_0x461b85(0x34f)]-_0x390aa9[_0x461b85(0x34f)]):_0x5d65d6['sort']((_0x1fc352,_0xed5a9)=>_0x1fc352['val']-_0xed5a9[_0x461b85(0x34f)]);for(let _0x3ec87c=0x1;_0x3ec87c<_0x5d65d6[_0x461b85(0x224)];_0x3ec87c++){_0x5d65d6[_0x3ec87c][_0x461b85(0x1c0)]=!![];}}_0x5a05e4[_0x461b85(0x31a)](_0x145fcd=>{const _0x1f59ad=_0x461b85;if(!_0x145fcd[_0x1f59ad(0x1c0)]){_0x39f135+=_0x145fcd['val'];if(_0x145fcd['type']===0x14){if(_0x145fcd['val']===0x14)_0x52f206=!![];if(_0x145fcd['val']===0x1)_0x237b4f=!![];}const _0x1c3f54=_0x145fcd[_0x1f59ad(0x2a2)]===0x64?'%':_0x145fcd[_0x1f59ad(0x2a2)];_0x3d5cac[_0x1f59ad(0x339)](_0x145fcd[_0x1f59ad(0x34f)]+_0x1f59ad(0x22d)+_0x1c3f54+')'),_0x145fcd['obj'][_0x1f59ad(0x242)][_0x1f59ad(0x227)][_0x1f59ad(0x257)]=0x1,_0x145fcd[_0x1f59ad(0x27b)]['mesh'][_0x1f59ad(0x227)][_0x1f59ad(0x2e0)]=0x0;}else _0x145fcd[_0x1f59ad(0x27b)][_0x1f59ad(0x242)][_0x1f59ad(0x227)][_0x1f59ad(0x257)]=0.2,_0x145fcd[_0x1f59ad(0x27b)][_0x1f59ad(0x242)]['material'][_0x1f59ad(0x2bd)]['setHex'](0x333333),_0x3d5cac[_0x1f59ad(0x339)](_0x1f59ad(0x304)+_0x145fcd['val']+_0x1f59ad(0x29f));showFloatingResult(_0x145fcd['obj'],_0x145fcd[_0x1f59ad(0x34f)]);}),_0x39f135+=_0xda87fd;let _0x418b1d=_0x3d5cac[_0x461b85(0x243)](_0x461b85(0x1cb));if(_0xda87fd!==0x0)_0x418b1d+='\x20'+(_0xda87fd>0x0?'+':'')+_0xda87fd+'\x20(Mod)';isRolling=![],updateResultDisplay(_0x418b1d,_0x39f135);if(_0x52f206)triggerCritEffect('success');else{if(_0x237b4f)triggerCritEffect(_0x461b85(0x254));}const _0x388c84=campaign[_0x461b85(0x319)][activeCharIndex];if(_0x388c84){const _0x3cbaf7=_0x418b1d[_0x461b85(0x25c)](/<[^>]*>?/gm,'');saveHistory(_0x388c84,_0x39f135,_0x3cbaf7);if(!campaign[_0x461b85(0x34b)])campaign[_0x461b85(0x34b)]=[];const _0x278fdb=_0x5a05e4[_0x461b85(0x221)](_0x229414=>_0x229414[_0x461b85(0x2a2)]===0x14&&!_0x229414[_0x461b85(0x1c0)]);campaign[_0x461b85(0x34b)][_0x461b85(0x339)]({'charName':_0x388c84[_0x461b85(0x273)],'charColor':_0x388c84[_0x461b85(0x2bd)],'formula':_0x3cbaf7,'total':_0x39f135,'rawD20':_0x278fdb?_0x278fdb[_0x461b85(0x34f)]:null,'timestamp':new Date()['toLocaleTimeString']([],{'hour':_0x461b85(0x288),'minute':_0x461b85(0x288)})});}saveData();}function triggerCritEffect(_0x2d8738){const _0x39578b=a0_0x32457d,_0x2f6f2d=document['body'];_0x2d8738===_0x39578b(0x2fc)?(_0x2f6f2d[_0x39578b(0x26e)][_0x39578b(0x249)](_0x39578b(0x332)),setTimeout(()=>_0x2f6f2d['classList'][_0x39578b(0x297)](_0x39578b(0x332)),0x3e8)):(_0x2f6f2d['classList'][_0x39578b(0x249)](_0x39578b(0x238),_0x39578b(0x206)),setTimeout(()=>_0x2f6f2d[_0x39578b(0x26e)][_0x39578b(0x297)](_0x39578b(0x238),_0x39578b(0x206)),0x1f4));}function clearDice(){const _0x345bc9=a0_0x32457d;diceObjects[_0x345bc9(0x31a)](_0xe7e18d=>{const _0x4d767a=_0x345bc9;if(_0xe7e18d[_0x4d767a(0x242)])scene[_0x4d767a(0x297)](_0xe7e18d[_0x4d767a(0x242)]);if(_0xe7e18d[_0x4d767a(0x290)])world[_0x4d767a(0x2d4)](_0xe7e18d[_0x4d767a(0x290)]);}),diceObjects=[],clearMagicEffects(),diceTypes[_0x345bc9(0x2be)]()[_0x345bc9(0x31a)](_0x2d7c84=>updateDiceButtonUI(_0x2d7c84,0x0,!![])),updateResultDisplay(_0x345bc9(0x1e6),'0'),isRolling=![],playSound(_0x345bc9(0x34d));}function saveHistory(_0x423612,_0x38278e,_0x292614){const _0x516d94=a0_0x32457d;if(!_0x423612[_0x516d94(0x2b4)])_0x423612[_0x516d94(0x2b4)]=[];_0x423612[_0x516d94(0x2b4)][_0x516d94(0x339)]({'turn':_0x423612['turnCount']||0x1,'total':_0x38278e,'formula':_0x292614}),updateHistoryUI();}function updateHistoryUI(){const _0x15df6d=a0_0x32457d,_0x20f232=campaign[_0x15df6d(0x319)][activeCharIndex],_0x47b0d0=document['getElementById']('historyList');if(!_0x20f232||!_0x47b0d0)return;_0x47b0d0[_0x15df6d(0x1f8)]='';const _0x1f90cf=[..._0x20f232['history']]['reverse']();if(_0x1f90cf[_0x15df6d(0x224)]===0x0){_0x47b0d0['innerHTML']='<li\x20style=\x27text-align:center;\x20opacity:0.5;\x20padding:20px;\x27>Nenhuma\x20rolagem\x20ainda...</li>';return;}_0x1f90cf[_0x15df6d(0x31a)](_0x18d51d=>{const _0x5969e8=_0x15df6d,_0x431050=document[_0x5969e8(0x2eb)]('li');_0x431050[_0x5969e8(0x33e)]=_0x5969e8(0x34e),_0x431050[_0x5969e8(0x1f8)]=_0x5969e8(0x324)+_0x18d51d[_0x5969e8(0x28d)]+_0x5969e8(0x24d)+_0x20f232[_0x5969e8(0x2bd)]+'\x22>'+_0x18d51d[_0x5969e8(0x23b)]+_0x5969e8(0x1bc),_0x47b0d0[_0x5969e8(0x2a6)](_0x431050);});}function toggleHistory(){const _0x1178d2=a0_0x32457d,_0x31c9bb=document[_0x1178d2(0x303)](_0x1178d2(0x271)),_0xb1ef81=document[_0x1178d2(0x303)](_0x1178d2(0x211));if(!_0x31c9bb||!_0xb1ef81)return;const _0xc1c49a=_0x31c9bb[_0x1178d2(0x26e)][_0x1178d2(0x1b0)](_0x1178d2(0x24a));_0xb1ef81[_0x1178d2(0x1b7)]=_0xc1c49a?_0x1178d2(0x322):_0x1178d2(0x302),playSound(_0x1178d2(0x25b));}function animate(){const _0x1a8f29=a0_0x32457d;requestAnimationFrame(animate);const _0x4580a7=clock[_0x1a8f29(0x24f)]();if(world)world[_0x1a8f29(0x31b)](0x1/0x3c,_0x4580a7,0x3);diceObjects[_0x1a8f29(0x31a)](_0x1a49e1=>{const _0x402dda=_0x1a8f29;_0x1a49e1['mesh']&&_0x1a49e1[_0x402dda(0x290)]&&(_0x1a49e1[_0x402dda(0x242)][_0x402dda(0x2c3)][_0x402dda(0x2d6)](_0x1a49e1['body'][_0x402dda(0x2c3)]),_0x1a49e1['mesh'][_0x402dda(0x2ee)]['copy'](_0x1a49e1['body'][_0x402dda(0x2ee)]));});for(let _0x1ed34f=magicEffects[_0x1a8f29(0x224)]-0x1;_0x1ed34f>=0x0;_0x1ed34f--){const _0x205918=magicEffects[_0x1ed34f];_0x205918[_0x1a8f29(0x2f7)]++;if(_0x205918[_0x1a8f29(0x2f7)]<0x64){_0x205918['mainSprite'][_0x1a8f29(0x2c3)]['y']+=0.015;if(_0x205918[_0x1a8f29(0x2f7)]<0x14){const _0x47dbfc=_0x205918[_0x1a8f29(0x2f7)]/0x14;_0x205918[_0x1a8f29(0x2fd)]['scale'][_0x1a8f29(0x334)](_0x47dbfc*2.5,_0x47dbfc*2.5,0x1),_0x205918['mainSprite'][_0x1a8f29(0x227)][_0x1a8f29(0x257)]=_0x47dbfc;}else{if(_0x205918[_0x1a8f29(0x2f7)]>0x50)_0x205918[_0x1a8f29(0x2fd)][_0x1a8f29(0x227)][_0x1a8f29(0x257)]=(0x64-_0x205918[_0x1a8f29(0x2f7)])/0x14;}}if(_0x205918['life']<0x3c&&Math[_0x1a8f29(0x335)]()>0.3){const _0x362f68=new THREE['SpriteMaterial']({'map':sparkleTexture,'transparent':!![],'color':_0x205918[_0x1a8f29(0x2bd)],'opacity':0.8,'blending':THREE[_0x1a8f29(0x2ab)]}),_0x1f5389=new THREE[(_0x1a8f29(0x1e7))](_0x362f68);_0x1f5389[_0x1a8f29(0x2c3)][_0x1a8f29(0x2d6)](_0x205918[_0x1a8f29(0x2fd)][_0x1a8f29(0x2c3)]),_0x1f5389[_0x1a8f29(0x2c3)]['x']+=(Math['random']()-0.5)*0.5,_0x1f5389[_0x1a8f29(0x2c3)]['y']-=0.2,_0x1f5389[_0x1a8f29(0x2cf)][_0x1a8f29(0x334)](0.3,0.3,0x1),scene[_0x1a8f29(0x249)](_0x1f5389),_0x205918[_0x1a8f29(0x1eb)][_0x1a8f29(0x339)]({'mesh':_0x1f5389,'age':0x0});}for(let _0x21e09e=_0x205918[_0x1a8f29(0x1eb)][_0x1a8f29(0x224)]-0x1;_0x21e09e>=0x0;_0x21e09e--){const _0x348fb5=_0x205918[_0x1a8f29(0x1eb)][_0x21e09e];_0x348fb5['age']++,_0x348fb5['mesh'][_0x1a8f29(0x2c3)]['y']-=0.005,_0x348fb5['mesh'][_0x1a8f29(0x227)]['opacity']-=0.03,_0x348fb5[_0x1a8f29(0x242)][_0x1a8f29(0x2cf)][_0x1a8f29(0x1c4)](0.95),_0x348fb5[_0x1a8f29(0x242)]['material']['opacity']<=0x0&&(scene['remove'](_0x348fb5[_0x1a8f29(0x242)]),_0x205918['particles'][_0x1a8f29(0x291)](_0x21e09e,0x1));}_0x205918[_0x1a8f29(0x2f7)]>=0x64&&_0x205918['particles'][_0x1a8f29(0x224)]===0x0&&(scene['remove'](_0x205918[_0x1a8f29(0x2fd)]),magicEffects[_0x1a8f29(0x291)](_0x1ed34f,0x1));}if(renderer&&scene&&camera)renderer[_0x1a8f29(0x2a5)](scene,camera);}document[a0_0x32457d(0x31d)](a0_0x32457d(0x25b),_0x5bddcd=>{const _0x31117f=a0_0x32457d;if(_0x5bddcd['target']['id']==='startCampaignBtn'){playSound(_0x31117f(0x341));return;}if(_0x5bddcd['target']['closest'](_0x31117f(0x21c))||_0x5bddcd['target'][_0x31117f(0x28b)](_0x31117f(0x1fc))){playSound('touch');return;}if(_0x5bddcd['target'][_0x31117f(0x28b)](_0x31117f(0x307)))return;if(_0x5bddcd[_0x31117f(0x2ec)][_0x31117f(0x28b)](_0x31117f(0x253))||_0x5bddcd['target'][_0x31117f(0x28b)]('.dice-btn')||_0x5bddcd[_0x31117f(0x2ec)]['closest'](_0x31117f(0x283))||_0x5bddcd[_0x31117f(0x2ec)][_0x31117f(0x28b)](_0x31117f(0x259))||_0x5bddcd[_0x31117f(0x2ec)][_0x31117f(0x28b)]('i'))playSound(_0x31117f(0x25b));setupModPicker();});function handleDiceCollision(_0x172d4b){const _0x5f0d29=a0_0x32457d;if(typeof lastSoundTime==='undefined'){console[_0x5f0d29(0x2d8)]('ERRO:\x20Adicione\x20\x27const\x20lastSoundTime\x20=\x20{};\x27\x20no\x20topo\x20do\x20script!');return;}let _0x2f4186=0x0;if(_0x172d4b[_0x5f0d29(0x23e)]&&_0x172d4b[_0x5f0d29(0x23e)]['getImpactVelocityAlongNormal'])_0x2f4186=Math[_0x5f0d29(0x33f)](_0x172d4b[_0x5f0d29(0x23e)][_0x5f0d29(0x2ef)]());else _0x172d4b[_0x5f0d29(0x23e)]&&_0x172d4b[_0x5f0d29(0x23e)]['bi']&&_0x172d4b[_0x5f0d29(0x23e)]['bj']&&(_0x2f4186=0x1);if(_0x2f4186<0.8)return;const _0x8640f0=_0x172d4b[_0x5f0d29(0x290)]['id'],_0x216ec7=Date[_0x5f0d29(0x1ca)]();if(lastSoundTime[_0x8640f0]&&_0x216ec7-lastSoundTime[_0x8640f0]<0x32)return;lastSoundTime[_0x8640f0]=_0x216ec7;let _0x2a8ab2=Math[_0x5f0d29(0x28e)](_0x2f4186/0xf,0x1);playSound(_0x5f0d29(0x29a),_0x2a8ab2);}function setupModPicker(){const _0xbc4c1f=a0_0x32457d,_0x2ce5ed=document[_0xbc4c1f(0x303)](_0xbc4c1f(0x2e9));if(!_0x2ce5ed)return;_0x2ce5ed[_0xbc4c1f(0x1f8)]='';for(let _0x506622=-0xa;_0x506622<=0xa;_0x506622++){const _0x313034=document[_0xbc4c1f(0x2eb)](_0xbc4c1f(0x253));_0x313034[_0xbc4c1f(0x33e)]=_0xbc4c1f(0x251),_0x313034[_0xbc4c1f(0x1b7)]=(_0x506622>0x0?'+':'')+_0x506622,_0x313034[_0xbc4c1f(0x26b)]=()=>selectMod(_0x506622),_0x2ce5ed['appendChild'](_0x313034);}}function toggleModPicker(){const _0x490b39=a0_0x32457d,_0x320dd3=document[_0x490b39(0x303)](_0x490b39(0x260)),_0x28c908=_0x320dd3[_0x490b39(0x2bb)][_0x490b39(0x308)]===_0x490b39(0x318);_0x320dd3[_0x490b39(0x2bb)]['display']=_0x28c908?_0x490b39(0x234):_0x490b39(0x318),_0x28c908&&(playSound(_0x490b39(0x25b)),highlightActiveMod());}function selectMod(_0x14558d){const _0x2fba35=a0_0x32457d,_0x24ca13=document[_0x2fba35(0x303)](_0x2fba35(0x2fa)),_0x2b47e8=document[_0x2fba35(0x303)](_0x2fba35(0x32b));_0x24ca13[_0x2fba35(0x1f7)]=_0x14558d,_0x2b47e8['innerText']=(_0x14558d>0x0?'+':'')+_0x14558d;if(campaign[_0x2fba35(0x319)][activeCharIndex])campaign[_0x2fba35(0x319)][activeCharIndex][_0x2fba35(0x20c)]=_0x14558d;saveData(),toggleModPicker(),playSound(_0x2fba35(0x34d));}function highlightActiveMod(){const _0x2267f0=a0_0x32457d,_0x3117d2=parseInt(document[_0x2267f0(0x303)](_0x2267f0(0x2fa))[_0x2267f0(0x1f7)])||0x0;document[_0x2267f0(0x1cf)](_0x2267f0(0x2d7))[_0x2267f0(0x31a)](_0x4a0082=>{const _0x55ac0a=_0x2267f0,_0x2b7acf=parseInt(_0x4a0082[_0x55ac0a(0x1b7)]);_0x4a0082[_0x55ac0a(0x26e)][_0x55ac0a(0x1b0)](_0x55ac0a(0x1ea),_0x2b7acf===_0x3117d2);});}function setRollMode(_0x4881ec){const _0x26c271=a0_0x32457d;rollMode=_0x4881ec;if(campaign[_0x26c271(0x319)][activeCharIndex])campaign['characters'][activeCharIndex][_0x26c271(0x1ec)]=_0x4881ec;const _0x1ea368=document[_0x26c271(0x303)]('cycleVantBtn');if(!_0x1ea368)return;_0x1ea368[_0x26c271(0x26e)][_0x26c271(0x297)](_0x26c271(0x325),'mode-adv','mode-dis');if(_0x4881ec===_0x26c271(0x237))_0x1ea368['innerText']=_0x26c271(0x1e3),_0x1ea368[_0x26c271(0x26e)][_0x26c271(0x249)]('mode-norm');else{if(_0x4881ec===_0x26c271(0x289))_0x1ea368[_0x26c271(0x1b7)]=_0x26c271(0x1dd),_0x1ea368['classList'][_0x26c271(0x249)]('mode-adv');else _0x4881ec===_0x26c271(0x2a0)&&(_0x1ea368['innerText']=_0x26c271(0x315),_0x1ea368[_0x26c271(0x26e)]['add'](_0x26c271(0x222)));}}function cycleRollMode(){const _0x4e18cc=a0_0x32457d;playSound('click');if(rollMode===_0x4e18cc(0x237))setRollMode('advantage');else{if(rollMode==='advantage')setRollMode('disadvantage');else setRollMode('normal');}}function openGlobalLog(){const _0x4c7236=a0_0x32457d,_0x4d6b9f=document[_0x4c7236(0x303)](_0x4c7236(0x2c6)),_0x27bec1=document[_0x4c7236(0x303)]('globalLogList');if(!campaign[_0x4c7236(0x34b)])campaign['globalLog']=[];let _0x5b7868={};campaign[_0x4c7236(0x34b)][_0x4c7236(0x31a)](_0x5ae2a6=>{const _0x5ce9fd=_0x4c7236;if(_0x5ae2a6['rawD20']!==null&&_0x5ae2a6[_0x5ce9fd(0x2b3)]!==undefined){if(!_0x5b7868[_0x5ae2a6[_0x5ce9fd(0x1f2)]])_0x5b7868[_0x5ae2a6[_0x5ce9fd(0x1f2)]]={'sum':0x0,'count':0x0};_0x5b7868[_0x5ae2a6[_0x5ce9fd(0x1f2)]][_0x5ce9fd(0x1e0)]+=_0x5ae2a6[_0x5ce9fd(0x2b3)],_0x5b7868[_0x5ae2a6[_0x5ce9fd(0x1f2)]][_0x5ce9fd(0x2b8)]++;}});let _0x48fb10=-0x1,_0x24c781=0x15,_0x2bd982='--',_0x3b9166='--';for(const [_0x435f03,_0xaeddbb]of Object['entries'](_0x5b7868)){if(_0xaeddbb['count']>0x0){const _0x22ce51=_0xaeddbb[_0x4c7236(0x1e0)]/_0xaeddbb[_0x4c7236(0x2b8)];_0x22ce51>_0x48fb10&&(_0x48fb10=_0x22ce51,_0x2bd982=_0x435f03),_0x22ce51<_0x24c781&&(_0x24c781=_0x22ce51,_0x3b9166=_0x435f03);}}document[_0x4c7236(0x303)](_0x4c7236(0x274))[_0x4c7236(0x1b7)]=_0x2bd982,document['getElementById'](_0x4c7236(0x201))[_0x4c7236(0x1b7)]=_0x48fb10>-0x1?_0x4c7236(0x34a)+_0x48fb10['toFixed'](0x1):_0x4c7236(0x240),document['getElementById'](_0x4c7236(0x252))[_0x4c7236(0x1b7)]=_0x3b9166,document[_0x4c7236(0x303)](_0x4c7236(0x351))[_0x4c7236(0x1b7)]=_0x24c781<0x15?'Média:\x20'+_0x24c781[_0x4c7236(0x345)](0x1):_0x4c7236(0x240),_0x27bec1[_0x4c7236(0x1f8)]='',[...campaign[_0x4c7236(0x34b)]][_0x4c7236(0x29c)]()[_0x4c7236(0x31a)](_0x3e0fe5=>{const _0x3cecee=_0x4c7236,_0xa8affb=document[_0x3cecee(0x2eb)]('li');_0xa8affb['className']='global-log-entry';let _0x3d4a39=_0x3cecee(0x233);if(_0x3e0fe5[_0x3cecee(0x2b3)]===0x14)_0x3d4a39+=_0x3cecee(0x25e);if(_0x3e0fe5['rawD20']===0x1)_0x3d4a39+=_0x3cecee(0x33a);_0xa8affb[_0x3cecee(0x1f8)]=_0x3cecee(0x326)+_0x3e0fe5['charColor']+'\x22>'+_0x3e0fe5[_0x3cecee(0x1f2)]+_0x3cecee(0x1d2)+_0x3e0fe5[_0x3cecee(0x21e)]+_0x3cecee(0x204)+_0x3d4a39+'\x22>'+_0x3e0fe5[_0x3cecee(0x23b)]+_0x3cecee(0x1bb)+_0x3e0fe5['formula']+_0x3cecee(0x295),_0x27bec1[_0x3cecee(0x2a6)](_0xa8affb);}),_0x4d6b9f['style'][_0x4c7236(0x308)]='flex',playSound(_0x4c7236(0x25b));}function openCompendium(){const _0x1c496d=a0_0x32457d,_0x716ee0=document[_0x1c496d(0x303)](_0x1c496d(0x2dc));if(_0x716ee0){_0x716ee0[_0x1c496d(0x2bb)][_0x1c496d(0x308)]='flex';if(typeof rulesData!==_0x1c496d(0x244))renderRules(rulesData);playSound(_0x1c496d(0x25b));}}function getLevelValue(_0x15090b){const _0x3abe88=a0_0x32457d;if(_0x15090b['category']!=='spell')return-0x1;if(_0x15090b[_0x3abe88(0x2a9)][_0x3abe88(0x32e)]('Truque'))return 0x0;const _0x59dc6a=_0x15090b['meta'][_0x3abe88(0x29b)](/(\d+)º/);return _0x59dc6a?parseInt(_0x59dc6a[0x1]):0x0;}function getSortPriority(_0x2157cf){const _0x5f4857=a0_0x32457d;if(_0x2157cf['title']['includes'](_0x5f4857(0x350)))return 0x1;if(_0x2157cf['title'][_0x5f4857(0x32e)]('Traços\x20Principais'))return 0x2;const _0x4e1543=_0x2157cf[_0x5f4857(0x2a9)]?_0x2157cf[_0x5f4857(0x2a9)]['match'](/Nível (\d+)/):null;if(_0x4e1543)return 0xa+parseInt(_0x4e1543[0x1]);if(_0x2157cf['meta']&&_0x2157cf[_0x5f4857(0x2a9)][_0x5f4857(0x32e)](_0x5f4857(0x1b1)))return 0x64;return 0x32;}function renderRules(_0x1aaf76){const _0x312438=a0_0x32457d,_0xe12707=document[_0x312438(0x303)](_0x312438(0x309));if(!_0xe12707)return;_0xe12707[_0x312438(0x1f8)]='';if(_0x1aaf76[_0x312438(0x224)]===0x0){_0xe12707['innerHTML']='<div\x20style=\x27text-align:center;\x20color:#5d4037;\x20margin-top:20px;\x27>Nenhum\x20conhecimento\x20encontrado...</div>';return;}const _0x8c38c5=[..._0x1aaf76][_0x312438(0x352)]((_0x5cbce6,_0x29082a)=>{const _0x948fd6=_0x312438,_0x3b0477={'basics':0x0,'condition':0x1,'action':0x2,'combat':0x3,'env':0x4,'class':0x5,'species':0x6,'feat':0x7,'spell':0x8,'equipment':0x9},_0x5a44e3=_0x3b0477[_0x5cbce6[_0x948fd6(0x1b3)]]!==undefined?_0x3b0477[_0x5cbce6[_0x948fd6(0x1b3)]]:0x63,_0x479054=_0x3b0477[_0x29082a[_0x948fd6(0x1b3)]]!==undefined?_0x3b0477[_0x29082a[_0x948fd6(0x1b3)]]:0x63;if(_0x5a44e3!==_0x479054)return _0x5a44e3-_0x479054;if([_0x948fd6(0x1db),_0x948fd6(0x28f),_0x948fd6(0x213),_0x948fd6(0x261),'feat'][_0x948fd6(0x32e)](_0x5cbce6['category'])){if(_0x5cbce6['parentClass']!==_0x29082a[_0x948fd6(0x25a)])return _0x5cbce6[_0x948fd6(0x25a)][_0x948fd6(0x205)](_0x29082a['parentClass']);const _0x4e2b80=typeof getSortPriority===_0x948fd6(0x26a)?getSortPriority(_0x5cbce6):0x32,_0x270cfd=typeof getSortPriority==='function'?getSortPriority(_0x29082a):0x32;if(_0x4e2b80!==_0x270cfd)return _0x4e2b80-_0x270cfd;}const _0x4a9e6e=typeof getLevelValue===_0x948fd6(0x26a)?getLevelValue(_0x5cbce6):0x0,_0xca8e84=typeof getLevelValue==='function'?getLevelValue(_0x29082a):0x0;if(_0x4a9e6e!==_0xca8e84)return _0x4a9e6e-_0xca8e84;return _0x5cbce6[_0x948fd6(0x2d9)][_0x948fd6(0x205)](_0x29082a['title']);});let _0x51a613='';_0x8c38c5['forEach'](_0x436982=>{const _0x55747d=_0x312438;let _0x50bb10='',_0x1b4e36='';if(_0x436982[_0x55747d(0x1b3)]===_0x55747d(0x2cc)){const _0x751a94=getLevelValue(_0x436982);_0x50bb10=_0x751a94===0x0?'Truques\x20(Nível\x200)':_0x55747d(0x2c2)+_0x751a94+'º',_0x1b4e36=_0x55747d(0x2f2)+_0x751a94;}else{if([_0x55747d(0x1db),'class',_0x55747d(0x213),_0x55747d(0x261),'feat'][_0x55747d(0x32e)](_0x436982[_0x55747d(0x1b3)])){_0x50bb10=_0x436982[_0x55747d(0x25a)];const _0x27d71b=_0x50bb10['toLowerCase']()['normalize']('NFD')[_0x55747d(0x25c)](/[\u0300-\u036f]/g,'')[_0x55747d(0x25c)](/\s+/g,'');_0x1b4e36=_0x55747d(0x1d7)+_0x27d71b;}else _0x50bb10=null;}if(_0x50bb10&&_0x51a613!==_0x50bb10){_0x51a613=_0x50bb10;const _0x22de85=document[_0x55747d(0x2eb)](_0x55747d(0x1fd));_0x22de85[_0x55747d(0x33e)]=_0x55747d(0x1c8)+_0x1b4e36,_0x22de85[_0x55747d(0x1b7)]=_0x50bb10,_0xe12707[_0x55747d(0x2a6)](_0x22de85);}const _0x496d64=document[_0x55747d(0x2eb)](_0x55747d(0x1fd));_0x496d64[_0x55747d(0x33e)]=_0x55747d(0x258);let _0x3ddf1a=translateCategory(_0x436982[_0x55747d(0x1b3)]),_0x193267='';if(['class','species','equipment','feat'][_0x55747d(0x32e)](_0x436982[_0x55747d(0x1b3)])){_0x3ddf1a=_0x436982['parentClass'];const _0x3650c9=_0x3ddf1a[_0x55747d(0x21a)]()[_0x55747d(0x28c)]('NFD')[_0x55747d(0x25c)](/[\u0300-\u036f]/g,'')[_0x55747d(0x25c)](/\s+/g,'');_0x193267=_0x55747d(0x293)+_0x3650c9;}else _0x193267=_0x55747d(0x293)+_0x436982[_0x55747d(0x1b3)];let _0x6e528=_0x436982['meta']?_0x55747d(0x248)+_0x436982[_0x55747d(0x2a9)]+_0x55747d(0x27c):'';_0x496d64['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x436982[_0x55747d(0x2d9)]+_0x55747d(0x29e)+_0x193267+_0x55747d(0x266)+(_0x436982[_0x55747d(0x1b3)]==='spell'?_0x55747d(0x342):'')+'\x22>'+_0x3ddf1a+_0x55747d(0x299)+_0x6e528+_0x55747d(0x27e)+_0x436982[_0x55747d(0x357)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xe12707[_0x55747d(0x2a6)](_0x496d64);});}function translateCategory(_0x205d56){const _0x2d4a3e=a0_0x32457d;if(_0x205d56===_0x2d4a3e(0x1db))return _0x2d4a3e(0x296);if(_0x205d56===_0x2d4a3e(0x28a))return'Condição';if(_0x205d56===_0x2d4a3e(0x203))return _0x2d4a3e(0x1f4);if(_0x205d56==='combat')return'Regra';if(_0x205d56===_0x2d4a3e(0x2cc))return _0x2d4a3e(0x356);if(_0x205d56==='env')return _0x2d4a3e(0x2ba);if(_0x205d56===_0x2d4a3e(0x213))return _0x2d4a3e(0x1d8);if(_0x205d56==='equipment')return _0x2d4a3e(0x202);if(_0x205d56==='feat')return _0x2d4a3e(0x2c0);return _0x205d56;}function filterRules(){const _0x47fb72=a0_0x32457d,_0x54119c=document[_0x47fb72(0x303)](_0x47fb72(0x1f1));if(!_0x54119c||typeof rulesData===_0x47fb72(0x244))return;const _0x526619=normalizeText(_0x54119c[_0x47fb72(0x1f7)][_0x47fb72(0x2d1)]());let _0x3cfcdf=_0x526619;_0x526619[_0x47fb72(0x224)]>0x3&&(_0x3cfcdf=_0x526619['replace'](/(r|s)$/,''));const _0x15d030=rulesData[_0x47fb72(0x263)](_0x3b7f32=>{const _0x4afc8d=_0x47fb72,_0x541bef=normalizeText(_0x3b7f32[_0x4afc8d(0x2d9)]),_0x4778d9=normalizeText(_0x3b7f32[_0x4afc8d(0x357)]),_0x54c8bb=normalizeText(_0x3b7f32[_0x4afc8d(0x2a9)]||''),_0x2f9d7a=_0x541bef['includes'](_0x526619)||_0x541bef[_0x4afc8d(0x32e)](_0x3cfcdf),_0x30f23e=_0x4778d9[_0x4afc8d(0x32e)](_0x526619)||_0x4778d9[_0x4afc8d(0x32e)](_0x3cfcdf),_0x1e3f85=_0x54c8bb[_0x4afc8d(0x32e)](_0x526619)||_0x54c8bb['includes'](_0x3cfcdf);return _0x2f9d7a||_0x30f23e||_0x1e3f85;});renderRules(_0x15d030),document['querySelectorAll']('.cat-btn')[_0x47fb72(0x31a)](_0x3f8361=>_0x3f8361['classList'][_0x47fb72(0x297)]('active'));}function normalizeText(_0x45f105){const _0x5b3e31=a0_0x32457d;if(!_0x45f105)return'';return _0x45f105[_0x5b3e31(0x28c)](_0x5b3e31(0x26d))['replace'](/[\u0300-\u036f]/g,'')[_0x5b3e31(0x21a)]();}function a0_0x52a5(){const _0x15fb56=['value','innerHTML','arrayBuffer','stop',';\x20font-weight:bold;\x22>','.avatar-option','div','addBody','charListPreview','shadowBlur','statLuckyVal','Item','action','</span></div><div\x20class=\x22log-result-box\x22><span\x20class=\x22','localeCompare','shake-effect','aspect','avatarGrid','Cylinder','querySelector','dice-btn','modifier','textBaseline','webkitAudioContext','backgroundColor','reload','toggleHistoryBtn','Rollen:\x20O\x20carregamento\x20demorou\x20demais.\x20Forçando\x20entrada.','species','rollen_save_v1','buffer','startCampaignBtn','broadphase','max','crit','toLowerCase','gain','.char-tab','shadowMap','timestamp','<img\x20src=\x22tieflingm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20M\x22>','selected','find','mode-dis','--glow-spread','length','<img\x20src=\x22elfhighf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfa\x22>','3948aNGoTw','material','activeCharIndex','World','Erro\x20ao\x20salvar','<img\x20src=\x22elfwoodm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20M\x22>','ondragend','\x20(D','slice','addCharBtn','btn-d','SpriteMaterial','iterations','log-total','flex','0.5','powerBar','normal','crit-fail-flash','\x20<span\x20class=\x22dice-count\x22\x20id=\x22count-d','avatar','total','devicePixelRatio','stopped','contact','Erro\x20ao\x20adicionar\x20personagem.\x20Tente\x20\x27Reiniciar\x20Jornada\x27\x20nas\x20configurações.','Média:\x20-','<img\x20src=\x22halforcf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20F\x22>','mesh','join','undefined','borderColor','<img\x20src=\x22aesimarm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','width','<div\x20style=\x22font-size:0.75rem;\x20color:#d84315;\x20font-style:italic;\x20margin-bottom:8px;\x20border-bottom:1px\x20dashed\x20rgba(0,0,0,0.1);\x20padding-bottom:4px;\x22>','add','open','touchend','<img\x20src=\x22familiar.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Familiar\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-equals\x22>=</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-total\x22\x20style=\x22color:','char-tab\x20','getDelta','ATENÇÃO:\x20Isso\x20apagará\x20permanentemente\x20todos\x20os\x20seus\x20heróis\x20e\x20a\x20campanha\x20atual.\x20Deseja\x20continuar?','mod-btn','statUnluckyName','button','fail','./throw.mp3','getItem','opacity','rule-card','select','parentClass','click','replace','CanvasTexture','\x20log-crit-success',',0)','modPickerModal','equipment','addContactMaterial','filter','canvasContainer','</div><span\x20style=\x22color:','\x22\x20style=\x22background:','log','<img\x20src=\x22humanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','castShadow','function','onclick','TetrahedronGeometry','NFD','classList','IcosahedronGeometry','Body','historyPanel','getContext','name','statLuckyName','dice-pair-wrapper','removeEventListener','PCFSoftShadowMap','setupModal','4nVdocb','Save\x20corrompido,\x20resetando.','obj','</div>','40jWEqns','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rule-desc\x22>','Erro\x20carregando\x20som:\x20','state','<img\x20src=\x22elfdrowf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Drow\x20F\x22>','97155NpoTmV','input','center','col','<img\x20src=\x22goliathf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Goliath\x20F\x22>','./hold.mp3','2-digit','advantage','condition','closest','normalize','formula','min','class','body','splice','SphereGeometry','tag-','height','</span></div>','Básico','remove','657863cOyQeF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','collide','match','reverse','PerspectiveCamera','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rule-tag\x20','</span>','disadvantage','then','type','currentAvatarDisplay','78099XWYnVZ','render','appendChild','https://apoia.se/rollenapp','5087070bgdTjH','meta','addColorStop','AdditiveBlending','master','rgba(255,255,255,0)','./collide4.mp3','isGameRunning','parentNode','<img\x20src=\x22boss.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Chefe\x22>','count-d','rawD20','history','resume','decodeAudioData','keyCode','count','Math','Ambiente','style','norm','color','flat','true','Talento','wakeUp','Círculo\x20','position','suspended','Mesh','globalLogModal','Plane','createRadialGradient','charCodeAt','#ffffff','entries','spell','left','removeProperty','scale','angularVelocity','trim','Zerar\x20histórico?','<div\x20class=\x22tab-avatar\x22>','removeBody','Material','copy','.mod-btn','error','title','isArray','shadowColor','compendiumModal','<img\x20src=\x22monster.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Monstro\x22>','<img\x20src=\x22halfelfm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Meio\x20Elfo\x22>','DirectionalLight','emissiveIntensity','2626353Meerwf','charged','20jlbDVP','gravity','campaign','.cat-btn','mouseup','Erro\x203D:','modGrid','4010322oyCuoO','createElement','target','setPixelRatio','quaternion','getImpactVelocityAlongNormal','cancelable','loopEnd','lvl-','PointLight','map','rgba(','right','life','<img\x20src=\x22dragonbornm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Dracono\x22>','<img\x20src=\x22aesimarf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Aesimar\x20M\x22>','modInput','throw','success','mainSprite','bottom','./start.mp3','appContainer','fillStyle','Ver\x20Histórico','getElementById','<span\x20style=\x22text-decoration:\x20line-through;\x20opacity:\x200.5;\x22>','ondragover','canvas','#rollBtn','display','rulesList','rollBtn','./click.mp3','<img\x20src=\x22elfhighm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22High\x20Elfo\x22>','preventDefault','./collide1.mp3','splash-hidden','nat1-effect','middle','./touch.mp3','shoot','is-pressing','DESVANTAGEM','loop','mute','none','characters','forEach','step','<img\x20src=\x22tieflingf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Tiefling\x20F\x22>','addEventListener','charTabsContainer','draggable','<img\x20src=\x22humanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>',',0.6)','Ocultar\x20Histórico','NaiveBroadphase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22roll-formula\x22>','mode-norm','<div\x20class=\x22log-meta\x22><span\x20class=\x22log-char-name\x22\x20style=\x22color:\x20','onended','avatar-option\x20','renderOrder','Vec3','modDisplay','settingsMenu','stringify','includes','WebGLRenderer','top','fill','crit-success-flash','./fumble.mp3','set','random','disabled','diceSelector','createGain','push','\x20log-crit-fail','resultTotal','shapes','.color-picker-wrapper','className','abs','contains','start','#7b1fa2','resize','domElement','toFixed','textAlign','campaignNameInput','#ffb300','Aventura','Média:\x20','globalLog','font','touch','roll-entry','val','Visão\x20Geral','statUnluckyVal','sort','fov','bold\x20110px\x20Arial','VOLTAR\x20AO\x20JOGO','Magia','text','updateProjectionMatrix','toggle','Subclasse','60456bwyycC','category','dataTransfer','tan','./collide5.mp3','innerText','952yGGzDQ','Erro\x20ao\x20adicionar:','connect','</span><span\x20class=\x22log-formula\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<img\x20src=\x22gnomem.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Gnomo\x22>','lookAt','createBuffer','ignored','cloneNode','<img\x20src=\x22halforcm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Orc\x20M\x22>','parse','multiplyScalar','clear','<img\x20src=\x22bhumanm.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humano\x22>','documentElement','level-header\x20','ondragstart','now','\x20+\x20','<img\x20src=\x22elfwoodf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Elfo\x20da\x20Floresta\x20F\x22>','solver','velocity','querySelectorAll','touchstart','add-char-tab','</span><span\x20class=\x22log-time\x22>','fumble','<img\x20src=\x22bhumanf.png\x22\x20class=\x22avatar-img\x22\x20alt=\x22Humana\x22>','Box','svg','header-','Raça','setFromAxisAngle','Áudio\x20desbloqueado\x20para\x20iOS','basics','splash-screen','VANTAGEM','charColorInput','BoxGeometry','sum','createBufferSource','_blank','NORMAL','setSize','ctrlKey','Adicione\x20dados...','Sprite','destination','contextmenu','active','particles','rollMode','Clock','fillText','</div>\x20','floor','ruleSearch','charName','onkeydown','Ação','\x22>0</span>','Erro\x20loadData'];a0_0x52a5=function(){return _0x15fb56;};return a0_0x52a5();}function filterCategory(_0x24ccc3){const _0x5417b4=a0_0x32457d;document[_0x5417b4(0x1cf)](_0x5417b4(0x2e6))[_0x5417b4(0x31a)](_0x30f906=>_0x30f906[_0x5417b4(0x26e)][_0x5417b4(0x297)](_0x5417b4(0x1ea)));if(event&&event[_0x5417b4(0x2ec)])event['target'][_0x5417b4(0x26e)][_0x5417b4(0x249)](_0x5417b4(0x1ea));const _0x2f16bf=document[_0x5417b4(0x303)](_0x5417b4(0x1f1));if(_0x2f16bf)_0x2f16bf['value']='';if(typeof rulesData==='undefined')return;if(_0x24ccc3==='all')renderRules(rulesData);else{const _0x319d23=rulesData['filter'](_0x48751f=>_0x48751f[_0x5417b4(0x1b3)]===_0x24ccc3);renderRules(_0x319d23);}}function setupEventListeners(){const _0x1e5cb8=a0_0x32457d,_0x5c2d39=document[_0x1e5cb8(0x303)](_0x1e5cb8(0x30a));if(_0x5c2d39){const _0x10ba1c=_0x5c2d39[_0x1e5cb8(0x1c1)](!![]);_0x5c2d39[_0x1e5cb8(0x2b0)]['replaceChild'](_0x10ba1c,_0x5c2d39);const _0x1bd810=document[_0x1e5cb8(0x303)](_0x1e5cb8(0x30a));_0x1bd810[_0x1e5cb8(0x31d)]('mousedown',startCharging),window[_0x1e5cb8(0x31d)](_0x1e5cb8(0x2e7),releaseRoll),_0x1bd810[_0x1e5cb8(0x31d)]('touchstart',startCharging,{'passive':![]}),window[_0x1e5cb8(0x31d)](_0x1e5cb8(0x24b),releaseRoll);}const _0x53d52f=document['getElementById'](_0x1e5cb8(0x22f));if(_0x53d52f)_0x53d52f['onclick']=addCharacterPreview;const _0x39b1c1=document[_0x1e5cb8(0x303)](_0x1e5cb8(0x216));if(_0x39b1c1)_0x39b1c1[_0x1e5cb8(0x26b)]=startCampaign;const _0x581650=document[_0x1e5cb8(0x303)]('clearBtn');if(_0x581650)_0x581650[_0x1e5cb8(0x26b)]=clearDice;const _0x218784=document['getElementById'](_0x1e5cb8(0x211));if(_0x218784)_0x218784['onclick']=toggleHistory;window['addEventListener'](_0x1e5cb8(0x343),refreshCanvasSize);}document['addEventListener']('DOMContentLoaded',()=>{setupEventListeners();});function openDonation(){const _0x42878b=a0_0x32457d,_0x2171f8=_0x42878b(0x2a7);playSound('click'),window[_0x42878b(0x24a)](_0x2171f8,_0x42878b(0x1e2));}document[a0_0x32457d(0x31d)](a0_0x32457d(0x1e9),_0x2c5762=>_0x2c5762[a0_0x32457d(0x30d)]()),document[a0_0x32457d(0x1f3)]=function(_0x4a4981){const _0x56b820=a0_0x32457d;if(_0x4a4981[_0x56b820(0x2b7)]==0x7b)return![];if(_0x4a4981[_0x56b820(0x1e5)]&&_0x4a4981['shiftKey']&&(_0x4a4981['keyCode']=='I'['charCodeAt'](0x0)||_0x4a4981['keyCode']=='C'[_0x56b820(0x2c9)](0x0)||_0x4a4981[_0x56b820(0x2b7)]=='J'[_0x56b820(0x2c9)](0x0)))return![];if(_0x4a4981[_0x56b820(0x1e5)]&&_0x4a4981[_0x56b820(0x2b7)]=='U'['charCodeAt'](0x0))return![];};function hideSplashScreen(){const _0x5e3437=a0_0x32457d,_0x34c86c=document['getElementById'](_0x5e3437(0x1dc));_0x34c86c&&(console['log']('Rollen:\x20Finalizando\x20carregamento...'),_0x34c86c[_0x5e3437(0x26e)][_0x5e3437(0x249)](_0x5e3437(0x30f)),setTimeout(()=>{const _0x113706=_0x5e3437;_0x34c86c[_0x113706(0x2bb)][_0x113706(0x308)]=_0x113706(0x318);},0x320));}window['addEventListener']('load',hideSplashScreen),setTimeout(()=>{const _0x1b9f78=a0_0x32457d,_0x16de84=document[_0x1b9f78(0x303)](_0x1b9f78(0x1dc));_0x16de84&&!_0x16de84['classList'][_0x1b9f78(0x340)](_0x1b9f78(0x30f))&&(console['warn'](_0x1b9f78(0x212)),hideSplashScreen());},0x1388);